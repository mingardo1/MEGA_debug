<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>203</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        abbr {
                          /* Here is the delay */
                          transition-delay:0s;
                        }
                    </style>
              </head>
              <body>
                <span style="height: 4vh">
                    203
                    <a href="202.html">prev</a>
                    <a href="204.html">next</a>
                    <a href="203_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_7372a30b9f3190df28e61f8437f110c95d36b4fa_admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/web/form/component/ListGrid.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;7372a30b9f3190df28e61f8437f110c95d36b4fa:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/web/form/component/ListGrid.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;7372a30b9f3190df28e61f8437f110c95d36b4fa^1:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/web/form/component/ListGrid.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;7372a30b9f3190df28e61f8437f110c95d36b4fa^2:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/web/form/component/ListGrid.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;65989a8b6469e6f21626a6b7292822865b1618ba:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/web/form/component/ListGrid.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre>   1 /*
   2  * #%L
   3  * BroadleafCommerce Open Admin Platform
   4  * %%
   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6  * %%
   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10  * the Broadleaf End User License Agreement (EULA), Version 1.1
  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12  * shall apply.
  13  * 
<abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr>
<abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr>
  16  * #L%
  17  */
  18 
  19 package org.broadleafcommerce.openadmin.web.form.component;
  20 
  21 import org.apache.commons.collections.CollectionUtils;
  22 import org.apache.commons.lang3.StringUtils;
  23 import org.apache.commons.lang3.builder.CompareToBuilder;
  24 import org.broadleafcommerce.common.presentation.client.AddMethodType;
  25 import org.broadleafcommerce.common.util.TypedPredicate;
  26 import org.broadleafcommerce.openadmin.dto.SectionCrumb;
  27 import org.broadleafcommerce.openadmin.server.service.type.FetchType;
  28 import org.broadleafcommerce.openadmin.web.form.entity.Field;
  29 import org.broadleafcommerce.openadmin.web.rulebuilder.dto.DataWrapper;
  30 import org.broadleafcommerce.openadmin.web.rulebuilder.dto.FieldWrapper;
  31 
  32 import java.util.ArrayList;
  33 import java.util.Comparator;
  34 import java.util.List;
  35 import java.util.Set;
  36 import java.util.TreeSet;
  37 
  38 public class ListGrid {
  39 
  40     protected String className;
  41     protected String friendlyName = null;
  42     protected String idProperty;
  43     protected int order;
  44     protected boolean isSortable;
  45 
  46     protected boolean hideFriendlyName;
  47 
  48     protected Set&lt;Field&gt; headerFields = new TreeSet&lt;Field&gt;(new Comparator&lt;Field&gt;() {
  49 
  50         @Override
  51         public int compare(Field o1, Field o2) {
  52             return new CompareToBuilder()
  53                     .append(o1.getOrder(), o2.getOrder())
  54                     .append(o1.getFriendlyName(), o2.getFriendlyName())
  55                     .append(o1.getName(), o2.getName())
  56                     .toComparison();
  57         }
  58     });
  59     protected List&lt;ListGridRecord&gt; records = new ArrayList&lt;ListGridRecord&gt;();
  60     protected List&lt;ListGridAction&gt; toolbarActions = new ArrayList&lt;ListGridAction&gt;();
  61     
<abbr title="  62     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  62     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
  63     protected List&lt;ListGridAction&gt; rowActions = new ArrayList&lt;ListGridAction&gt;();
  64 
  65     protected List&lt;ListGridActionGroup&gt; toolbarActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  66     protected List&lt;ListGridActionGroup&gt; rowActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  67 
<abbr title="  68     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  68     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
  69     protected List&lt;ListGridAction&gt; modalRowActions = new ArrayList&lt;ListGridAction&gt;();
  70     protected int totalRecords;
  71     protected int startIndex;
  72     protected int pageSize;
  73     protected Boolean canFilterAndSort;
  74     protected Boolean isReadOnly;
  75     protected Boolean hideIdColumn;
  76     protected String fetchType = FetchType.DEFAULT.toString();
  77     protected long firstId;
  78     protected long lastId;
  79     protected int upperCount;
  80     protected int lowerCount;
  81     protected boolean totalCountLessThanPageSize;
  82     protected boolean promptSearch;
  83 
  84     // If true, only clicking the check box area will toggle the row selection when using multi select
  85     protected boolean multiSelectCheckBoxOnly;
  86 
  87     protected AddMethodType addMethodType;
  88     protected String listGridType;
  89     protected String selectType;
  90 
  91     protected String selectizeUrl;
  92 
  93     protected Boolean manualFetch;
  94     protected String helpText;
  95 
  96     // The section url that maps to this particular list grid
  97     protected String sectionKey;
  98 
<abbr title="  99     // The list of all section keys that have been traversed to arrive at this ListGrid (including the current one), in order">  99     // The list of all section keys that have been traversed to arrive at this ListGrid (including the cuðŸ”µ</abbr>
 100     // of occurrence
 101     protected List&lt;SectionCrumb&gt; sectionCrumbs = new ArrayList&lt;SectionCrumb&gt;();
 102 
<abbr title=" 103     // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these properties"> 103     // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these prðŸ”µ</abbr>
 104     // help identify the parent entity.
 105     protected String externalEntitySectionKey;
 106     protected String containingEntityId;
 107     protected String subCollectionFieldName;
 108     protected String pathOverride;
 109     protected String searchFieldsTemplateOverride;
 110     protected String templateOverride;
 111 
 112     public enum Type {
 113         MAIN,
 114         TO_ONE,
 115         BASIC,
 116         ADORNED,
 117         ADORNED_WITH_FORM,
 118         MAP,
 119         TRANSLATION,
 120         ASSET,
 121         WORKFLOW,
 122         TREE,
 123         ASSET_GRID,
 124         ASSET_GRID_FOLDER
 125     }
 126 
 127     public enum SelectType {
 128         SINGLE_SELECT,
 129         MULTI_SELECT,
 130         SELECTIZE,
 131         NONE
 132     }
 133 
 134     /* Filter Builder required Fields */
 135     protected String fieldBuilder;
 136     protected DataWrapper dataWrapper;
 137     protected String json;
 138     protected String jsonFieldName;
 139     protected FieldWrapper fieldWrapper;
 140 
 141 
 142 
 143     /* ************** */
 144     /* CUSTOM METHODS */
 145     /* ************** */
 146     
 147     public String getPath() {
 148         if (StringUtils.isNotBlank(pathOverride)) {
 149             return pathOverride;
 150         }
 151                 
 152         StringBuilder sb = new StringBuilder();
 153         
 154         if (!getSectionKey().startsWith(&quot;/&quot;)) {
 155             sb.append(&quot;/&quot;);
 156         }
 157         
 158         sb.append(getSectionKey());
 159         if (getContainingEntityId() != null) {
 160             sb.append(&quot;/&quot;).append(getContainingEntityId());
 161         }
 162         
 163         if (StringUtils.isNotBlank(getSubCollectionFieldName())) {
 164             sb.append(&quot;/&quot;).append(getSubCollectionFieldName());
 165         }
 166         
 167         //to-one grids need a slightly different grid URL; these need to be appended with &#x27;select&#x27;
 168         //TODO: surely there&#x27;s a better way to do this besides just hardcoding the &#x27;select&#x27;?
 169         if (Type.TO_ONE.toString().toLowerCase().equals(listGridType)) {
 170             sb.append(&quot;/select&quot;);
 171         }
 172         
 173         return sb.toString();
 174     }
 175 
 176     public String getSectionCrumbRepresentation() {
 177         StringBuilder sb = new StringBuilder();
 178         if (!sectionCrumbs.isEmpty()) {
 179            sb.append(&quot;?sectionCrumbs=&quot;);
 180         }
 181         int index = 0;
 182         for (SectionCrumb section : sectionCrumbs) {
 183             sb.append(section.getSectionIdentifier());
 184             sb.append(&quot;--&quot;);
 185             sb.append(section.getSectionId());
 186             if (index &lt; sectionCrumbs.size()-1) {
 187                 sb.append(&quot;,&quot;);
 188             }
 189             index++;
 190         }
 191         return sb.toString();
 192     }
 193 
 194     /**
<abbr title=" 195      * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly state as the listgrid"> 195      * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly sðŸ”µ</abbr>
 196      * and are thus shown on the screen
 197      */
 198     @SuppressWarnings(&quot;unchecked&quot;)
 199     public List&lt;ListGridAction&gt; getActiveToolbarActions() {
<abbr title=" 200         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 200         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListðŸ”µ</abbr>
 201             
 202             @Override
 203             public boolean eval(ListGridAction action) {
 204                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 205             }
 206         });
 207     }
 208     
 209     /**
<abbr title=" 210      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 210      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly stateðŸ”µ</abbr>
 211      * and are thus shown on the screen
 212      */
 213     @SuppressWarnings(&quot;unchecked&quot;)
 214     public List&lt;ListGridAction&gt; getActiveRowActions() {
<abbr title=" 215         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 215         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridðŸ”µ</abbr>
 216             
 217             @Override
 218             public boolean eval(ListGridAction action) {
 219                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 220             }
 221         });
 222     }
 223 
 224     /**
<abbr title=" 225      * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same readonly state as the listgrid"> 225      * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same reaðŸ”µ</abbr>
 226      * and are thus shown on the screen
 227      */
 228     @SuppressWarnings(&quot;unchecked&quot;)
 229     public List&lt;ListGridAction&gt; getActiveToolbarActionGroups() {
<abbr title=" 230         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 230         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicateðŸ”µ</abbr>
 231 
 232             @Override
 233             public boolean eval(ListGridActionGroup actionGroup) {
 234                 boolean result = false;
 235                 for (ListGridAction action : actionGroup.getListGridActions()) {
 236                     if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 237                         result = true;
 238                     }
 239                 }
 240                 return result;
 241             }
 242         });
 243     }
 244 
 245     /**
<abbr title=" 246      * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonly state as the listgrid"> 246      * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonlðŸ”µ</abbr>
 247      * and are thus shown on the screen
 248      */
 249     @SuppressWarnings(&quot;unchecked&quot;)
 250     public List&lt;ListGridAction&gt; getActiveRowActionGroups() {
<abbr title=" 251         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 251         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;LisðŸ”µ</abbr>
 252 
 253             @Override
 254             public boolean eval(ListGridActionGroup actionGroup) {
 255                 boolean result = false;
 256                 for (ListGridAction action : actionGroup.getListGridActions()) {
 257                     if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 258                         result = true;
 259                     }
 260                 }
 261                 return result;
 262             }
 263         });
 264     }
 265 
 266     /**
<abbr title=" 267      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 267      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly stateðŸ”µ</abbr>
 268      * and are thus shown on the screen
 269      */
 270     @SuppressWarnings(&quot;unchecked&quot;)
 271     public List&lt;ListGridAction&gt; getActiveModalRowActions() {
<abbr title=" 272         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 272         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;LisðŸ”µ</abbr>
 273 
 274             @Override
 275             public boolean eval(ListGridAction action) {
 276                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 277             }
 278         });
 279     }
 280     
 281     public void addRowAction(ListGridAction action) {
 282         getRowActions().add(action);
 283     }
 284 
 285     public void addModalRowAction(ListGridAction action) {
 286         getModalRowActions().add(action);
 287     }
 288 
 289     public void addToolbarAction(ListGridAction action) {
 290         getToolbarActions().add(action);
 291     }
 292     
 293     public void removeAllToolbarActions() {
 294         getToolbarActions().clear();
 295     }
 296     
 297     public void removeAllRowActions() {
 298         getRowActions().clear();
 299     }
 300 
 301     public void addToolbarActionGroup(ListGridActionGroup actionGroup) {
 302         getToolbarActionGroups().add(actionGroup);
 303     }
 304 
 305     public void removeAllToolbarActionGroups() {
 306         getToolbarActionGroups().clear();
 307     }
 308 
 309     public void addRowActionGroup(ListGridActionGroup actionGroup) {
 310         getRowActionGroups().add(actionGroup);
 311     }
 312 
 313     public void removeAllRowActionGroups() {
 314         getRowActionGroups().clear();
 315     }
 316 
 317     public void removeAllModalRowActions() {
 318         getModalRowActions().clear();
 319     }
 320 
 321     public ListGridAction findToolbarAction(String actionId) {
 322         for (ListGridAction action : getToolbarActions()) {
 323             if (action.getActionId().equals(actionId)) {
 324                 return action;
 325             }
 326         }
 327         for (ListGridActionGroup actionGroup : getToolbarActionGroups()) {
 328             for (ListGridAction action : actionGroup.getListGridActions()) {
 329                 if (action.getActionId().equals(actionId)) {
 330                     return action;
 331                 }
 332             }
 333         }
 334         return null;
 335     }
 336     
 337     public ListGridAction findRowAction(String actionId) {
 338         for (ListGridAction action : getRowActions()) {
 339             if (action.getActionId().equals(actionId)) {
 340                 return action;
 341             }
 342         }
 343         for (ListGridActionGroup actionGroup : getRowActionGroups()) {
 344             for (ListGridAction action : actionGroup.getListGridActions()) {
 345                 if (action.getActionId().equals(actionId)) {
 346                     return action;
 347                 }
 348             }
 349         }
 350         return null;
 351     }
 352 
 353     public ListGridAction findModalRowAction(String actionId) {
 354         for (ListGridAction action : getModalRowActions()) {
 355             if (action.getActionId().equals(actionId)) {
 356                 return action;
 357             }
 358         }
 359         return null;
 360     }
 361     
 362     /**
<abbr title=" 363      * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordered, then the"> 363      * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordðŸ”µ</abbr>
 364      * sort functionality doesn&#x27;t make any sense.
 365      * 
 366      * Also, map structures are currently unsortable.
 367      * 
 368      * @return
 369      */
 370     public boolean isSortable() {
 371         return this.isSortable || Type.MAP.toString().toLowerCase().equals(getListGridType());
 372     }
 373 
 374     /* ************************ */
 375     /* CUSTOM GETTERS / SETTERS */
 376     /* ************************ */
 377     
 378     public void setListGridType(Type listGridType) {
 379         this.listGridType = listGridType.toString().toLowerCase();
 380     }
 381     
 382     /**
<abbr title=" 383      * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlers to on the JS"> 383      * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlðŸ”µ</abbr>
 384      * side
 385      * @param listGridType
 386      */
 387     public void setListGridTypeString(String listGridType) {
 388         this.listGridType = listGridType;
 389     }
 390 
 391     public void setSelectType(SelectType selectType) {
 392         this.selectType = selectType.toString().toLowerCase();
 393     }
 394 
 395     public void setSelectTypeString(String selectType) {
 396         this.selectType = selectType;
 397     }
 398 
 399     public Boolean getCanFilterAndSort() {
 400         return (canFilterAndSort == null ? true : canFilterAndSort);
 401     }
 402 
 403     public Boolean getIsReadOnly() {
 404         return isReadOnly == null ? false : isReadOnly;
 405     }
 406     
 407     public Boolean getClickable() {
 408         return !&quot;none&quot;.equals(selectType);
 409     }
 410     
 411     public Boolean getHideIdColumn() {
 412         return hideIdColumn == null ? true : hideIdColumn;
 413     }
 414 
 415     /* ************************** */
 416     /* STANDARD GETTERS / SETTERS */
 417     /* ************************** */        
 418 
 419 	public String getIdProperty() {
 420         return idProperty;
 421     }
 422 
 423     public void setIdProperty(String idProperty) {
 424         this.idProperty = idProperty;
 425     }
 426 
 427     public String getClassName() {
 428         return className;
 429     }
 430 
 431     public void setClassName(String className) {
 432         this.className = className;
 433     }
 434 
 435     public int getOrder() {
 436         return order;
 437     }
 438     
 439     public void setOrder(int order) {
 440         this.order = order;
 441     }
 442 
 443     public boolean getIsSortable() {
 444         return isSortable;
 445     }
 446 
 447     public void setIsSortable(boolean isSortable) {
 448         this.isSortable = isSortable;
 449     }
 450 
 451     public boolean getHideFriendlyName() { return hideFriendlyName; }
 452 
<abbr title=" 453     public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName; }"> 453     public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName;ðŸ”µ</abbr>
 454 
 455     public Set&lt;Field&gt; getHeaderFields() {
 456         return headerFields;
 457     }
 458 
 459     public void setHeaderFields(Set&lt;Field&gt; headerFields) {
 460         this.headerFields = headerFields;
 461     }
 462 
 463     public Field findHeaderField(String name) {
 464         if (name == null) {
 465             return null;
 466         }
 467 
 468         for (Field headerField : getHeaderFields()) {
 469             if (name.equals(headerField.getName())) {
 470                 return headerField;
 471             }
 472         }
 473         return null;
 474     }
 475 
 476     public boolean isEmpty() {
 477         return records.isEmpty();
 478     }
 479 
 480     public List&lt;ListGridRecord&gt; getRecords() {
 481         return records;
 482     }
 483 
 484     public void setRecords(List&lt;ListGridRecord&gt; records) {
 485         this.records = records;
 486     }
 487     
 488     public List&lt;ListGridAction&gt; getToolbarActions() {
 489         return toolbarActions;
 490     }
 491     
 492     public void setToolbarActions(List&lt;ListGridAction&gt; toolbarActions) {
 493         this.toolbarActions = toolbarActions;
 494     }
 495     
 496     public List&lt;ListGridAction&gt; getRowActions() {
 497         return rowActions;
 498     }
 499     
 500     public void setRowActions(List&lt;ListGridAction&gt; rowActions) {
 501         this.rowActions = rowActions;
 502     }
 503 
 504     public List&lt;ListGridActionGroup&gt; getToolbarActionGroups() {
 505         return toolbarActionGroups;
 506     }
 507 
 508     public void setToolbarActionGroups(List&lt;ListGridActionGroup&gt; toolbarActionGroups) {
 509         this.toolbarActionGroups = toolbarActionGroups;
 510     }
 511 
 512     public List&lt;ListGridActionGroup&gt; getRowActionGroups() {
 513         return rowActionGroups;
 514     }
 515 
 516     public void setRowActionGroups(List&lt;ListGridActionGroup&gt; rowActionGroups) {
 517         this.rowActionGroups = rowActionGroups;
 518     }
 519 
 520     public List&lt;ListGridAction&gt; getModalRowActions() {
 521         return modalRowActions;
 522     }
 523 
 524     public void setModalRowActions(List&lt;ListGridAction&gt; modalRowActions) {
 525         this.modalRowActions = modalRowActions;
 526     }
 527 
 528     public int getStartIndex() {
 529         return startIndex;
 530     }
 531 
 532     public void setStartIndex(int startIndex) {
 533         this.startIndex = startIndex;
 534     }
 535     
 536     public int getTotalRecords() {
 537         return totalRecords;
 538     }
 539 
 540     public void setTotalRecords(int totalRecords) {
 541         this.totalRecords = totalRecords;
 542     }
 543     
 544     public int getPageSize() {
 545         return pageSize;
 546     }
 547     
 548     public void setPageSize(int pageSize) {
 549         this.pageSize = pageSize;
 550     }
 551     
 552     public void setCanFilterAndSort(Boolean canFilterAndSort) {
 553         this.canFilterAndSort = canFilterAndSort;
 554     }
 555 
 556     public AddMethodType getAddMethodType() {
 557         return addMethodType;
 558     }
 559 
 560     public void setAddMethodType(AddMethodType addMethodType) {
 561         this.addMethodType = addMethodType;
 562     }
 563 
 564     public String getListGridType() {
 565         return listGridType;
 566     }
 567 
 568     public String getSelectType() {
 569         return selectType;
 570     }
 571 
 572     public String getContainingEntityId() {
 573         return containingEntityId;
 574     }
 575 
 576     public void setContainingEntityId(String containingEntityId) {
 577         this.containingEntityId = containingEntityId;
 578     }
 579 
 580     public String getSubCollectionFieldName() {
 581         return subCollectionFieldName;
 582     }
 583 
 584     public void setSubCollectionFieldName(String subCollectionFieldName) {
 585         this.subCollectionFieldName = subCollectionFieldName;
 586     }
 587 
 588     public String getFriendlyName() {
 589         return friendlyName;
 590     }
 591 
 592     public void setFriendlyName(String friendlyName) {
 593         this.friendlyName = friendlyName;
 594     }
 595 
 596     public String getSectionKey() {
 597         return sectionKey;
 598     }
 599     
 600     public void setSectionKey(String sectionKey) {
 601         this.sectionKey = sectionKey;
 602     }
 603 
 604     public String getSelectizeUrl() {
 605         return selectizeUrl;
 606     }
 607 
 608     public void setSelectizeUrl(String selectizeUrl) {
 609         this.selectizeUrl = selectizeUrl;
 610     }
 611 
 612     public Boolean getManualFetch() {
 613         if (manualFetch == null) {
 614             return false;
 615         }
 616         return manualFetch;
 617     }
 618 
 619     public void setManualFetch(Boolean manualFetch) {
 620         this.manualFetch = manualFetch;
 621     }
 622 
 623     public String getExternalEntitySectionKey() {
 624         return externalEntitySectionKey;
 625     }
 626 
 627     public void setExternalEntitySectionKey(String externalEntitySectionKey) {
 628         this.externalEntitySectionKey = externalEntitySectionKey;
 629     }
 630 
 631     public String getPathOverride() {
 632         return pathOverride;
 633     }
 634 
 635     public void setPathOverride(String pathOverride) {
 636         this.pathOverride = pathOverride;
 637     }
 638 
 639     public String getSearchFieldsTemplateOverride() {
 640         return searchFieldsTemplateOverride;
 641     }
 642 
 643     public void setSearchFieldsTemplateOverride(String searchFieldsTemplateOverride) {
 644         this.searchFieldsTemplateOverride = searchFieldsTemplateOverride;
 645     }
 646 
 647     public String getTemplateOverride() {
 648         return templateOverride;
 649     }
 650 
 651     public void setTemplateOverride(String templateOverride) {
 652         this.templateOverride = templateOverride;
 653     }
 654 
 655     public void setIsReadOnly(Boolean readOnly) {
 656         this.isReadOnly = readOnly;
 657     }
 658 
 659     public void setHideIdColumn(Boolean hideIdColumn) {
 660         this.hideIdColumn = hideIdColumn;
 661     }
 662 
 663     public List&lt;SectionCrumb&gt; getSectionCrumbs() {
 664         return sectionCrumbs;
 665     }
 666 
 667     public void setSectionCrumbs(List&lt;SectionCrumb&gt; sectionCrumbs) {
 668         if (sectionCrumbs == null) {
 669             this.sectionCrumbs.clear();
 670             return;
 671         }
 672         this.sectionCrumbs = sectionCrumbs;
 673     }
 674 
 675     public String getFieldBuilder() {
 676         return fieldBuilder;
 677     }
 678 
 679     public void setFieldBuilder(String fieldBuilder) {
 680         this.fieldBuilder = fieldBuilder;
 681     }
 682 
 683     public FieldWrapper getFieldWrapper() {
 684         return fieldWrapper;
 685     }
 686 
 687     public void setFieldWrapper(FieldWrapper fieldWrapper) {
 688         this.fieldWrapper = fieldWrapper;
 689     }
 690 
 691     public DataWrapper getDataWrapper() {
 692         return dataWrapper;
 693     }
 694 
 695     public void setDataWrapper(DataWrapper dataWrapper) {
 696         this.dataWrapper = dataWrapper;
 697     }
 698 
 699     public String getJson() {
 700         return json;
 701     }
 702 
 703     public void setJson(String json) {
 704         this.json = json;
 705     }
 706 
 707     public String getJsonFieldName() {
 708         return jsonFieldName;
 709     }
 710 
 711     public void setJsonFieldName(String jsonFieldName) {
 712         this.jsonFieldName = jsonFieldName;
 713     }
 714 
 715     public String getFetchType() {
 716         return fetchType;
 717     }
 718 
 719     public void setFetchType(String fetchType) {
 720         this.fetchType = fetchType;
 721     }
 722 
 723     public long getFirstId() {
 724         return firstId;
 725     }
 726 
 727     public void setFirstId(long firstId) {
 728         this.firstId = firstId;
 729     }
 730 
 731     public long getLastId() {
 732         return lastId;
 733     }
 734 
 735     public void setLastId(long lastId) {
 736         this.lastId = lastId;
 737     }
 738 
 739     public int getUpperCount() {
 740         return upperCount;
 741     }
 742 
 743     public void setUpperCount(int upperCount) {
 744         this.upperCount = upperCount;
 745     }
 746 
 747     public int getLowerCount() {
 748         return lowerCount;
 749     }
 750 
 751     public void setLowerCount(int lowerCount) {
 752         this.lowerCount = lowerCount;
 753     }
 754 
 755     public boolean isTotalCountLessThanPageSize() {
 756         return totalCountLessThanPageSize;
 757     }
 758 
 759     public void setTotalCountLessThanPageSize(boolean totalCountLessThanPageSize) {
 760         this.totalCountLessThanPageSize = totalCountLessThanPageSize;
 761     }
 762 
 763     public boolean isPromptSearch() {
 764         return promptSearch;
 765     }
 766 
 767     public void setPromptSearch(boolean promptSearch) {
 768         this.promptSearch = promptSearch;
 769     }
 770 
 771 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 772     public boolean isMultiSelectCheckBoxOnly() {</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 773         return multiSelectCheckBoxOnly;</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 774     }</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 775 </span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 776     public void setMultiSelectCheckBoxOnly(boolean multiSelectCheckBoxOnly) {</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 777 	    this.multiSelectCheckBoxOnly = multiSelectCheckBoxOnly;</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 778     }</span>
 779 ||||||| GitAnalyzerPlus_base
 780 =======
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 781     public String getHelpText() { return helpText; }</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 782 </span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 783     public void setHelpText(String helpText) { this.helpText = helpText; }</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 784 </span>
 785 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs
 786 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                            <td><pre>   1 /*
   2  * #%L
   3  * BroadleafCommerce Open Admin Platform
   4  * %%
   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6  * %%
   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10  * the Broadleaf End User License Agreement (EULA), Version 1.1
  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12  * shall apply.
  13  *
<abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr>
<abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr>
  16  * #L%
  17  */
  18 
  19 package org.broadleafcommerce.openadmin.web.form.component;
  20 
  21 import org.apache.commons.collections.CollectionUtils;
  22 import org.apache.commons.lang3.StringUtils;
  23 import org.apache.commons.lang3.builder.CompareToBuilder;
  24 import org.broadleafcommerce.common.presentation.client.AddMethodType;
  25 import org.broadleafcommerce.common.util.TypedPredicate;
  26 import org.broadleafcommerce.openadmin.dto.SectionCrumb;
  27 import org.broadleafcommerce.openadmin.server.service.type.FetchType;
  28 import org.broadleafcommerce.openadmin.web.form.entity.Field;
  29 import org.broadleafcommerce.openadmin.web.rulebuilder.dto.DataWrapper;
  30 import org.broadleafcommerce.openadmin.web.rulebuilder.dto.FieldWrapper;
  31 
  32 import java.util.ArrayList;
  33 import java.util.Comparator;
  34 import java.util.List;
  35 import java.util.Set;
  36 import java.util.TreeSet;
  37 
  38 public class ListGrid {
  39 
  40     protected String className;
  41     protected String friendlyName = null;
  42     protected String idProperty;
  43     protected int order;
  44     protected boolean isSortable;
  45 
  46     protected boolean hideFriendlyName;
  47 
  48     protected Set&lt;Field&gt; headerFields = new TreeSet&lt;Field&gt;(new Comparator&lt;Field&gt;() {
  49 
  50         @Override
  51         public int compare(Field o1, Field o2) {
  52             return new CompareToBuilder()
  53                     .append(o1.getOrder(), o2.getOrder())
  54                     .append(o1.getFriendlyName(), o2.getFriendlyName())
  55                     .append(o1.getName(), o2.getName())
  56                     .toComparison();
  57         }
  58     });
  59     protected List&lt;ListGridRecord&gt; records = new ArrayList&lt;ListGridRecord&gt;();
  60     protected List&lt;ListGridAction&gt; toolbarActions = new ArrayList&lt;ListGridAction&gt;();
  61 
<abbr title="  62     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  62     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
  63     protected List&lt;ListGridAction&gt; rowActions = new ArrayList&lt;ListGridAction&gt;();
  64 
  65     protected List&lt;ListGridActionGroup&gt; toolbarActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  66     protected List&lt;ListGridActionGroup&gt; rowActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  67 
<abbr title="  68     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  68     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
  69     protected List&lt;ListGridAction&gt; modalRowActions = new ArrayList&lt;ListGridAction&gt;();
  70     protected int totalRecords;
  71     protected int startIndex;
  72     protected int pageSize;
  73     protected Boolean canFilterAndSort;
  74     protected Boolean isReadOnly;
  75     protected Boolean hideIdColumn;
  76     protected String fetchType = FetchType.DEFAULT.toString();
  77     protected long firstId;
  78     protected long lastId;
  79     protected int upperCount;
  80     protected int lowerCount;
  81     protected boolean totalCountLessThanPageSize;
  82     protected boolean promptSearch;
  83 
  84     // If true, only clicking the check box area will toggle the row selection when using multi select
  85     protected boolean multiSelectCheckBoxOnly;
  86 
  87     protected AddMethodType addMethodType;
  88     protected String listGridType;
  89     protected String selectType;
  90 
  91     protected String selectizeUrl;
  92 
  93     protected Boolean manualFetch;
  94     protected String helpText;
  95 
  96     // The section url that maps to this particular list grid
  97     protected String sectionKey;
  98 
<abbr title="  99     // The list of all section keys that have been traversed to arrive at this ListGrid (including the current one), in order">  99     // The list of all section keys that have been traversed to arrive at this ListGrid (including the cuðŸ”µ</abbr>
 100     // of occurrence
 101     protected List&lt;SectionCrumb&gt; sectionCrumbs = new ArrayList&lt;SectionCrumb&gt;();
 102 
<abbr title=" 103     // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these properties"> 103     // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these prðŸ”µ</abbr>
 104     // help identify the parent entity.
 105     protected String externalEntitySectionKey;
 106     protected String containingEntityId;
 107     protected String subCollectionFieldName;
 108     protected String pathOverride;
 109     protected String searchFieldsTemplateOverride;
 110     protected String templateOverride;
 111 
 112     public enum Type {
 113         MAIN,
 114         TO_ONE,
 115         BASIC,
 116         ADORNED,
 117         ADORNED_WITH_FORM,
 118         MAP,
 119         TRANSLATION,
 120         ASSET,
 121         WORKFLOW,
 122         TREE,
 123         ASSET_GRID,
 124         ASSET_GRID_FOLDER
 125     }
 126 
 127     public enum SelectType {
 128         SINGLE_SELECT,
 129         MULTI_SELECT,
 130         SELECTIZE,
 131         NONE
 132     }
 133 
 134     /* Filter Builder required Fields */
 135     protected String fieldBuilder;
 136     protected DataWrapper dataWrapper;
 137     protected String json;
 138     protected String jsonFieldName;
 139     protected FieldWrapper fieldWrapper;
 140 
 141 
 142 
 143     /* ************** */
 144     /* CUSTOM METHODS */
 145     /* ************** */
 146 
 147     public String getPath() {
 148         if (StringUtils.isNotBlank(pathOverride)) {
 149             return pathOverride;
 150         }
 151 
 152         StringBuilder sb = new StringBuilder();
 153 
 154         if (!getSectionKey().startsWith(&quot;/&quot;)) {
 155             sb.append(&quot;/&quot;);
 156         }
 157 
 158         sb.append(getSectionKey());
 159         if (getContainingEntityId() != null) {
 160             sb.append(&quot;/&quot;).append(getContainingEntityId());
 161         }
 162 
 163         if (StringUtils.isNotBlank(getSubCollectionFieldName())) {
 164             sb.append(&quot;/&quot;).append(getSubCollectionFieldName());
 165         }
 166 
 167         //to-one grids need a slightly different grid URL; these need to be appended with &#x27;select&#x27;
 168         //TODO: surely there&#x27;s a better way to do this besides just hardcoding the &#x27;select&#x27;?
 169         if (Type.TO_ONE.toString().toLowerCase().equals(listGridType)) {
 170             sb.append(&quot;/select&quot;);
 171         }
 172 
 173         return sb.toString();
 174     }
 175 
 176     public String getSectionCrumbRepresentation() {
 177         StringBuilder sb = new StringBuilder();
 178         if (!sectionCrumbs.isEmpty()) {
 179            sb.append(&quot;?sectionCrumbs=&quot;);
 180         }
 181         int index = 0;
 182         for (SectionCrumb section : sectionCrumbs) {
 183             sb.append(section.getSectionIdentifier());
 184             sb.append(&quot;--&quot;);
 185             sb.append(section.getSectionId());
 186             if (index &lt; sectionCrumbs.size()-1) {
 187                 sb.append(&quot;,&quot;);
 188             }
 189             index++;
 190         }
 191         return sb.toString();
 192     }
 193 
 194     /**
<abbr title=" 195      * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly state as the listgrid"> 195      * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly sðŸ”µ</abbr>
 196      * and are thus shown on the screen
 197      */
 198     @SuppressWarnings(&quot;unchecked&quot;)
 199     public List&lt;ListGridAction&gt; getActiveToolbarActions() {
<abbr title=" 200         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 200         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListðŸ”µ</abbr>
 201 
 202             @Override
 203             public boolean eval(ListGridAction action) {
 204                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 205             }
 206         });
 207     }
 208 
 209     /**
<abbr title=" 210      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 210      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly stateðŸ”µ</abbr>
 211      * and are thus shown on the screen
 212      */
 213     @SuppressWarnings(&quot;unchecked&quot;)
 214     public List&lt;ListGridAction&gt; getActiveRowActions() {
<abbr title=" 215         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 215         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridðŸ”µ</abbr>
 216 
 217             @Override
 218             public boolean eval(ListGridAction action) {
 219                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 220             }
 221         });
 222     }
 223 
 224     /**
<abbr title=" 225      * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same readonly state as the listgrid"> 225      * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same reaðŸ”µ</abbr>
 226      * and are thus shown on the screen
 227      */
 228     @SuppressWarnings(&quot;unchecked&quot;)
 229     public List&lt;ListGridAction&gt; getActiveToolbarActionGroups() {
<abbr title=" 230         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 230         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicateðŸ”µ</abbr>
 231 
 232             @Override
 233             public boolean eval(ListGridActionGroup actionGroup) {
 234                 boolean result = false;
 235                 for (ListGridAction action : actionGroup.getListGridActions()) {
 236                     if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 237                         result = true;
 238                     }
 239                 }
 240                 return result;
 241             }
 242         });
 243     }
 244 
 245     /**
<abbr title=" 246      * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonly state as the listgrid"> 246      * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonlðŸ”µ</abbr>
 247      * and are thus shown on the screen
 248      */
 249     @SuppressWarnings(&quot;unchecked&quot;)
 250     public List&lt;ListGridAction&gt; getActiveRowActionGroups() {
<abbr title=" 251         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 251         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;LisðŸ”µ</abbr>
 252 
 253             @Override
 254             public boolean eval(ListGridActionGroup actionGroup) {
 255                 boolean result = false;
 256                 for (ListGridAction action : actionGroup.getListGridActions()) {
 257                     if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 258                         result = true;
 259                     }
 260                 }
 261                 return result;
 262             }
 263         });
 264     }
 265 
 266     /**
<abbr title=" 267      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 267      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly stateðŸ”µ</abbr>
 268      * and are thus shown on the screen
 269      */
 270     @SuppressWarnings(&quot;unchecked&quot;)
 271     public List&lt;ListGridAction&gt; getActiveModalRowActions() {
<abbr title=" 272         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 272         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;LisðŸ”µ</abbr>
 273 
 274             @Override
 275             public boolean eval(ListGridAction action) {
 276                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 277             }
 278         });
 279     }
 280 
 281     public void addRowAction(ListGridAction action) {
 282         getRowActions().add(action);
 283     }
 284 
 285     public void addModalRowAction(ListGridAction action) {
 286         getModalRowActions().add(action);
 287     }
 288 
 289     public void addToolbarAction(ListGridAction action) {
 290         getToolbarActions().add(action);
 291     }
 292 
 293     public void removeAllToolbarActions() {
 294         getToolbarActions().clear();
 295     }
 296 
 297     public void removeAllRowActions() {
 298         getRowActions().clear();
 299     }
 300 
 301     public void addToolbarActionGroup(ListGridActionGroup actionGroup) {
 302         getToolbarActionGroups().add(actionGroup);
 303     }
 304 
 305     public void removeAllToolbarActionGroups() {
 306         getToolbarActionGroups().clear();
 307     }
 308 
 309     public void addRowActionGroup(ListGridActionGroup actionGroup) {
 310         getRowActionGroups().add(actionGroup);
 311     }
 312 
 313     public void removeAllRowActionGroups() {
 314         getRowActionGroups().clear();
 315     }
 316 
 317     public void removeAllModalRowActions() {
 318         getModalRowActions().clear();
 319     }
 320 
 321     public ListGridAction findToolbarAction(String actionId) {
 322         for (ListGridAction action : getToolbarActions()) {
 323             if (action.getActionId().equals(actionId)) {
 324                 return action;
 325             }
 326         }
 327         for (ListGridActionGroup actionGroup : getToolbarActionGroups()) {
 328             for (ListGridAction action : actionGroup.getListGridActions()) {
 329                 if (action.getActionId().equals(actionId)) {
 330                     return action;
 331                 }
 332             }
 333         }
 334         return null;
 335     }
 336 
 337     public ListGridAction findRowAction(String actionId) {
 338         for (ListGridAction action : getRowActions()) {
 339             if (action.getActionId().equals(actionId)) {
 340                 return action;
 341             }
 342         }
 343         for (ListGridActionGroup actionGroup : getRowActionGroups()) {
 344             for (ListGridAction action : actionGroup.getListGridActions()) {
 345                 if (action.getActionId().equals(actionId)) {
 346                     return action;
 347                 }
 348             }
 349         }
 350         return null;
 351     }
 352 
 353     public ListGridAction findModalRowAction(String actionId) {
 354         for (ListGridAction action : getModalRowActions()) {
 355             if (action.getActionId().equals(actionId)) {
 356                 return action;
 357             }
 358         }
 359         return null;
 360     }
 361 
 362     /**
<abbr title=" 363      * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordered, then the"> 363      * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordðŸ”µ</abbr>
 364      * sort functionality doesn&#x27;t make any sense.
 365      *
 366      * Also, map structures are currently unsortable.
 367      *
 368      * @return
 369      */
 370     public boolean isSortable() {
 371         return this.isSortable || Type.MAP.toString().toLowerCase().equals(getListGridType());
 372     }
 373 
 374     /* ************************ */
 375     /* CUSTOM GETTERS / SETTERS */
 376     /* ************************ */
 377 
 378     public void setListGridType(Type listGridType) {
 379         this.listGridType = listGridType.toString().toLowerCase();
 380     }
 381 
 382     /**
<abbr title=" 383      * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlers to on the JS"> 383      * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlðŸ”µ</abbr>
 384      * side
 385      * @param listGridType
 386      */
 387     public void setListGridTypeString(String listGridType) {
 388         this.listGridType = listGridType;
 389     }
 390 
 391     public void setSelectType(SelectType selectType) {
 392         this.selectType = selectType.toString().toLowerCase();
 393     }
 394 
 395     public void setSelectTypeString(String selectType) {
 396         this.selectType = selectType;
 397     }
 398 
 399     public Boolean getCanFilterAndSort() {
 400         return (canFilterAndSort == null ? true : canFilterAndSort);
 401     }
 402 
 403     public Boolean getIsReadOnly() {
 404         return isReadOnly == null ? false : isReadOnly;
 405     }
 406 
 407     public Boolean getClickable() {
 408         return !&quot;none&quot;.equals(selectType);
 409     }
 410 
 411     public Boolean getHideIdColumn() {
 412         return hideIdColumn == null ? true : hideIdColumn;
 413     }
 414 
 415     /* ************************** */
 416     /* STANDARD GETTERS / SETTERS */
 417     /* ************************** */
 418 
 419 	public String getIdProperty() {
 420         return idProperty;
 421     }
 422 
 423     public void setIdProperty(String idProperty) {
 424         this.idProperty = idProperty;
 425     }
 426 
 427     public String getClassName() {
 428         return className;
 429     }
 430 
 431     public void setClassName(String className) {
 432         this.className = className;
 433     }
 434 
 435     public int getOrder() {
 436         return order;
 437     }
 438 
 439     public void setOrder(int order) {
 440         this.order = order;
 441     }
 442 
 443     public boolean getIsSortable() {
 444         return isSortable;
 445     }
 446 
 447     public void setIsSortable(boolean isSortable) {
 448         this.isSortable = isSortable;
 449     }
 450 
 451     public boolean getHideFriendlyName() { return hideFriendlyName; }
 452 
<abbr title=" 453     public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName; }"> 453     public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName;ðŸ”µ</abbr>
 454 
 455     public Set&lt;Field&gt; getHeaderFields() {
 456         return headerFields;
 457     }
 458 
 459     public void setHeaderFields(Set&lt;Field&gt; headerFields) {
 460         this.headerFields = headerFields;
 461     }
 462 
 463     public Field findHeaderField(String name) {
 464         if (name == null) {
 465             return null;
 466         }
 467 
 468         for (Field headerField : getHeaderFields()) {
 469             if (name.equals(headerField.getName())) {
 470                 return headerField;
 471             }
 472         }
 473         return null;
 474     }
 475 
 476     public boolean isEmpty() {
 477         return records.isEmpty();
 478     }
 479 
 480     public List&lt;ListGridRecord&gt; getRecords() {
 481         return records;
 482     }
 483 
 484     public void setRecords(List&lt;ListGridRecord&gt; records) {
 485         this.records = records;
 486     }
 487 
 488     public List&lt;ListGridAction&gt; getToolbarActions() {
 489         return toolbarActions;
 490     }
 491 
 492     public void setToolbarActions(List&lt;ListGridAction&gt; toolbarActions) {
 493         this.toolbarActions = toolbarActions;
 494     }
 495 
 496     public List&lt;ListGridAction&gt; getRowActions() {
 497         return rowActions;
 498     }
 499 
 500     public void setRowActions(List&lt;ListGridAction&gt; rowActions) {
 501         this.rowActions = rowActions;
 502     }
 503 
 504     public List&lt;ListGridActionGroup&gt; getToolbarActionGroups() {
 505         return toolbarActionGroups;
 506     }
 507 
 508     public void setToolbarActionGroups(List&lt;ListGridActionGroup&gt; toolbarActionGroups) {
 509         this.toolbarActionGroups = toolbarActionGroups;
 510     }
 511 
 512     public List&lt;ListGridActionGroup&gt; getRowActionGroups() {
 513         return rowActionGroups;
 514     }
 515 
 516     public void setRowActionGroups(List&lt;ListGridActionGroup&gt; rowActionGroups) {
 517         this.rowActionGroups = rowActionGroups;
 518     }
 519 
 520     public List&lt;ListGridAction&gt; getModalRowActions() {
 521         return modalRowActions;
 522     }
 523 
 524     public void setModalRowActions(List&lt;ListGridAction&gt; modalRowActions) {
 525         this.modalRowActions = modalRowActions;
 526     }
 527 
 528     public int getStartIndex() {
 529         return startIndex;
 530     }
 531 
 532     public void setStartIndex(int startIndex) {
 533         this.startIndex = startIndex;
 534     }
 535 
 536     public int getTotalRecords() {
 537         return totalRecords;
 538     }
 539 
 540     public void setTotalRecords(int totalRecords) {
 541         this.totalRecords = totalRecords;
 542     }
 543 
 544     public int getPageSize() {
 545         return pageSize;
 546     }
 547 
 548     public void setPageSize(int pageSize) {
 549         this.pageSize = pageSize;
 550     }
 551 
 552     public void setCanFilterAndSort(Boolean canFilterAndSort) {
 553         this.canFilterAndSort = canFilterAndSort;
 554     }
 555 
 556     public AddMethodType getAddMethodType() {
 557         return addMethodType;
 558     }
 559 
 560     public void setAddMethodType(AddMethodType addMethodType) {
 561         this.addMethodType = addMethodType;
 562     }
 563 
 564     public String getListGridType() {
 565         return listGridType;
 566     }
 567 
 568     public String getSelectType() {
 569         return selectType;
 570     }
 571 
 572     public String getContainingEntityId() {
 573         return containingEntityId;
 574     }
 575 
 576     public void setContainingEntityId(String containingEntityId) {
 577         this.containingEntityId = containingEntityId;
 578     }
 579 
 580     public String getSubCollectionFieldName() {
 581         return subCollectionFieldName;
 582     }
 583 
 584     public void setSubCollectionFieldName(String subCollectionFieldName) {
 585         this.subCollectionFieldName = subCollectionFieldName;
 586     }
 587 
 588     public String getFriendlyName() {
 589         return friendlyName;
 590     }
 591 
 592     public void setFriendlyName(String friendlyName) {
 593         this.friendlyName = friendlyName;
 594     }
 595 
 596     public String getSectionKey() {
 597         return sectionKey;
 598     }
 599 
 600     public void setSectionKey(String sectionKey) {
 601         this.sectionKey = sectionKey;
 602     }
 603 
 604     public String getSelectizeUrl() {
 605         return selectizeUrl;
 606     }
 607 
 608     public void setSelectizeUrl(String selectizeUrl) {
 609         this.selectizeUrl = selectizeUrl;
 610     }
 611 
 612     public Boolean getManualFetch() {
 613         if (manualFetch == null) {
 614             return false;
 615         }
 616         return manualFetch;
 617     }
 618 
 619     public void setManualFetch(Boolean manualFetch) {
 620         this.manualFetch = manualFetch;
 621     }
 622 
 623     public String getExternalEntitySectionKey() {
 624         return externalEntitySectionKey;
 625     }
 626 
 627     public void setExternalEntitySectionKey(String externalEntitySectionKey) {
 628         this.externalEntitySectionKey = externalEntitySectionKey;
 629     }
 630 
 631     public String getPathOverride() {
 632         return pathOverride;
 633     }
 634 
 635     public void setPathOverride(String pathOverride) {
 636         this.pathOverride = pathOverride;
 637     }
 638 
 639     public String getSearchFieldsTemplateOverride() {
 640         return searchFieldsTemplateOverride;
 641     }
 642 
 643     public void setSearchFieldsTemplateOverride(String searchFieldsTemplateOverride) {
 644         this.searchFieldsTemplateOverride = searchFieldsTemplateOverride;
 645     }
 646 
 647     public String getTemplateOverride() {
 648         return templateOverride;
 649     }
 650 
 651     public void setTemplateOverride(String templateOverride) {
 652         this.templateOverride = templateOverride;
 653     }
 654 
 655     public void setIsReadOnly(Boolean readOnly) {
 656         this.isReadOnly = readOnly;
 657     }
 658 
 659     public void setHideIdColumn(Boolean hideIdColumn) {
 660         this.hideIdColumn = hideIdColumn;
 661     }
 662 
 663     public List&lt;SectionCrumb&gt; getSectionCrumbs() {
 664         return sectionCrumbs;
 665     }
 666 
 667     public void setSectionCrumbs(List&lt;SectionCrumb&gt; sectionCrumbs) {
 668         if (sectionCrumbs == null) {
 669             this.sectionCrumbs.clear();
 670             return;
 671         }
 672         this.sectionCrumbs = sectionCrumbs;
 673     }
 674 
 675     public String getFieldBuilder() {
 676         return fieldBuilder;
 677     }
 678 
 679     public void setFieldBuilder(String fieldBuilder) {
 680         this.fieldBuilder = fieldBuilder;
 681     }
 682 
 683     public FieldWrapper getFieldWrapper() {
 684         return fieldWrapper;
 685     }
 686 
 687     public void setFieldWrapper(FieldWrapper fieldWrapper) {
 688         this.fieldWrapper = fieldWrapper;
 689     }
 690 
 691     public DataWrapper getDataWrapper() {
 692         return dataWrapper;
 693     }
 694 
 695     public void setDataWrapper(DataWrapper dataWrapper) {
 696         this.dataWrapper = dataWrapper;
 697     }
 698 
 699     public String getJson() {
 700         return json;
 701     }
 702 
 703     public void setJson(String json) {
 704         this.json = json;
 705     }
 706 
 707     public String getJsonFieldName() {
 708         return jsonFieldName;
 709     }
 710 
 711     public void setJsonFieldName(String jsonFieldName) {
 712         this.jsonFieldName = jsonFieldName;
 713     }
 714 
 715     public String getFetchType() {
 716         return fetchType;
 717     }
 718 
 719     public void setFetchType(String fetchType) {
 720         this.fetchType = fetchType;
 721     }
 722 
 723     public long getFirstId() {
 724         return firstId;
 725     }
 726 
 727     public void setFirstId(long firstId) {
 728         this.firstId = firstId;
 729     }
 730 
 731     public long getLastId() {
 732         return lastId;
 733     }
 734 
 735     public void setLastId(long lastId) {
 736         this.lastId = lastId;
 737     }
 738 
 739     public int getUpperCount() {
 740         return upperCount;
 741     }
 742 
 743     public void setUpperCount(int upperCount) {
 744         this.upperCount = upperCount;
 745     }
 746 
 747     public int getLowerCount() {
 748         return lowerCount;
 749     }
 750 
 751     public void setLowerCount(int lowerCount) {
 752         this.lowerCount = lowerCount;
 753     }
 754 
 755     public boolean isTotalCountLessThanPageSize() {
 756         return totalCountLessThanPageSize;
 757     }
 758 
 759     public void setTotalCountLessThanPageSize(boolean totalCountLessThanPageSize) {
 760         this.totalCountLessThanPageSize = totalCountLessThanPageSize;
 761     }
 762 
 763     public boolean isPromptSearch() {
 764         return promptSearch;
 765     }
 766 
 767     public void setPromptSearch(boolean promptSearch) {
 768         this.promptSearch = promptSearch;
 769     }
 770 
 771     public boolean isMultiSelectCheckBoxOnly() {
 772         return multiSelectCheckBoxOnly;
 773     }
 774 
 775     public void setMultiSelectCheckBoxOnly(boolean multiSelectCheckBoxOnly) {
 776 	    this.multiSelectCheckBoxOnly = multiSelectCheckBoxOnly;
 777     }
 778 
 779     public String getHelpText() { return helpText; }
 780 
 781     public void setHelpText(String helpText) { this.helpText = helpText; }
 782 
 783 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                            <td><pre>   1 /*
   2  * #%L
   3  * BroadleafCommerce Open Admin Platform
   4  * %%
   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6  * %%
   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10  * the Broadleaf End User License Agreement (EULA), Version 1.1
  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12  * shall apply.
  13  *
<abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr>
<abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr>
  16  * #L%
  17  */
  18 package org.broadleafcommerce.openadmin.web.form.component;
  19 
  20 import java.util.ArrayList;
  21 import java.util.Comparator;
  22 import java.util.List;
  23 import java.util.Set;
  24 import java.util.TreeSet;
  25 import org.apache.commons.collections.CollectionUtils;
  26 import org.apache.commons.lang3.StringUtils;
  27 import org.apache.commons.lang3.builder.CompareToBuilder;
  28 import org.broadleafcommerce.common.presentation.client.AddMethodType;
  29 import org.broadleafcommerce.common.util.TypedPredicate;
  30 import org.broadleafcommerce.openadmin.dto.SectionCrumb;
  31 import org.broadleafcommerce.openadmin.server.service.type.FetchType;
  32 import org.broadleafcommerce.openadmin.web.form.entity.Field;
  33 import org.broadleafcommerce.openadmin.web.rulebuilder.dto.DataWrapper;
  34 import org.broadleafcommerce.openadmin.web.rulebuilder.dto.FieldWrapper;
  35 
  36 
  37 public class ListGrid {
  38     protected String className;
  39 
  40     protected String friendlyName = null;
  41 
  42     protected String idProperty;
  43 
  44     protected int order;
  45 
  46     protected boolean isSortable;
  47 
  48     protected boolean hideFriendlyName;
  49 
  50     protected Set&lt;Field&gt; headerFields = new TreeSet&lt;Field&gt;(new Comparator&lt;Field&gt;() {
  51         @Override
  52         public int compare(Field o1, Field o2) {
<abbr title="  53             return new CompareToBuilder().append(o1.getOrder(), o2.getOrder()).append(o1.getFriendlyName(), o2.getFriendlyName()).append(o1.getName(), o2.getName()).toComparison();">  53             return new CompareToBuilder().append(o1.getOrder(), o2.getOrder()).append(o1.getFriendlyName(ðŸ”µ</abbr>
  54         }
  55     });
  56 
  57     protected List&lt;ListGridRecord&gt; records = new ArrayList&lt;ListGridRecord&gt;();
  58 
  59     protected List&lt;ListGridAction&gt; toolbarActions = new ArrayList&lt;ListGridAction&gt;();
  60 
<abbr title="  61     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  61     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
<abbr title="  62     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  62     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
  63     protected List&lt;ListGridAction&gt; rowActions = new ArrayList&lt;ListGridAction&gt;();
  64 
  65     protected List&lt;ListGridActionGroup&gt; toolbarActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  66 
  67     protected List&lt;ListGridActionGroup&gt; rowActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  68 
<abbr title="  69     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  69     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
<abbr title="  70     // These actions will start greyed out and unable to be clicked until a specific row has been selected">  70     // These actions will start greyed out and unable to be clicked until a specific row has been selecteðŸ”µ</abbr>
  71     protected List&lt;ListGridAction&gt; modalRowActions = new ArrayList&lt;ListGridAction&gt;();
  72 
  73     protected int totalRecords;
  74 
  75     protected int startIndex;
  76 
  77     protected int pageSize;
  78 
  79     protected Boolean canFilterAndSort;
  80 
  81     protected Boolean isReadOnly;
  82 
  83     protected Boolean hideIdColumn;
  84 
  85     protected String fetchType = FetchType.DEFAULT.toString();
  86 
  87     protected long firstId;
  88 
  89     protected long lastId;
  90 
  91     protected int upperCount;
  92 
  93     protected int lowerCount;
  94 
  95     protected boolean totalCountLessThanPageSize;
  96 
  97     protected boolean promptSearch;
  98 
  99     // If true, only clicking the check box area will toggle the row selection when using multi select
 100     protected boolean multiSelectCheckBoxOnly;
 101 
 102     protected AddMethodType addMethodType;
 103 
 104     protected String listGridType;
 105 
 106     protected String selectType;
 107 
 108     protected String selectizeUrl;
 109 
 110     protected Boolean manualFetch;
 111 
 112     protected String helpText;
 113 
 114     // The section url that maps to this particular list grid
 115     // The section url that maps to this particular list grid
 116     protected String sectionKey;
 117 
<abbr title=" 118     // The list of all section keys that have been traversed to arrive at this ListGrid (including the current one), in order"> 118     // The list of all section keys that have been traversed to arrive at this ListGrid (including the cuðŸ”µ</abbr>
 119     // of occurrence
 120     protected List&lt;SectionCrumb&gt; sectionCrumbs = new ArrayList&lt;SectionCrumb&gt;();
 121 
<abbr title=" 122     // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these properties"> 122     // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these prðŸ”µ</abbr>
 123     // help identify the parent entity.
 124     protected String externalEntitySectionKey;
 125 
 126     protected String containingEntityId;
 127 
 128     protected String subCollectionFieldName;
 129 
 130     protected String pathOverride;
 131 
 132     protected String searchFieldsTemplateOverride;
 133 
 134     protected String templateOverride;
 135 
 136     public enum Type {
 137 
 138         MAIN,
 139         TO_ONE,
 140         BASIC,
 141         ADORNED,
 142         ADORNED_WITH_FORM,
 143         MAP,
 144         TRANSLATION,
 145         ASSET,
 146         WORKFLOW,
 147         TREE,
 148         ASSET_GRID,
 149         ASSET_GRID_FOLDER;}
 150 
 151     public enum SelectType {
 152 
 153         SINGLE_SELECT,
 154         MULTI_SELECT,
 155         SELECTIZE,
 156         NONE;}
 157 
 158     /* Filter Builder required Fields */
 159     protected String fieldBuilder;
 160 
 161     protected DataWrapper dataWrapper;
 162 
 163     protected String json;
 164 
 165     protected String jsonFieldName;
 166 
 167     protected FieldWrapper fieldWrapper;
 168 
 169     /* ************** */
 170     /* CUSTOM METHODS */
 171     /* ************** */
 172 
 173     public String getPath() {
 174         if (StringUtils.isNotBlank(pathOverride)) {
 175             return pathOverride;
 176         }
 177 
 178         StringBuilder sb = new StringBuilder();
 179 
 180         if (!getSectionKey().startsWith(&quot;/&quot;)) {
 181             sb.append(&quot;/&quot;);
 182         }
 183 
 184         sb.append(getSectionKey());
 185         if (getContainingEntityId() != null) {
 186             sb.append(&quot;/&quot;).append(getContainingEntityId());
 187         }
 188 
 189         if (StringUtils.isNotBlank(getSubCollectionFieldName())) {
 190             sb.append(&quot;/&quot;).append(getSubCollectionFieldName());
 191         }
 192 
 193         //to-one grids need a slightly different grid URL; these need to be appended with &#x27;select&#x27;
 194         //TODO: surely there&#x27;s a better way to do this besides just hardcoding the &#x27;select&#x27;?
 195         if (Type.TO_ONE.toString().toLowerCase().equals(listGridType)) {
 196             sb.append(&quot;/select&quot;);
 197         }
 198 
 199         return sb.toString();
 200     }
 201 
 202     public String getSectionCrumbRepresentation() {
 203         StringBuilder sb = new StringBuilder();
 204         if (!sectionCrumbs.isEmpty()) {
 205            sb.append(&quot;?sectionCrumbs=&quot;);
 206         }
 207         int index = 0;
 208         for (SectionCrumb section : sectionCrumbs) {
 209             sb.append(section.getSectionIdentifier());
 210             sb.append(&quot;--&quot;);
 211             sb.append(section.getSectionId());
 212             if (index &lt; sectionCrumbs.size()-1) {
 213                 sb.append(&quot;,&quot;);
 214             }
 215             index++;
 216         }
 217         return sb.toString();
 218     }
 219 
 220     /**
<abbr title=" 221      * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly state as the listgrid"> 221      * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly sðŸ”µ</abbr>
 222      * and are thus shown on the screen
 223      */
 224     @SuppressWarnings(&quot;unchecked&quot;)
 225     public List&lt;ListGridAction&gt; getActiveToolbarActions() {
<abbr title=" 226         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 226         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListðŸ”µ</abbr>
 227 
 228             @Override
 229             public boolean eval(ListGridAction action) {
 230                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 231             }
 232         });
 233     }
 234 
 235     /**
<abbr title=" 236      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 236      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly stateðŸ”µ</abbr>
 237      * and are thus shown on the screen
 238      */
 239     @SuppressWarnings(&quot;unchecked&quot;)
 240     public List&lt;ListGridAction&gt; getActiveRowActions() {
<abbr title=" 241         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 241         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridðŸ”µ</abbr>
 242 
 243             @Override
 244             public boolean eval(ListGridAction action) {
 245                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 246             }
 247         });
 248     }
 249 
 250     /**
<abbr title=" 251      * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same readonly state as the listgrid"> 251      * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same reaðŸ”µ</abbr>
 252      * and are thus shown on the screen
 253      */
 254     @SuppressWarnings(&quot;unchecked&quot;)
 255     public List&lt;ListGridAction&gt; getActiveToolbarActionGroups() {
<abbr title=" 256         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 256         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicateðŸ”µ</abbr>
 257 
 258             @Override
 259             public boolean eval(ListGridActionGroup actionGroup) {
 260                 boolean result = false;
 261                 for (ListGridAction action : actionGroup.getListGridActions()) {
 262                     if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 263                         result = true;
 264                     }
 265                 }
 266                 return result;
 267             }
 268         });
 269     }
 270 
 271     /**
<abbr title=" 272      * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonly state as the listgrid"> 272      * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonlðŸ”µ</abbr>
 273      * and are thus shown on the screen
 274      */
 275     @SuppressWarnings(&quot;unchecked&quot;)
 276     public List&lt;ListGridAction&gt; getActiveRowActionGroups() {
<abbr title=" 277         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 277         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;LisðŸ”µ</abbr>
 278 
 279             @Override
 280             public boolean eval(ListGridActionGroup actionGroup) {
 281                 boolean result = false;
 282                 for (ListGridAction action : actionGroup.getListGridActions()) {
 283                     if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 284                         result = true;
 285                     }
 286                 }
 287                 return result;
 288             }
 289         });
 290     }
 291 
 292     /**
<abbr title=" 293      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 293      * Grabs a filtered list of row actions filtered by whether or not they match the same readonly stateðŸ”µ</abbr>
 294      * and are thus shown on the screen
 295      */
 296     @SuppressWarnings(&quot;unchecked&quot;)
 297     public List&lt;ListGridAction&gt; getActiveModalRowActions() {
<abbr title=" 298         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 298         return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;LisðŸ”µ</abbr>
 299 
 300             @Override
 301             public boolean eval(ListGridAction action) {
 302                 return action.getForListGridReadOnly().equals(getIsReadOnly());
 303             }
 304         });
 305     }
 306 
 307     public void addRowAction(ListGridAction action) {
 308         getRowActions().add(action);
 309     }
 310 
 311     public void addModalRowAction(ListGridAction action) {
 312         getModalRowActions().add(action);
 313     }
 314 
 315     public void addToolbarAction(ListGridAction action) {
 316         getToolbarActions().add(action);
 317     }
 318 
 319     public void removeAllToolbarActions() {
 320         getToolbarActions().clear();
 321     }
 322 
 323     public void removeAllRowActions() {
 324         getRowActions().clear();
 325     }
 326 
 327     public void addToolbarActionGroup(ListGridActionGroup actionGroup) {
 328         getToolbarActionGroups().add(actionGroup);
 329     }
 330 
 331     public void removeAllToolbarActionGroups() {
 332         getToolbarActionGroups().clear();
 333     }
 334 
 335     public void addRowActionGroup(ListGridActionGroup actionGroup) {
 336         getRowActionGroups().add(actionGroup);
 337     }
 338 
 339     public void removeAllRowActionGroups() {
 340         getRowActionGroups().clear();
 341     }
 342 
 343     public void removeAllModalRowActions() {
 344         getModalRowActions().clear();
 345     }
 346 
 347     public ListGridAction findToolbarAction(String actionId) {
 348         for (ListGridAction action : getToolbarActions()) {
 349             if (action.getActionId().equals(actionId)) {
 350                 return action;
 351             }
 352         }
 353         for (ListGridActionGroup actionGroup : getToolbarActionGroups()) {
 354             for (ListGridAction action : actionGroup.getListGridActions()) {
 355                 if (action.getActionId().equals(actionId)) {
 356                     return action;
 357                 }
 358             }
 359         }
 360         return null;
 361     }
 362 
 363     public ListGridAction findRowAction(String actionId) {
 364         for (ListGridAction action : getRowActions()) {
 365             if (action.getActionId().equals(actionId)) {
 366                 return action;
 367             }
 368         }
 369         for (ListGridActionGroup actionGroup : getRowActionGroups()) {
 370             for (ListGridAction action : actionGroup.getListGridActions()) {
 371                 if (action.getActionId().equals(actionId)) {
 372                     return action;
 373                 }
 374             }
 375         }
 376         return null;
 377     }
 378 
 379     public ListGridAction findModalRowAction(String actionId) {
 380         for (ListGridAction action : getModalRowActions()) {
 381             if (action.getActionId().equals(actionId)) {
 382                 return action;
 383             }
 384         }
 385         return null;
 386     }
 387 
 388     /**
<abbr title=" 389      * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordered, then the"> 389      * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordðŸ”µ</abbr>
 390      * sort functionality doesn&#x27;t make any sense.
 391      *
 392      * Also, map structures are currently unsortable.
 393      *
 394      * @return
 395      */
 396     public boolean isSortable() {
 397         return this.isSortable || Type.MAP.toString().toLowerCase().equals(getListGridType());
 398     }
 399 
 400     /* ************************ */
 401     /* CUSTOM GETTERS / SETTERS */
 402     /* ************************ */
 403 
 404     public void setListGridType(Type listGridType) {
 405         this.listGridType = listGridType.toString().toLowerCase();
 406     }
 407 
 408     /**
<abbr title=" 409      * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlers to on the JS"> 409      * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlðŸ”µ</abbr>
 410      * side
 411      * @param listGridType
 412      */
 413     public void setListGridTypeString(String listGridType) {
 414         this.listGridType = listGridType;
 415     }
 416 
 417     public void setSelectType(SelectType selectType) {
 418         this.selectType = selectType.toString().toLowerCase();
 419     }
 420 
 421     public void setSelectTypeString(String selectType) {
 422         this.selectType = selectType;
 423     }
 424 
 425     public Boolean getCanFilterAndSort() {
 426         return (canFilterAndSort == null ? true : canFilterAndSort);
 427     }
 428 
 429     public Boolean getIsReadOnly() {
 430         return isReadOnly == null ? false : isReadOnly;
 431     }
 432 
 433     public Boolean getClickable() {
 434         return !&quot;none&quot;.equals(selectType);
 435     }
 436 
 437     public Boolean getHideIdColumn() {
 438         return hideIdColumn == null ? true : hideIdColumn;
 439     }
 440 
 441     /* ************************** */
 442     /* STANDARD GETTERS / SETTERS */
 443     /* ************************** */
 444 
 445     	public String getIdProperty() {
 446         return idProperty;
 447     }
 448 
 449     public void setIdProperty(String idProperty) {
 450         this.idProperty = idProperty;
 451     }
 452 
 453     public String getClassName() {
 454         return className;
 455     }
 456 
 457     public void setClassName(String className) {
 458         this.className = className;
 459     }
 460 
 461     public int getOrder() {
 462         return order;
 463     }
 464 
 465     public void setOrder(int order) {
 466         this.order = order;
 467     }
 468 
 469     public boolean getIsSortable() {
 470         return isSortable;
 471     }
 472 
 473     public void setIsSortable(boolean isSortable) {
 474         this.isSortable = isSortable;
 475     }
 476 
 477     public boolean getHideFriendlyName() { return hideFriendlyName; }
 478 
<abbr title=" 479     public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName; }"> 479     public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName;ðŸ”µ</abbr>
 480 
 481     public Set&lt;Field&gt; getHeaderFields() {
 482         return headerFields;
 483     }
 484 
 485     public void setHeaderFields(Set&lt;Field&gt; headerFields) {
 486         this.headerFields = headerFields;
 487     }
 488 
 489     public Field findHeaderField(String name) {
 490         if (name == null) {
 491             return null;
 492         }
 493 
 494         for (Field headerField : getHeaderFields()) {
 495             if (name.equals(headerField.getName())) {
 496                 return headerField;
 497             }
 498         }
 499         return null;
 500     }
 501 
 502     public boolean isEmpty() {
 503         return records.isEmpty();
 504     }
 505 
 506     public List&lt;ListGridRecord&gt; getRecords() {
 507         return records;
 508     }
 509 
 510     public void setRecords(List&lt;ListGridRecord&gt; records) {
 511         this.records = records;
 512     }
 513 
 514     public List&lt;ListGridAction&gt; getToolbarActions() {
 515         return toolbarActions;
 516     }
 517 
 518     public void setToolbarActions(List&lt;ListGridAction&gt; toolbarActions) {
 519         this.toolbarActions = toolbarActions;
 520     }
 521 
 522     public List&lt;ListGridAction&gt; getRowActions() {
 523         return rowActions;
 524     }
 525 
 526     public void setRowActions(List&lt;ListGridAction&gt; rowActions) {
 527         this.rowActions = rowActions;
 528     }
 529 
 530     public List&lt;ListGridActionGroup&gt; getToolbarActionGroups() {
 531         return toolbarActionGroups;
 532     }
 533 
 534     public void setToolbarActionGroups(List&lt;ListGridActionGroup&gt; toolbarActionGroups) {
 535         this.toolbarActionGroups = toolbarActionGroups;
 536     }
 537 
 538     public List&lt;ListGridActionGroup&gt; getRowActionGroups() {
 539         return rowActionGroups;
 540     }
 541 
 542     public void setRowActionGroups(List&lt;ListGridActionGroup&gt; rowActionGroups) {
 543         this.rowActionGroups = rowActionGroups;
 544     }
 545 
 546     public List&lt;ListGridAction&gt; getModalRowActions() {
 547         return modalRowActions;
 548     }
 549 
 550     public void setModalRowActions(List&lt;ListGridAction&gt; modalRowActions) {
 551         this.modalRowActions = modalRowActions;
 552     }
 553 
 554     public int getStartIndex() {
 555         return startIndex;
 556     }
 557 
 558     public void setStartIndex(int startIndex) {
 559         this.startIndex = startIndex;
 560     }
 561 
 562     public int getTotalRecords() {
 563         return totalRecords;
 564     }
 565 
 566     public void setTotalRecords(int totalRecords) {
 567         this.totalRecords = totalRecords;
 568     }
 569 
 570     public int getPageSize() {
 571         return pageSize;
 572     }
 573 
 574     public void setPageSize(int pageSize) {
 575         this.pageSize = pageSize;
 576     }
 577 
 578     public void setCanFilterAndSort(Boolean canFilterAndSort) {
 579         this.canFilterAndSort = canFilterAndSort;
 580     }
 581 
 582     public AddMethodType getAddMethodType() {
 583         return addMethodType;
 584     }
 585 
 586     public void setAddMethodType(AddMethodType addMethodType) {
 587         this.addMethodType = addMethodType;
 588     }
 589 
 590     public String getListGridType() {
 591         return listGridType;
 592     }
 593 
 594     public String getSelectType() {
 595         return selectType;
 596     }
 597 
 598     public String getContainingEntityId() {
 599         return containingEntityId;
 600     }
 601 
 602     public void setContainingEntityId(String containingEntityId) {
 603         this.containingEntityId = containingEntityId;
 604     }
 605 
 606     public String getSubCollectionFieldName() {
 607         return subCollectionFieldName;
 608     }
 609 
 610     public void setSubCollectionFieldName(String subCollectionFieldName) {
 611         this.subCollectionFieldName = subCollectionFieldName;
 612     }
 613 
 614     public String getFriendlyName() {
 615         return friendlyName;
 616     }
 617 
 618     public void setFriendlyName(String friendlyName) {
 619         this.friendlyName = friendlyName;
 620     }
 621 
 622     public String getSectionKey() {
 623         return sectionKey;
 624     }
 625 
 626     public void setSectionKey(String sectionKey) {
 627         this.sectionKey = sectionKey;
 628     }
 629 
 630     public String getSelectizeUrl() {
 631         return selectizeUrl;
 632     }
 633 
 634     public void setSelectizeUrl(String selectizeUrl) {
 635         this.selectizeUrl = selectizeUrl;
 636     }
 637 
 638     public Boolean getManualFetch() {
 639         if (manualFetch == null) {
 640             return false;
 641         }
 642         return manualFetch;
 643     }
 644 
 645     public void setManualFetch(Boolean manualFetch) {
 646         this.manualFetch = manualFetch;
 647     }
 648 
 649     public String getExternalEntitySectionKey() {
 650         return externalEntitySectionKey;
 651     }
 652 
 653     public void setExternalEntitySectionKey(String externalEntitySectionKey) {
 654         this.externalEntitySectionKey = externalEntitySectionKey;
 655     }
 656 
 657     public String getPathOverride() {
 658         return pathOverride;
 659     }
 660 
 661     public void setPathOverride(String pathOverride) {
 662         this.pathOverride = pathOverride;
 663     }
 664 
 665     public String getSearchFieldsTemplateOverride() {
 666         return searchFieldsTemplateOverride;
 667     }
 668 
 669     public void setSearchFieldsTemplateOverride(String searchFieldsTemplateOverride) {
 670         this.searchFieldsTemplateOverride = searchFieldsTemplateOverride;
 671     }
 672 
 673     public String getTemplateOverride() {
 674         return templateOverride;
 675     }
 676 
 677     public void setTemplateOverride(String templateOverride) {
 678         this.templateOverride = templateOverride;
 679     }
 680 
 681     public void setIsReadOnly(Boolean readOnly) {
 682         this.isReadOnly = readOnly;
 683     }
 684 
 685     public void setHideIdColumn(Boolean hideIdColumn) {
 686         this.hideIdColumn = hideIdColumn;
 687     }
 688 
 689     public List&lt;SectionCrumb&gt; getSectionCrumbs() {
 690         return sectionCrumbs;
 691     }
 692 
 693     public void setSectionCrumbs(List&lt;SectionCrumb&gt; sectionCrumbs) {
 694         if (sectionCrumbs == null) {
 695             this.sectionCrumbs.clear();
 696             return;
 697         }
 698         this.sectionCrumbs = sectionCrumbs;
 699     }
 700 
 701     public String getFieldBuilder() {
 702         return fieldBuilder;
 703     }
 704 
 705     public void setFieldBuilder(String fieldBuilder) {
 706         this.fieldBuilder = fieldBuilder;
 707     }
 708 
 709     public FieldWrapper getFieldWrapper() {
 710         return fieldWrapper;
 711     }
 712 
 713     public void setFieldWrapper(FieldWrapper fieldWrapper) {
 714         this.fieldWrapper = fieldWrapper;
 715     }
 716 
 717     public DataWrapper getDataWrapper() {
 718         return dataWrapper;
 719     }
 720 
 721     public void setDataWrapper(DataWrapper dataWrapper) {
 722         this.dataWrapper = dataWrapper;
 723     }
 724 
 725     public String getJson() {
 726         return json;
 727     }
 728 
 729     public void setJson(String json) {
 730         this.json = json;
 731     }
 732 
 733     public String getJsonFieldName() {
 734         return jsonFieldName;
 735     }
 736 
 737     public void setJsonFieldName(String jsonFieldName) {
 738         this.jsonFieldName = jsonFieldName;
 739     }
 740 
 741     public String getFetchType() {
 742         return fetchType;
 743     }
 744 
 745     public void setFetchType(String fetchType) {
 746         this.fetchType = fetchType;
 747     }
 748 
 749     public long getFirstId() {
 750         return firstId;
 751     }
 752 
 753     public void setFirstId(long firstId) {
 754         this.firstId = firstId;
 755     }
 756 
 757     public long getLastId() {
 758         return lastId;
 759     }
 760 
 761     public void setLastId(long lastId) {
 762         this.lastId = lastId;
 763     }
 764 
 765     public int getUpperCount() {
 766         return upperCount;
 767     }
 768 
 769     public void setUpperCount(int upperCount) {
 770         this.upperCount = upperCount;
 771     }
 772 
 773     public int getLowerCount() {
 774         return lowerCount;
 775     }
 776 
 777     public void setLowerCount(int lowerCount) {
 778         this.lowerCount = lowerCount;
 779     }
 780 
 781     public boolean isTotalCountLessThanPageSize() {
 782         return totalCountLessThanPageSize;
 783     }
 784 
 785     public void setTotalCountLessThanPageSize(boolean totalCountLessThanPageSize) {
 786         this.totalCountLessThanPageSize = totalCountLessThanPageSize;
 787     }
 788 
 789     public boolean isPromptSearch() {
 790         return promptSearch;
 791     }
 792 
 793     public void setPromptSearch(boolean promptSearch) {
 794         this.promptSearch = promptSearch;
 795     }
 796 
 797     public boolean isMultiSelectCheckBoxOnly() {
 798         return multiSelectCheckBoxOnly;
 799     }
 800 
 801     public void setMultiSelectCheckBoxOnly(boolean multiSelectCheckBoxOnly) {
 802      this.multiSelectCheckBoxOnly = multiSelectCheckBoxOnly;
 803     }
 804 
 805     public String getHelpText() { return helpText; }
 806 
 807     public void setHelpText(String helpText) { this.helpText = helpText; }
 808 }</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre>   1  /*
   2   * #%L
   3   * BroadleafCommerce Open Admin Platform
   4   * %%
   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6   * %%
   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10   * the Broadleaf End User License Agreement (EULA), Version 1.1
  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12   * shall apply.
  13   *
<abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr>
  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.
  16   * #L%
  17   */
  18  
  19  package org.broadleafcommerce.openadmin.web.form.component;
  20  
  21  import org.apache.commons.collections.CollectionUtils;
  22  import org.apache.commons.lang3.StringUtils;
  23  import org.apache.commons.lang3.builder.CompareToBuilder;
  24  import org.broadleafcommerce.common.presentation.client.AddMethodType;
  25  import org.broadleafcommerce.common.util.TypedPredicate;
  26  import org.broadleafcommerce.openadmin.dto.SectionCrumb;
  27  import org.broadleafcommerce.openadmin.server.service.type.FetchType;
  28  import org.broadleafcommerce.openadmin.web.form.entity.Field;
  29  import org.broadleafcommerce.openadmin.web.rulebuilder.dto.DataWrapper;
  30  import org.broadleafcommerce.openadmin.web.rulebuilder.dto.FieldWrapper;
  31  
  32  import java.util.ArrayList;
  33  import java.util.Comparator;
  34  import java.util.List;
  35  import java.util.Set;
  36  import java.util.TreeSet;
  37  
  38  public class ListGrid {
  39  
  40      protected String className;
  41      protected String friendlyName = null;
  42      protected String idProperty;
  43      protected int order;
  44      protected boolean isSortable;
  45  
  46      protected boolean hideFriendlyName;
  47  
  48      protected Set&lt;Field&gt; headerFields = new TreeSet&lt;Field&gt;(new Comparator&lt;Field&gt;() {
  49  
  50          @Override
  51          public int compare(Field o1, Field o2) {
  52              return new CompareToBuilder()
  53                      .append(o1.getOrder(), o2.getOrder())
  54                      .append(o1.getFriendlyName(), o2.getFriendlyName())
  55                      .append(o1.getName(), o2.getName())
  56                      .toComparison();
  57          }
  58      });
  59      protected List&lt;ListGridRecord&gt; records = new ArrayList&lt;ListGridRecord&gt;();
  60      protected List&lt;ListGridAction&gt; toolbarActions = new ArrayList&lt;ListGridAction&gt;();
  61  
  62      // These actions will start greyed out and unable to be clicked until a specific row has been selected
  63      protected List&lt;ListGridAction&gt; rowActions = new ArrayList&lt;ListGridAction&gt;();
  64  
  65      protected List&lt;ListGridActionGroup&gt; toolbarActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  66      protected List&lt;ListGridActionGroup&gt; rowActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  67  
  68      // These actions will start greyed out and unable to be clicked until a specific row has been selected
  69      protected List&lt;ListGridAction&gt; modalRowActions = new ArrayList&lt;ListGridAction&gt;();
  70      protected int totalRecords;
  71      protected int startIndex;
  72      protected int pageSize;
  73      protected Boolean canFilterAndSort;
  74      protected Boolean isReadOnly;
  75      protected Boolean hideIdColumn;
  76      protected String fetchType = FetchType.DEFAULT.toString();
  77      protected long firstId;
  78      protected long lastId;
  79      protected int upperCount;
  80      protected int lowerCount;
  81      protected boolean totalCountLessThanPageSize;
  82      protected boolean promptSearch;
  83  
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +    // If true, only clicking the check box area will toggle the row selection when using multi select</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +    protected boolean multiSelectCheckBoxOnly;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +</span>
  87      protected AddMethodType addMethodType;
  88      protected String listGridType;
  89      protected String selectType;
  90  
  91      protected String selectizeUrl;
  92  
  93      protected Boolean manualFetch;

  94  
  95      // The section url that maps to this particular list grid
  96      protected String sectionKey;
  97  
<abbr title="  98      // The list of all section keys that have been traversed to arrive at this ListGrid (including the current one), in order">  98      // The list of all section keys that have been traversed to arrive at this ListGrid (including the current oneðŸ”µ</abbr>
  99      // of occurrence
 100      protected List&lt;SectionCrumb&gt; sectionCrumbs = new ArrayList&lt;SectionCrumb&gt;();
 101  
 102      // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these properties
 103      // help identify the parent entity.
 104      protected String externalEntitySectionKey;
 105      protected String containingEntityId;
 106      protected String subCollectionFieldName;
 107      protected String pathOverride;
 108      protected String searchFieldsTemplateOverride;
 109      protected String templateOverride;
 110  
 111      public enum Type {
 112          MAIN,
 113          TO_ONE,
 114          BASIC,
 115          ADORNED,
 116          ADORNED_WITH_FORM,
 117          MAP,
 118          TRANSLATION,
 119          ASSET,
 120          WORKFLOW,
 121          TREE,
 122          ASSET_GRID,
 123          ASSET_GRID_FOLDER
 124      }
 125  
 126      public enum SelectType {
 127          SINGLE_SELECT,
 128          MULTI_SELECT,
 129          SELECTIZE,
 130          NONE
 131      }
 132  
 133      /* Filter Builder required Fields */
 134      protected String fieldBuilder;
 135      protected DataWrapper dataWrapper;
 136      protected String json;
 137      protected String jsonFieldName;
 138      protected FieldWrapper fieldWrapper;
 139  
 140  
 141  
 142      /* ************** */
 143      /* CUSTOM METHODS */
 144      /* ************** */
 145  
 146      public String getPath() {
 147          if (StringUtils.isNotBlank(pathOverride)) {
 148              return pathOverride;
 149          }
 150  
 151          StringBuilder sb = new StringBuilder();
 152  
 153          if (!getSectionKey().startsWith(&quot;/&quot;)) {
 154              sb.append(&quot;/&quot;);
 155          }
 156  
 157          sb.append(getSectionKey());
 158          if (getContainingEntityId() != null) {
 159              sb.append(&quot;/&quot;).append(getContainingEntityId());
 160          }
 161  
 162          if (StringUtils.isNotBlank(getSubCollectionFieldName())) {
 163              sb.append(&quot;/&quot;).append(getSubCollectionFieldName());
 164          }
 165  
 166          //to-one grids need a slightly different grid URL; these need to be appended with &#x27;select&#x27;
 167          //TODO: surely there&#x27;s a better way to do this besides just hardcoding the &#x27;select&#x27;?
 168          if (Type.TO_ONE.toString().toLowerCase().equals(listGridType)) {
 169              sb.append(&quot;/select&quot;);
 170          }
 171  
 172          return sb.toString();
 173      }
 174  
 175      public String getSectionCrumbRepresentation() {
 176          StringBuilder sb = new StringBuilder();
 177          if (!sectionCrumbs.isEmpty()) {
 178             sb.append(&quot;?sectionCrumbs=&quot;);
 179          }
 180          int index = 0;
 181          for (SectionCrumb section : sectionCrumbs) {
 182              sb.append(section.getSectionIdentifier());
 183              sb.append(&quot;--&quot;);
 184              sb.append(section.getSectionId());
 185              if (index &lt; sectionCrumbs.size()-1) {
 186                  sb.append(&quot;,&quot;);
 187              }
 188              index++;
 189          }
 190          return sb.toString();
 191      }
 192  
 193      /**
<abbr title=" 194       * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly state as the listgrid"> 194       * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly state as tðŸ”µ</abbr>
 195       * and are thus shown on the screen
 196       */
 197      @SuppressWarnings(&quot;unchecked&quot;)
 198      public List&lt;ListGridAction&gt; getActiveToolbarActions() {
<abbr title=" 199          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 199          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListGridActioðŸ”µ</abbr>
 200  
 201              @Override
 202              public boolean eval(ListGridAction action) {
 203                  return action.getForListGridReadOnly().equals(getIsReadOnly());
 204              }
 205          });
 206      }
 207  
 208      /**
<abbr title=" 209       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 209       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the lðŸ”µ</abbr>
 210       * and are thus shown on the screen
 211       */
 212      @SuppressWarnings(&quot;unchecked&quot;)
 213      public List&lt;ListGridAction&gt; getActiveRowActions() {
<abbr title=" 214          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 214          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridAction&gt;()ðŸ”µ</abbr>
 215  
 216              @Override
 217              public boolean eval(ListGridAction action) {
 218                  return action.getForListGridReadOnly().equals(getIsReadOnly());
 219              }
 220          });
 221      }
 222  
 223      /**
<abbr title=" 224       * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same readonly state as the listgrid"> 224       * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same readonly staðŸ”µ</abbr>
 225       * and are thus shown on the screen
 226       */
 227      @SuppressWarnings(&quot;unchecked&quot;)
 228      public List&lt;ListGridAction&gt; getActiveToolbarActionGroups() {
<abbr title=" 229          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 229          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicate&lt;ListGridðŸ”µ</abbr>
 230  
 231              @Override
 232              public boolean eval(ListGridActionGroup actionGroup) {
 233                  boolean result = false;
 234                  for (ListGridAction action : actionGroup.getListGridActions()) {
 235                      if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 236                          result = true;
 237                      }
 238                  }
 239                  return result;
 240              }
 241          });
 242      }
 243  
 244      /**
<abbr title=" 245       * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonly state as the listgrid"> 245       * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonly state aðŸ”µ</abbr>
 246       * and are thus shown on the screen
 247       */
 248      @SuppressWarnings(&quot;unchecked&quot;)
 249      public List&lt;ListGridAction&gt; getActiveRowActionGroups() {
<abbr title=" 250          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 250          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;ListGridActiðŸ”µ</abbr>
 251  
 252              @Override
 253              public boolean eval(ListGridActionGroup actionGroup) {
 254                  boolean result = false;
 255                  for (ListGridAction action : actionGroup.getListGridActions()) {
 256                      if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 257                          result = true;
 258                      }
 259                  }
 260                  return result;
 261              }
 262          });
 263      }
 264  
 265      /**
<abbr title=" 266       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 266       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the lðŸ”µ</abbr>
 267       * and are thus shown on the screen
 268       */
 269      @SuppressWarnings(&quot;unchecked&quot;)
 270      public List&lt;ListGridAction&gt; getActiveModalRowActions() {
<abbr title=" 271          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 271          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;ListGridActiðŸ”µ</abbr>
 272  
 273              @Override
 274              public boolean eval(ListGridAction action) {
 275                  return action.getForListGridReadOnly().equals(getIsReadOnly());
 276              }
 277          });
 278      }
 279  
 280      public void addRowAction(ListGridAction action) {
 281          getRowActions().add(action);
 282      }
 283  
 284      public void addModalRowAction(ListGridAction action) {
 285          getModalRowActions().add(action);
 286      }
 287  
 288      public void addToolbarAction(ListGridAction action) {
 289          getToolbarActions().add(action);
 290      }
 291  
 292      public void removeAllToolbarActions() {
 293          getToolbarActions().clear();
 294      }
 295  
 296      public void removeAllRowActions() {
 297          getRowActions().clear();
 298      }
 299  
 300      public void addToolbarActionGroup(ListGridActionGroup actionGroup) {
 301          getToolbarActionGroups().add(actionGroup);
 302      }
 303  
 304      public void removeAllToolbarActionGroups() {
 305          getToolbarActionGroups().clear();
 306      }
 307  
 308      public void addRowActionGroup(ListGridActionGroup actionGroup) {
 309          getRowActionGroups().add(actionGroup);
 310      }
 311  
 312      public void removeAllRowActionGroups() {
 313          getRowActionGroups().clear();
 314      }
 315  
 316      public void removeAllModalRowActions() {
 317          getModalRowActions().clear();
 318      }
 319  
 320      public ListGridAction findToolbarAction(String actionId) {
 321          for (ListGridAction action : getToolbarActions()) {
 322              if (action.getActionId().equals(actionId)) {
 323                  return action;
 324              }
 325          }
 326          for (ListGridActionGroup actionGroup : getToolbarActionGroups()) {
 327              for (ListGridAction action : actionGroup.getListGridActions()) {
 328                  if (action.getActionId().equals(actionId)) {
 329                      return action;
 330                  }
 331              }
 332          }
 333          return null;
 334      }
 335  
 336      public ListGridAction findRowAction(String actionId) {
 337          for (ListGridAction action : getRowActions()) {
 338              if (action.getActionId().equals(actionId)) {
 339                  return action;
 340              }
 341          }
 342          for (ListGridActionGroup actionGroup : getRowActionGroups()) {
 343              for (ListGridAction action : actionGroup.getListGridActions()) {
 344                  if (action.getActionId().equals(actionId)) {
 345                      return action;
 346                  }
 347              }
 348          }
 349          return null;
 350      }
 351  
 352      public ListGridAction findModalRowAction(String actionId) {
 353          for (ListGridAction action : getModalRowActions()) {
 354              if (action.getActionId().equals(actionId)) {
 355                  return action;
 356              }
 357          }
 358          return null;
 359      }
 360  
 361      /**
<abbr title=" 362       * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordered, then the"> 362       * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordered, theðŸ”µ</abbr>
 363       * sort functionality doesn&#x27;t make any sense.
 364       *
 365       * Also, map structures are currently unsortable.
 366       *
 367       * @return
 368       */
 369      public boolean isSortable() {
 370          return this.isSortable || Type.MAP.toString().toLowerCase().equals(getListGridType());
 371      }
 372  
 373      /* ************************ */
 374      /* CUSTOM GETTERS / SETTERS */
 375      /* ************************ */
 376  
 377      public void setListGridType(Type listGridType) {
 378          this.listGridType = listGridType.toString().toLowerCase();
 379      }
 380  
 381      /**
<abbr title=" 382       * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlers to on the JS"> 382       * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlers to onðŸ”µ</abbr>
 383       * side
 384       * @param listGridType
 385       */
 386      public void setListGridTypeString(String listGridType) {
 387          this.listGridType = listGridType;
 388      }
 389  
 390      public void setSelectType(SelectType selectType) {
 391          this.selectType = selectType.toString().toLowerCase();
 392      }
 393  
 394      public void setSelectTypeString(String selectType) {
 395          this.selectType = selectType;
 396      }
 397  
 398      public Boolean getCanFilterAndSort() {
 399          return (canFilterAndSort == null ? true : canFilterAndSort);
 400      }
 401  
 402      public Boolean getIsReadOnly() {
 403          return isReadOnly == null ? false : isReadOnly;
 404      }
 405  
 406      public Boolean getClickable() {
 407          return !&quot;none&quot;.equals(selectType);
 408      }
 409  
 410      public Boolean getHideIdColumn() {
 411          return hideIdColumn == null ? true : hideIdColumn;
 412      }
 413  
 414      /* ************************** */
 415      /* STANDARD GETTERS / SETTERS */
 416      /* ************************** */
 417  
 418  	public String getIdProperty() {
 419          return idProperty;
 420      }
 421  
 422      public void setIdProperty(String idProperty) {
 423          this.idProperty = idProperty;
 424      }
 425  
 426      public String getClassName() {
 427          return className;
 428      }
 429  
 430      public void setClassName(String className) {
 431          this.className = className;
 432      }
 433  
 434      public int getOrder() {
 435          return order;
 436      }
 437  
 438      public void setOrder(int order) {
 439          this.order = order;
 440      }
 441  
 442      public boolean getIsSortable() {
 443          return isSortable;
 444      }
 445  
 446      public void setIsSortable(boolean isSortable) {
 447          this.isSortable = isSortable;
 448      }
 449  
 450      public boolean getHideFriendlyName() { return hideFriendlyName; }
 451  
 452      public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName; }
 453  
 454      public Set&lt;Field&gt; getHeaderFields() {
 455          return headerFields;
 456      }
 457  
 458      public void setHeaderFields(Set&lt;Field&gt; headerFields) {
 459          this.headerFields = headerFields;
 460      }
 461  
 462      public Field findHeaderField(String name) {
 463          if (name == null) {
 464              return null;
 465          }
 466  
 467          for (Field headerField : getHeaderFields()) {
 468              if (name.equals(headerField.getName())) {
 469                  return headerField;
 470              }
 471          }
 472          return null;
 473      }
 474  
 475      public boolean isEmpty() {
 476          return records.isEmpty();
 477      }
 478  
 479      public List&lt;ListGridRecord&gt; getRecords() {
 480          return records;
 481      }
 482  
 483      public void setRecords(List&lt;ListGridRecord&gt; records) {
 484          this.records = records;
 485      }
 486  
 487      public List&lt;ListGridAction&gt; getToolbarActions() {
 488          return toolbarActions;
 489      }
 490  
 491      public void setToolbarActions(List&lt;ListGridAction&gt; toolbarActions) {
 492          this.toolbarActions = toolbarActions;
 493      }
 494  
 495      public List&lt;ListGridAction&gt; getRowActions() {
 496          return rowActions;
 497      }
 498  
 499      public void setRowActions(List&lt;ListGridAction&gt; rowActions) {
 500          this.rowActions = rowActions;
 501      }
 502  
 503      public List&lt;ListGridActionGroup&gt; getToolbarActionGroups() {
 504          return toolbarActionGroups;
 505      }
 506  
 507      public void setToolbarActionGroups(List&lt;ListGridActionGroup&gt; toolbarActionGroups) {
 508          this.toolbarActionGroups = toolbarActionGroups;
 509      }
 510  
 511      public List&lt;ListGridActionGroup&gt; getRowActionGroups() {
 512          return rowActionGroups;
 513      }
 514  
 515      public void setRowActionGroups(List&lt;ListGridActionGroup&gt; rowActionGroups) {
 516          this.rowActionGroups = rowActionGroups;
 517      }
 518  
 519      public List&lt;ListGridAction&gt; getModalRowActions() {
 520          return modalRowActions;
 521      }
 522  
 523      public void setModalRowActions(List&lt;ListGridAction&gt; modalRowActions) {
 524          this.modalRowActions = modalRowActions;
 525      }
 526  
 527      public int getStartIndex() {
 528          return startIndex;
 529      }
 530  
 531      public void setStartIndex(int startIndex) {
 532          this.startIndex = startIndex;
 533      }
 534  
 535      public int getTotalRecords() {
 536          return totalRecords;
 537      }
 538  
 539      public void setTotalRecords(int totalRecords) {
 540          this.totalRecords = totalRecords;
 541      }
 542  
 543      public int getPageSize() {
 544          return pageSize;
 545      }
 546  
 547      public void setPageSize(int pageSize) {
 548          this.pageSize = pageSize;
 549      }
 550  
 551      public void setCanFilterAndSort(Boolean canFilterAndSort) {
 552          this.canFilterAndSort = canFilterAndSort;
 553      }
 554  
 555      public AddMethodType getAddMethodType() {
 556          return addMethodType;
 557      }
 558  
 559      public void setAddMethodType(AddMethodType addMethodType) {
 560          this.addMethodType = addMethodType;
 561      }
 562  
 563      public String getListGridType() {
 564          return listGridType;
 565      }
 566  
 567      public String getSelectType() {
 568          return selectType;
 569      }
 570  
 571      public String getContainingEntityId() {
 572          return containingEntityId;
 573      }
 574  
 575      public void setContainingEntityId(String containingEntityId) {
 576          this.containingEntityId = containingEntityId;
 577      }
 578  
 579      public String getSubCollectionFieldName() {
 580          return subCollectionFieldName;
 581      }
 582  
 583      public void setSubCollectionFieldName(String subCollectionFieldName) {
 584          this.subCollectionFieldName = subCollectionFieldName;
 585      }
 586  
 587      public String getFriendlyName() {
 588          return friendlyName;
 589      }
 590  
 591      public void setFriendlyName(String friendlyName) {
 592          this.friendlyName = friendlyName;
 593      }
 594  
 595      public String getSectionKey() {
 596          return sectionKey;
 597      }
 598  
 599      public void setSectionKey(String sectionKey) {
 600          this.sectionKey = sectionKey;
 601      }
 602  
 603      public String getSelectizeUrl() {
 604          return selectizeUrl;
 605      }
 606  
 607      public void setSelectizeUrl(String selectizeUrl) {
 608          this.selectizeUrl = selectizeUrl;
 609      }
 610  
 611      public Boolean getManualFetch() {
 612          if (manualFetch == null) {
 613              return false;
 614          }
 615          return manualFetch;
 616      }
 617  
 618      public void setManualFetch(Boolean manualFetch) {
 619          this.manualFetch = manualFetch;
 620      }
 621  
 622      public String getExternalEntitySectionKey() {
 623          return externalEntitySectionKey;
 624      }
 625  
 626      public void setExternalEntitySectionKey(String externalEntitySectionKey) {
 627          this.externalEntitySectionKey = externalEntitySectionKey;
 628      }
 629  
 630      public String getPathOverride() {
 631          return pathOverride;
 632      }
 633  
 634      public void setPathOverride(String pathOverride) {
 635          this.pathOverride = pathOverride;
 636      }
 637  
 638      public String getSearchFieldsTemplateOverride() {
 639          return searchFieldsTemplateOverride;
 640      }
 641  
 642      public void setSearchFieldsTemplateOverride(String searchFieldsTemplateOverride) {
 643          this.searchFieldsTemplateOverride = searchFieldsTemplateOverride;
 644      }
 645  
 646      public String getTemplateOverride() {
 647          return templateOverride;
 648      }
 649  
 650      public void setTemplateOverride(String templateOverride) {
 651          this.templateOverride = templateOverride;
 652      }
 653  
 654      public void setIsReadOnly(Boolean readOnly) {
 655          this.isReadOnly = readOnly;
 656      }
 657  
 658      public void setHideIdColumn(Boolean hideIdColumn) {
 659          this.hideIdColumn = hideIdColumn;
 660      }
 661  
 662      public List&lt;SectionCrumb&gt; getSectionCrumbs() {
 663          return sectionCrumbs;
 664      }
 665  
 666      public void setSectionCrumbs(List&lt;SectionCrumb&gt; sectionCrumbs) {
 667          if (sectionCrumbs == null) {
 668              this.sectionCrumbs.clear();
 669              return;
 670          }
 671          this.sectionCrumbs = sectionCrumbs;
 672      }
 673  
 674      public String getFieldBuilder() {
 675          return fieldBuilder;
 676      }
 677  
 678      public void setFieldBuilder(String fieldBuilder) {
 679          this.fieldBuilder = fieldBuilder;
 680      }
 681  
 682      public FieldWrapper getFieldWrapper() {
 683          return fieldWrapper;
 684      }
 685  
 686      public void setFieldWrapper(FieldWrapper fieldWrapper) {
 687          this.fieldWrapper = fieldWrapper;
 688      }
 689  
 690      public DataWrapper getDataWrapper() {
 691          return dataWrapper;
 692      }
 693  
 694      public void setDataWrapper(DataWrapper dataWrapper) {
 695          this.dataWrapper = dataWrapper;
 696      }
 697  
 698      public String getJson() {
 699          return json;
 700      }
 701  
 702      public void setJson(String json) {
 703          this.json = json;
 704      }
 705  
 706      public String getJsonFieldName() {
 707          return jsonFieldName;
 708      }
 709  
 710      public void setJsonFieldName(String jsonFieldName) {
 711          this.jsonFieldName = jsonFieldName;
 712      }
 713  
 714      public String getFetchType() {
 715          return fetchType;
 716      }
 717  
 718      public void setFetchType(String fetchType) {
 719          this.fetchType = fetchType;
 720      }
 721  
 722      public long getFirstId() {
 723          return firstId;
 724      }
 725  
 726      public void setFirstId(long firstId) {
 727          this.firstId = firstId;
 728      }
 729  
 730      public long getLastId() {
 731          return lastId;
 732      }
 733  
 734      public void setLastId(long lastId) {
 735          this.lastId = lastId;
 736      }
 737  
 738      public int getUpperCount() {
 739          return upperCount;
 740      }
 741  
 742      public void setUpperCount(int upperCount) {
 743          this.upperCount = upperCount;
 744      }
 745  
 746      public int getLowerCount() {
 747          return lowerCount;
 748      }
 749  
 750      public void setLowerCount(int lowerCount) {
 751          this.lowerCount = lowerCount;
 752      }
 753  
 754      public boolean isTotalCountLessThanPageSize() {
 755          return totalCountLessThanPageSize;
 756      }
 757  
 758      public void setTotalCountLessThanPageSize(boolean totalCountLessThanPageSize) {
 759          this.totalCountLessThanPageSize = totalCountLessThanPageSize;
 760      }
 761  
 762      public boolean isPromptSearch() {
 763          return promptSearch;
 764      }
 765  
 766      public void setPromptSearch(boolean promptSearch) {
 767          this.promptSearch = promptSearch;
 768      }
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 769 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 770 +    public boolean isMultiSelectCheckBoxOnly() {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 771 +        return multiSelectCheckBoxOnly;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 772 +    }</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 773 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 774 +    public void setMultiSelectCheckBoxOnly(boolean multiSelectCheckBoxOnly) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 775 +	    this.multiSelectCheckBoxOnly = multiSelectCheckBoxOnly;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 776 +    }</span>
 777  }</pre></td>
                            <td><pre>   1  /*
   2   * #%L
   3   * BroadleafCommerce Open Admin Platform
   4   * %%
   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6   * %%
   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10   * the Broadleaf End User License Agreement (EULA), Version 1.1
  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12   * shall apply.
  13   *
<abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr>
  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.
  16   * #L%
  17   */
  18  
  19  package org.broadleafcommerce.openadmin.web.form.component;
  20  
  21  import org.apache.commons.collections.CollectionUtils;
  22  import org.apache.commons.lang3.StringUtils;
  23  import org.apache.commons.lang3.builder.CompareToBuilder;
  24  import org.broadleafcommerce.common.presentation.client.AddMethodType;
  25  import org.broadleafcommerce.common.util.TypedPredicate;
  26  import org.broadleafcommerce.openadmin.dto.SectionCrumb;
  27  import org.broadleafcommerce.openadmin.server.service.type.FetchType;
  28  import org.broadleafcommerce.openadmin.web.form.entity.Field;
  29  import org.broadleafcommerce.openadmin.web.rulebuilder.dto.DataWrapper;
  30  import org.broadleafcommerce.openadmin.web.rulebuilder.dto.FieldWrapper;
  31  
  32  import java.util.ArrayList;
  33  import java.util.Comparator;
  34  import java.util.List;
  35  import java.util.Set;
  36  import java.util.TreeSet;
  37  
  38  public class ListGrid {
  39  
  40      protected String className;
  41      protected String friendlyName = null;
  42      protected String idProperty;
  43      protected int order;
  44      protected boolean isSortable;
  45  
  46      protected boolean hideFriendlyName;
  47  
  48      protected Set&lt;Field&gt; headerFields = new TreeSet&lt;Field&gt;(new Comparator&lt;Field&gt;() {
  49  
  50          @Override
  51          public int compare(Field o1, Field o2) {
  52              return new CompareToBuilder()
  53                      .append(o1.getOrder(), o2.getOrder())
  54                      .append(o1.getFriendlyName(), o2.getFriendlyName())
  55                      .append(o1.getName(), o2.getName())
  56                      .toComparison();
  57          }
  58      });
  59      protected List&lt;ListGridRecord&gt; records = new ArrayList&lt;ListGridRecord&gt;();
  60      protected List&lt;ListGridAction&gt; toolbarActions = new ArrayList&lt;ListGridAction&gt;();
  61  
  62      // These actions will start greyed out and unable to be clicked until a specific row has been selected
  63      protected List&lt;ListGridAction&gt; rowActions = new ArrayList&lt;ListGridAction&gt;();
  64  
  65      protected List&lt;ListGridActionGroup&gt; toolbarActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  66      protected List&lt;ListGridActionGroup&gt; rowActionGroups = new ArrayList&lt;ListGridActionGroup&gt;();
  67  
  68      // These actions will start greyed out and unable to be clicked until a specific row has been selected
  69      protected List&lt;ListGridAction&gt; modalRowActions = new ArrayList&lt;ListGridAction&gt;();
  70      protected int totalRecords;
  71      protected int startIndex;
  72      protected int pageSize;
  73      protected Boolean canFilterAndSort;
  74      protected Boolean isReadOnly;
  75      protected Boolean hideIdColumn;
  76      protected String fetchType = FetchType.DEFAULT.toString();
  77      protected long firstId;
  78      protected long lastId;
  79      protected int upperCount;
  80      protected int lowerCount;
  81      protected boolean totalCountLessThanPageSize;
  82      protected boolean promptSearch;
  83  



  84      protected AddMethodType addMethodType;
  85      protected String listGridType;
  86      protected String selectType;
  87  
  88      protected String selectizeUrl;
  89  
  90      protected Boolean manualFetch;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +    protected String helpText;</span>
  92  
  93      // The section url that maps to this particular list grid
  94      protected String sectionKey;
  95  
<abbr title="  96      // The list of all section keys that have been traversed to arrive at this ListGrid (including the current one), in order">  96      // The list of all section keys that have been traversed to arrive at this ListGrid (including the current oneðŸ”µ</abbr>
  97      // of occurrence
  98      protected List&lt;SectionCrumb&gt; sectionCrumbs = new ArrayList&lt;SectionCrumb&gt;();
  99  
 100      // If this list grid is a sublistgrid, meaning it is rendered as part of a different entity, these properties
 101      // help identify the parent entity.
 102      protected String externalEntitySectionKey;
 103      protected String containingEntityId;
 104      protected String subCollectionFieldName;
 105      protected String pathOverride;
 106      protected String searchFieldsTemplateOverride;
 107      protected String templateOverride;
 108  
 109      public enum Type {
 110          MAIN,
 111          TO_ONE,
 112          BASIC,
 113          ADORNED,
 114          ADORNED_WITH_FORM,
 115          MAP,
 116          TRANSLATION,
 117          ASSET,
 118          WORKFLOW,
 119          TREE,
 120          ASSET_GRID,
 121          ASSET_GRID_FOLDER
 122      }
 123  
 124      public enum SelectType {
 125          SINGLE_SELECT,
 126          MULTI_SELECT,
 127          SELECTIZE,
 128          NONE
 129      }
 130  
 131      /* Filter Builder required Fields */
 132      protected String fieldBuilder;
 133      protected DataWrapper dataWrapper;
 134      protected String json;
 135      protected String jsonFieldName;
 136      protected FieldWrapper fieldWrapper;
 137  
 138  
 139  
 140      /* ************** */
 141      /* CUSTOM METHODS */
 142      /* ************** */
 143  
 144      public String getPath() {
 145          if (StringUtils.isNotBlank(pathOverride)) {
 146              return pathOverride;
 147          }
 148  
 149          StringBuilder sb = new StringBuilder();
 150  
 151          if (!getSectionKey().startsWith(&quot;/&quot;)) {
 152              sb.append(&quot;/&quot;);
 153          }
 154  
 155          sb.append(getSectionKey());
 156          if (getContainingEntityId() != null) {
 157              sb.append(&quot;/&quot;).append(getContainingEntityId());
 158          }
 159  
 160          if (StringUtils.isNotBlank(getSubCollectionFieldName())) {
 161              sb.append(&quot;/&quot;).append(getSubCollectionFieldName());
 162          }
 163  
 164          //to-one grids need a slightly different grid URL; these need to be appended with &#x27;select&#x27;
 165          //TODO: surely there&#x27;s a better way to do this besides just hardcoding the &#x27;select&#x27;?
 166          if (Type.TO_ONE.toString().toLowerCase().equals(listGridType)) {
 167              sb.append(&quot;/select&quot;);
 168          }
 169  
 170          return sb.toString();
 171      }
 172  
 173      public String getSectionCrumbRepresentation() {
 174          StringBuilder sb = new StringBuilder();
 175          if (!sectionCrumbs.isEmpty()) {
 176             sb.append(&quot;?sectionCrumbs=&quot;);
 177          }
 178          int index = 0;
 179          for (SectionCrumb section : sectionCrumbs) {
 180              sb.append(section.getSectionIdentifier());
 181              sb.append(&quot;--&quot;);
 182              sb.append(section.getSectionId());
 183              if (index &lt; sectionCrumbs.size()-1) {
 184                  sb.append(&quot;,&quot;);
 185              }
 186              index++;
 187          }
 188          return sb.toString();
 189      }
 190  
 191      /**
<abbr title=" 192       * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly state as the listgrid"> 192       * Grabs a filtered list of toolbar actions filtered by whether or not they match the same readonly state as tðŸ”µ</abbr>
 193       * and are thus shown on the screen
 194       */
 195      @SuppressWarnings(&quot;unchecked&quot;)
 196      public List&lt;ListGridAction&gt; getActiveToolbarActions() {
<abbr title=" 197          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 197          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActions(), new TypedPredicate&lt;ListGridActioðŸ”µ</abbr>
 198  
 199              @Override
 200              public boolean eval(ListGridAction action) {
 201                  return action.getForListGridReadOnly().equals(getIsReadOnly());
 202              }
 203          });
 204      }
 205  
 206      /**
<abbr title=" 207       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 207       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the lðŸ”µ</abbr>
 208       * and are thus shown on the screen
 209       */
 210      @SuppressWarnings(&quot;unchecked&quot;)
 211      public List&lt;ListGridAction&gt; getActiveRowActions() {
<abbr title=" 212          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 212          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActions(), new TypedPredicate&lt;ListGridAction&gt;()ðŸ”µ</abbr>
 213  
 214              @Override
 215              public boolean eval(ListGridAction action) {
 216                  return action.getForListGridReadOnly().equals(getIsReadOnly());
 217              }
 218          });
 219      }
 220  
 221      /**
<abbr title=" 222       * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same readonly state as the listgrid"> 222       * Grabs a filtered list of toolbar action groupss filtered by whether or not they match the same readonly staðŸ”µ</abbr>
 223       * and are thus shown on the screen
 224       */
 225      @SuppressWarnings(&quot;unchecked&quot;)
 226      public List&lt;ListGridAction&gt; getActiveToolbarActionGroups() {
<abbr title=" 227          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 227          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getToolbarActionGroups(), new TypedPredicate&lt;ListGridðŸ”µ</abbr>
 228  
 229              @Override
 230              public boolean eval(ListGridActionGroup actionGroup) {
 231                  boolean result = false;
 232                  for (ListGridAction action : actionGroup.getListGridActions()) {
 233                      if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 234                          result = true;
 235                      }
 236                  }
 237                  return result;
 238              }
 239          });
 240      }
 241  
 242      /**
<abbr title=" 243       * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonly state as the listgrid"> 243       * Grabs a filtered list of row action groupss filtered by whether or not they match the same readonly state aðŸ”µ</abbr>
 244       * and are thus shown on the screen
 245       */
 246      @SuppressWarnings(&quot;unchecked&quot;)
 247      public List&lt;ListGridAction&gt; getActiveRowActionGroups() {
<abbr title=" 248          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;ListGridActionGroup&gt;() {"> 248          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getRowActionGroups(), new TypedPredicate&lt;ListGridActiðŸ”µ</abbr>
 249  
 250              @Override
 251              public boolean eval(ListGridActionGroup actionGroup) {
 252                  boolean result = false;
 253                  for (ListGridAction action : actionGroup.getListGridActions()) {
 254                      if (action.getForListGridReadOnly().equals(getIsReadOnly())) {
 255                          result = true;
 256                      }
 257                  }
 258                  return result;
 259              }
 260          });
 261      }
 262  
 263      /**
<abbr title=" 264       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the listgrid"> 264       * Grabs a filtered list of row actions filtered by whether or not they match the same readonly state as the lðŸ”µ</abbr>
 265       * and are thus shown on the screen
 266       */
 267      @SuppressWarnings(&quot;unchecked&quot;)
 268      public List&lt;ListGridAction&gt; getActiveModalRowActions() {
<abbr title=" 269          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;ListGridAction&gt;() {"> 269          return (List&lt;ListGridAction&gt;) CollectionUtils.select(getModalRowActions(), new TypedPredicate&lt;ListGridActiðŸ”µ</abbr>
 270  
 271              @Override
 272              public boolean eval(ListGridAction action) {
 273                  return action.getForListGridReadOnly().equals(getIsReadOnly());
 274              }
 275          });
 276      }
 277  
 278      public void addRowAction(ListGridAction action) {
 279          getRowActions().add(action);
 280      }
 281  
 282      public void addModalRowAction(ListGridAction action) {
 283          getModalRowActions().add(action);
 284      }
 285  
 286      public void addToolbarAction(ListGridAction action) {
 287          getToolbarActions().add(action);
 288      }
 289  
 290      public void removeAllToolbarActions() {
 291          getToolbarActions().clear();
 292      }
 293  
 294      public void removeAllRowActions() {
 295          getRowActions().clear();
 296      }
 297  
 298      public void addToolbarActionGroup(ListGridActionGroup actionGroup) {
 299          getToolbarActionGroups().add(actionGroup);
 300      }
 301  
 302      public void removeAllToolbarActionGroups() {
 303          getToolbarActionGroups().clear();
 304      }
 305  
 306      public void addRowActionGroup(ListGridActionGroup actionGroup) {
 307          getRowActionGroups().add(actionGroup);
 308      }
 309  
 310      public void removeAllRowActionGroups() {
 311          getRowActionGroups().clear();
 312      }
 313  
 314      public void removeAllModalRowActions() {
 315          getModalRowActions().clear();
 316      }
 317  
 318      public ListGridAction findToolbarAction(String actionId) {
 319          for (ListGridAction action : getToolbarActions()) {
 320              if (action.getActionId().equals(actionId)) {
 321                  return action;
 322              }
 323          }
 324          for (ListGridActionGroup actionGroup : getToolbarActionGroups()) {
 325              for (ListGridAction action : actionGroup.getListGridActions()) {
 326                  if (action.getActionId().equals(actionId)) {
 327                      return action;
 328                  }
 329              }
 330          }
 331          return null;
 332      }
 333  
 334      public ListGridAction findRowAction(String actionId) {
 335          for (ListGridAction action : getRowActions()) {
 336              if (action.getActionId().equals(actionId)) {
 337                  return action;
 338              }
 339          }
 340          for (ListGridActionGroup actionGroup : getRowActionGroups()) {
 341              for (ListGridAction action : actionGroup.getListGridActions()) {
 342                  if (action.getActionId().equals(actionId)) {
 343                      return action;
 344                  }
 345              }
 346          }
 347          return null;
 348      }
 349  
 350      public ListGridAction findModalRowAction(String actionId) {
 351          for (ListGridAction action : getModalRowActions()) {
 352              if (action.getActionId().equals(actionId)) {
 353                  return action;
 354              }
 355          }
 356          return null;
 357      }
 358  
 359      /**
<abbr title=" 360       * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordered, then the"> 360       * This grid is sortable if there is a reorder action defined in the toolbar. If records can be reordered, theðŸ”µ</abbr>
 361       * sort functionality doesn&#x27;t make any sense.
 362       *
 363       * Also, map structures are currently unsortable.
 364       *
 365       * @return
 366       */
 367      public boolean isSortable() {
 368          return this.isSortable || Type.MAP.toString().toLowerCase().equals(getListGridType());
 369      }
 370  
 371      /* ************************ */
 372      /* CUSTOM GETTERS / SETTERS */
 373      /* ************************ */
 374  
 375      public void setListGridType(Type listGridType) {
 376          this.listGridType = listGridType.toString().toLowerCase();
 377      }
 378  
 379      /**
<abbr title=" 380       * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlers to on the JS"> 380       * Allows for completely custom types other than the ones defined {@link Type} to assign unique handlers to onðŸ”µ</abbr>
 381       * side
 382       * @param listGridType
 383       */
 384      public void setListGridTypeString(String listGridType) {
 385          this.listGridType = listGridType;
 386      }
 387  
 388      public void setSelectType(SelectType selectType) {
 389          this.selectType = selectType.toString().toLowerCase();
 390      }
 391  
 392      public void setSelectTypeString(String selectType) {
 393          this.selectType = selectType;
 394      }
 395  
 396      public Boolean getCanFilterAndSort() {
 397          return (canFilterAndSort == null ? true : canFilterAndSort);
 398      }
 399  
 400      public Boolean getIsReadOnly() {
 401          return isReadOnly == null ? false : isReadOnly;
 402      }
 403  
 404      public Boolean getClickable() {
 405          return !&quot;none&quot;.equals(selectType);
 406      }
 407  
 408      public Boolean getHideIdColumn() {
 409          return hideIdColumn == null ? true : hideIdColumn;
 410      }
 411  
 412      /* ************************** */
 413      /* STANDARD GETTERS / SETTERS */
 414      /* ************************** */
 415  
 416  	public String getIdProperty() {
 417          return idProperty;
 418      }
 419  
 420      public void setIdProperty(String idProperty) {
 421          this.idProperty = idProperty;
 422      }
 423  
 424      public String getClassName() {
 425          return className;
 426      }
 427  
 428      public void setClassName(String className) {
 429          this.className = className;
 430      }
 431  
 432      public int getOrder() {
 433          return order;
 434      }
 435  
 436      public void setOrder(int order) {
 437          this.order = order;
 438      }
 439  
 440      public boolean getIsSortable() {
 441          return isSortable;
 442      }
 443  
 444      public void setIsSortable(boolean isSortable) {
 445          this.isSortable = isSortable;
 446      }
 447  
 448      public boolean getHideFriendlyName() { return hideFriendlyName; }
 449  
 450      public void setHideFriendlyName(boolean hideFriendlyName) { this.hideFriendlyName = hideFriendlyName; }
 451  
 452      public Set&lt;Field&gt; getHeaderFields() {
 453          return headerFields;
 454      }
 455  
 456      public void setHeaderFields(Set&lt;Field&gt; headerFields) {
 457          this.headerFields = headerFields;
 458      }
 459  
 460      public Field findHeaderField(String name) {
 461          if (name == null) {
 462              return null;
 463          }
 464  
 465          for (Field headerField : getHeaderFields()) {
 466              if (name.equals(headerField.getName())) {
 467                  return headerField;
 468              }
 469          }
 470          return null;
 471      }
 472  
 473      public boolean isEmpty() {
 474          return records.isEmpty();
 475      }
 476  
 477      public List&lt;ListGridRecord&gt; getRecords() {
 478          return records;
 479      }
 480  
 481      public void setRecords(List&lt;ListGridRecord&gt; records) {
 482          this.records = records;
 483      }
 484  
 485      public List&lt;ListGridAction&gt; getToolbarActions() {
 486          return toolbarActions;
 487      }
 488  
 489      public void setToolbarActions(List&lt;ListGridAction&gt; toolbarActions) {
 490          this.toolbarActions = toolbarActions;
 491      }
 492  
 493      public List&lt;ListGridAction&gt; getRowActions() {
 494          return rowActions;
 495      }
 496  
 497      public void setRowActions(List&lt;ListGridAction&gt; rowActions) {
 498          this.rowActions = rowActions;
 499      }
 500  
 501      public List&lt;ListGridActionGroup&gt; getToolbarActionGroups() {
 502          return toolbarActionGroups;
 503      }
 504  
 505      public void setToolbarActionGroups(List&lt;ListGridActionGroup&gt; toolbarActionGroups) {
 506          this.toolbarActionGroups = toolbarActionGroups;
 507      }
 508  
 509      public List&lt;ListGridActionGroup&gt; getRowActionGroups() {
 510          return rowActionGroups;
 511      }
 512  
 513      public void setRowActionGroups(List&lt;ListGridActionGroup&gt; rowActionGroups) {
 514          this.rowActionGroups = rowActionGroups;
 515      }
 516  
 517      public List&lt;ListGridAction&gt; getModalRowActions() {
 518          return modalRowActions;
 519      }
 520  
 521      public void setModalRowActions(List&lt;ListGridAction&gt; modalRowActions) {
 522          this.modalRowActions = modalRowActions;
 523      }
 524  
 525      public int getStartIndex() {
 526          return startIndex;
 527      }
 528  
 529      public void setStartIndex(int startIndex) {
 530          this.startIndex = startIndex;
 531      }
 532  
 533      public int getTotalRecords() {
 534          return totalRecords;
 535      }
 536  
 537      public void setTotalRecords(int totalRecords) {
 538          this.totalRecords = totalRecords;
 539      }
 540  
 541      public int getPageSize() {
 542          return pageSize;
 543      }
 544  
 545      public void setPageSize(int pageSize) {
 546          this.pageSize = pageSize;
 547      }
 548  
 549      public void setCanFilterAndSort(Boolean canFilterAndSort) {
 550          this.canFilterAndSort = canFilterAndSort;
 551      }
 552  
 553      public AddMethodType getAddMethodType() {
 554          return addMethodType;
 555      }
 556  
 557      public void setAddMethodType(AddMethodType addMethodType) {
 558          this.addMethodType = addMethodType;
 559      }
 560  
 561      public String getListGridType() {
 562          return listGridType;
 563      }
 564  
 565      public String getSelectType() {
 566          return selectType;
 567      }
 568  
 569      public String getContainingEntityId() {
 570          return containingEntityId;
 571      }
 572  
 573      public void setContainingEntityId(String containingEntityId) {
 574          this.containingEntityId = containingEntityId;
 575      }
 576  
 577      public String getSubCollectionFieldName() {
 578          return subCollectionFieldName;
 579      }
 580  
 581      public void setSubCollectionFieldName(String subCollectionFieldName) {
 582          this.subCollectionFieldName = subCollectionFieldName;
 583      }
 584  
 585      public String getFriendlyName() {
 586          return friendlyName;
 587      }
 588  
 589      public void setFriendlyName(String friendlyName) {
 590          this.friendlyName = friendlyName;
 591      }
 592  
 593      public String getSectionKey() {
 594          return sectionKey;
 595      }
 596  
 597      public void setSectionKey(String sectionKey) {
 598          this.sectionKey = sectionKey;
 599      }
 600  
 601      public String getSelectizeUrl() {
 602          return selectizeUrl;
 603      }
 604  
 605      public void setSelectizeUrl(String selectizeUrl) {
 606          this.selectizeUrl = selectizeUrl;
 607      }
 608  
 609      public Boolean getManualFetch() {
 610          if (manualFetch == null) {
 611              return false;
 612          }
 613          return manualFetch;
 614      }
 615  
 616      public void setManualFetch(Boolean manualFetch) {
 617          this.manualFetch = manualFetch;
 618      }
 619  
 620      public String getExternalEntitySectionKey() {
 621          return externalEntitySectionKey;
 622      }
 623  
 624      public void setExternalEntitySectionKey(String externalEntitySectionKey) {
 625          this.externalEntitySectionKey = externalEntitySectionKey;
 626      }
 627  
 628      public String getPathOverride() {
 629          return pathOverride;
 630      }
 631  
 632      public void setPathOverride(String pathOverride) {
 633          this.pathOverride = pathOverride;
 634      }
 635  
 636      public String getSearchFieldsTemplateOverride() {
 637          return searchFieldsTemplateOverride;
 638      }
 639  
 640      public void setSearchFieldsTemplateOverride(String searchFieldsTemplateOverride) {
 641          this.searchFieldsTemplateOverride = searchFieldsTemplateOverride;
 642      }
 643  
 644      public String getTemplateOverride() {
 645          return templateOverride;
 646      }
 647  
 648      public void setTemplateOverride(String templateOverride) {
 649          this.templateOverride = templateOverride;
 650      }
 651  
 652      public void setIsReadOnly(Boolean readOnly) {
 653          this.isReadOnly = readOnly;
 654      }
 655  
 656      public void setHideIdColumn(Boolean hideIdColumn) {
 657          this.hideIdColumn = hideIdColumn;
 658      }
 659  
 660      public List&lt;SectionCrumb&gt; getSectionCrumbs() {
 661          return sectionCrumbs;
 662      }
 663  
 664      public void setSectionCrumbs(List&lt;SectionCrumb&gt; sectionCrumbs) {
 665          if (sectionCrumbs == null) {
 666              this.sectionCrumbs.clear();
 667              return;
 668          }
 669          this.sectionCrumbs = sectionCrumbs;
 670      }
 671  
 672      public String getFieldBuilder() {
 673          return fieldBuilder;
 674      }
 675  
 676      public void setFieldBuilder(String fieldBuilder) {
 677          this.fieldBuilder = fieldBuilder;
 678      }
 679  
 680      public FieldWrapper getFieldWrapper() {
 681          return fieldWrapper;
 682      }
 683  
 684      public void setFieldWrapper(FieldWrapper fieldWrapper) {
 685          this.fieldWrapper = fieldWrapper;
 686      }
 687  
 688      public DataWrapper getDataWrapper() {
 689          return dataWrapper;
 690      }
 691  
 692      public void setDataWrapper(DataWrapper dataWrapper) {
 693          this.dataWrapper = dataWrapper;
 694      }
 695  
 696      public String getJson() {
 697          return json;
 698      }
 699  
 700      public void setJson(String json) {
 701          this.json = json;
 702      }
 703  
 704      public String getJsonFieldName() {
 705          return jsonFieldName;
 706      }
 707  
 708      public void setJsonFieldName(String jsonFieldName) {
 709          this.jsonFieldName = jsonFieldName;
 710      }
 711  
 712      public String getFetchType() {
 713          return fetchType;
 714      }
 715  
 716      public void setFetchType(String fetchType) {
 717          this.fetchType = fetchType;
 718      }
 719  
 720      public long getFirstId() {
 721          return firstId;
 722      }
 723  
 724      public void setFirstId(long firstId) {
 725          this.firstId = firstId;
 726      }
 727  
 728      public long getLastId() {
 729          return lastId;
 730      }
 731  
 732      public void setLastId(long lastId) {
 733          this.lastId = lastId;
 734      }
 735  
 736      public int getUpperCount() {
 737          return upperCount;
 738      }
 739  
 740      public void setUpperCount(int upperCount) {
 741          this.upperCount = upperCount;
 742      }
 743  
 744      public int getLowerCount() {
 745          return lowerCount;
 746      }
 747  
 748      public void setLowerCount(int lowerCount) {
 749          this.lowerCount = lowerCount;
 750      }
 751  
 752      public boolean isTotalCountLessThanPageSize() {
 753          return totalCountLessThanPageSize;
 754      }
 755  
 756      public void setTotalCountLessThanPageSize(boolean totalCountLessThanPageSize) {
 757          this.totalCountLessThanPageSize = totalCountLessThanPageSize;
 758      }
 759  
 760      public boolean isPromptSearch() {
 761          return promptSearch;
 762      }
 763  
 764      public void setPromptSearch(boolean promptSearch) {
 765          this.promptSearch = promptSearch;
 766      }
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 767 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 768 +    public String getHelpText() { return helpText; }</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 769 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 770 +    public void setHelpText(String helpText) { this.helpText = helpText; }</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 771 +</span>



 772  }</pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            