<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>235</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    235
                    <a href="234.html">prev</a>
                    <a href="236.html">next</a>
                    <a href="235_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    CycloneAxe/phphub-android_8d8f15924ac8c2aa8aca9be72e330a6c24afbe03_app/src/main/java/org/estgroup/phphub/common/service/NotificationService.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CycloneAxe\phphub-android show &quot;8d8f15924ac8c2aa8aca9be72e330a6c24afbe03:app/src/main/java/org/estgroup/phphub/common/service/NotificationService.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CycloneAxe\phphub-android show &quot;8d8f15924ac8c2aa8aca9be72e330a6c24afbe03^1:app/src/main/java/org/estgroup/phphub/common/service/NotificationService.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CycloneAxe\phphub-android show &quot;8d8f15924ac8c2aa8aca9be72e330a6c24afbe03^2:app/src/main/java/org/estgroup/phphub/common/service/NotificationService.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CycloneAxe\phphub-android show &quot;b1ba51c6896d483d1ce9e01cd69aeffb3fa444d0:app/src/main/java/org/estgroup/phphub/common/service/NotificationService.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [b], [bs], [bs], [bsj], [bs], [j]], subset: [[b], [b], [bs], [bs], [bsj], [bs], [j]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-4387386009037347542" onmouseenter="enter('-4387386009037347542');" onmouseout="out('-4387386009037347542');" style="">   1 package org.estgroup.phphub.common.service;                                                              </span>
<span  style="">   2                                                                                                          </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">   3 import android.accounts.AccountManager;                                                                  </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">   4 import android.app.Service;                                                                              </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5 import android.content.Intent;                                                                           </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">   6 import android.os.IBinder;                                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">   7 import android.support.annotation.Nullable;                                                              </span>
<span  style="">   8                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">   9 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="4455128704371180043" onmouseenter="enter('4455128704371180043');" onmouseout="out('4455128704371180043');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  10 import com.orhanobut.logger.Logger;                                                                      </span>
<span class="3321713899594298022" onmouseenter="enter('3321713899594298022');" onmouseout="out('3321713899594298022');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  11 import com.squareup.otto.Produce;                                                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  12                                                                                                          </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  13 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14                                                                                                          </span>
<span class="3539253047754859631" onmouseenter="enter('3539253047754859631');" onmouseout="out('3539253047754859631');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15 import org.estgroup.phphub.R;                                                                            </span>
<span class="-1467302339585906324" onmouseenter="enter('-1467302339585906324');" onmouseout="out('-1467302339585906324');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  16 import org.estgroup.phphub.api.entity.NotificationEntity;                                                </span>
<span class="4096292493840788485" onmouseenter="enter('4096292493840788485');" onmouseout="out('4096292493840788485');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  17 import org.estgroup.phphub.api.entity.element.Notification;                                              </span>
<span class="-5933798444108908952" onmouseenter="enter('-5933798444108908952');" onmouseout="out('-5933798444108908952');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18 import org.estgroup.phphub.common.App;                                                                   </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  19 =======                                                                                                  </span>
<span class="-1714556903090517127" onmouseenter="enter('-1714556903090517127');" onmouseout="out('-1714556903090517127');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  20 import com.squareup.otto.Bus;                                                                            </span>
<span class="3321713899594298022" onmouseenter="enter('3321713899594298022');" onmouseout="out('3321713899594298022');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  21 import com.squareup.otto.Produce;                                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  22                                                                                                          </span>
<span class="3539253047754859631" onmouseenter="enter('3539253047754859631');" onmouseout="out('3539253047754859631');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  23 import org.estgroup.phphub.R;                                                                            </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  24 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1467302339585906324" onmouseenter="enter('-1467302339585906324');" onmouseout="out('-1467302339585906324');" style="">  25 import org.estgroup.phphub.api.entity.NotificationEntity;                                                </span>
<span class="4096292493840788485" onmouseenter="enter('4096292493840788485');" onmouseout="out('4096292493840788485');" style="">  26 import org.estgroup.phphub.api.entity.element.Notification;                                              </span>
<span class="-5933798444108908952" onmouseenter="enter('-5933798444108908952');" onmouseout="out('-5933798444108908952');" style="">  27 import org.estgroup.phphub.common.App;                                                                   </span>
<span class="4325447187937912263" onmouseenter="enter('4325447187937912263');" onmouseout="out('4325447187937912263');" style="">  28 import org.estgroup.phphub.common.event.NotificationChangeEvent;                                         </span>
<span class="-4079337810591776888" onmouseenter="enter('-4079337810591776888');" onmouseout="out('-4079337810591776888');" style="">  29 import org.estgroup.phphub.common.provider.BusProvider;                                                  </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  30 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="8799794011913420810" onmouseenter="enter('8799794011913420810');" onmouseout="out('8799794011913420810');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  31 import org.estgroup.phphub.common.transformer.SchedulerTransformer;                                      </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  32 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  33 import java.util.List;                                                                                   </span>
<span class="-3789567581486736748" onmouseenter="enter('-3789567581486736748');" onmouseout="out('-3789567581486736748');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 import java.util.Timer;                                                                                  </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  35 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  36 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="7842124534199985707" onmouseenter="enter('7842124534199985707');" onmouseout="out('7842124534199985707');" style="">  37 import org.estgroup.phphub.common.util.Utils;                                                            </span>
<span class="7283182950615919309" onmouseenter="enter('7283182950615919309');" onmouseout="out('7283182950615919309');" style="">  38 import org.estgroup.phphub.model.UserModel;                                                              </span>
<span  style="">  39                                                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  40 import java.util.List;                                                                                   </span>
<span class="-3789567581486736748" onmouseenter="enter('-3789567581486736748');" onmouseout="out('-3789567581486736748');" style="">  41 import java.util.Timer;                                                                                  </span>
<span class="-2321797189340986544" onmouseenter="enter('-2321797189340986544');" onmouseout="out('-2321797189340986544');" style="">  42 import java.util.TimerTask;                                                                              </span>
<span  style="">  43                                                                                                          </span>
<span class="-9028251909622163000" onmouseenter="enter('-9028251909622163000');" onmouseout="out('-9028251909622163000');" style="">  44 import javax.inject.Inject;                                                                              </span>
<span  style="">  45                                                                                                          </span>
<span class="7687412297882894887" onmouseenter="enter('7687412297882894887');" onmouseout="out('7687412297882894887');" style="">  46 import eu.unicate.retroauth.AuthAccountManager;                                                          </span>
<span class="4523743203651505314" onmouseenter="enter('4523743203651505314');" onmouseout="out('4523743203651505314');" style="">  47 import rx.functions.Action1;                                                                             </span>
<span class="8465958498096589322" onmouseenter="enter('8465958498096589322');" onmouseout="out('8465958498096589322');" style="">  48 import rx.functions.Func1;                                                                               </span>
<span  style="">  49                                                                                                          </span>
<span class="130379670444496348" onmouseenter="enter('130379670444496348');" onmouseout="out('130379670444496348');" style="">  50 public class NotificationService extends Service {                                                       </span>
<span class="-8982366689848378348" onmouseenter="enter('-8982366689848378348');" onmouseout="out('-8982366689848378348');" style="">  51     private final static int UPDATE_INTERVAL = 3000;                                                     </span>
<span  style="">  52                                                                                                          </span>
<span class="4282353794276236598" onmouseenter="enter('4282353794276236598');" onmouseout="out('4282353794276236598');" style="">  53     private Timer timer = new Timer();                                                                   </span>
<span  style="">  54                                                                                                          </span>
<span class="5935585735371054040" onmouseenter="enter('5935585735371054040');" onmouseout="out('5935585735371054040');" style="">  55     public static int notificationLength;                                                                </span>
<span  style="">  56                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  57     @Inject                                                                                              </span>
<span class="-3158043250917241011" onmouseenter="enter('-3158043250917241011');" onmouseout="out('-3158043250917241011');" style="">  58     AuthAccountManager authAccountManager;                                                               </span>
<span  style="">  59                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  60     @Inject                                                                                              </span>
<span class="5737395917459628081" onmouseenter="enter('5737395917459628081');" onmouseout="out('5737395917459628081');" style="">  61     AccountManager accountManager;                                                                       </span>
<span  style="">  62                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  63     @Inject                                                                                              </span>
<span class="-8939190534418984761" onmouseenter="enter('-8939190534418984761');" onmouseout="out('-8939190534418984761');" style="">  64     UserModel userModel;                                                                                 </span>
<span  style="">  65                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  66 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-2325944952683784990" onmouseenter="enter('-2325944952683784990');" onmouseout="out('-2325944952683784990');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  67     String accountType, tokenType;                                                                       </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  68 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="5737395917459628081" onmouseenter="enter('5737395917459628081');" onmouseout="out('5737395917459628081');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69     AccountManager accountManager;                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71     @Inject                                                                                              </span>
<span class="-8939190534418984761" onmouseenter="enter('-8939190534418984761');" onmouseout="out('-8939190534418984761');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72     UserModel userModel;                                                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73                                                                                                          </span>
<span class="-2786734780381563657" onmouseenter="enter('-2786734780381563657');" onmouseout="out('-2786734780381563657');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74     NotificationListener listener;                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75                                                                                                          </span>
<span class="5975454162599439217" onmouseenter="enter('5975454162599439217');" onmouseout="out('5975454162599439217');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76     String tokenType, accountType;                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77                                                                                                          </span>
<span class="-924720970163900212" onmouseenter="enter('-924720970163900212');" onmouseout="out('-924720970163900212');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78     Account[] accounts;                                                                                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79                                                                                                          </span>
<span class="3792704654388810821" onmouseenter="enter('3792704654388810821');" onmouseout="out('3792704654388810821');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80     public static interface NotificationListener {                                                       </span>
<span class="-833531569406536520" onmouseenter="enter('-833531569406536520');" onmouseout="out('-833531569406536520');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81         void onNotificationServiceSuccess(List&lt;Notification&gt; notificationList);                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82                                                                                                          </span>
<span class="5161665720924800235" onmouseenter="enter('5161665720924800235');" onmouseout="out('5161665720924800235');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83         void onNotificationServiceError(RetrofitError error);                                            </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  84 =======                                                                                                  </span>
<span class="5975454162599439217" onmouseenter="enter('5975454162599439217');" onmouseout="out('5975454162599439217');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  85     String tokenType, accountType;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  86                                                                                                          </span>
<span class="-924720970163900212" onmouseenter="enter('-924720970163900212');" onmouseout="out('-924720970163900212');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  87     Account[] accounts;                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  88 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style="">  89                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  90     @Override                                                                                            </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  91     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  92         super.onCreate();                                                                                </span>
<span class="-5425955015584259412" onmouseenter="enter('-5425955015584259412');" onmouseout="out('-5425955015584259412');" style="">  93         accountType = Utils.getAccountType(this);                                                        </span>
<span class="-9003537681547032157" onmouseenter="enter('-9003537681547032157');" onmouseout="out('-9003537681547032157');" style="">  94         tokenType = Utils.getTokenType(this);                                                            </span>
<span class="193207439343096697" onmouseenter="enter('193207439343096697');" onmouseout="out('193207439343096697');" style="">  95         ((App) getApplication()).getApiComponent().inject(this);                                         </span>
<span class="-4295321480044474749" onmouseenter="enter('-4295321480044474749');" onmouseout="out('-4295321480044474749');" style="">  96         BusProvider.getInstance().register(this);                                                        </span>
<span  style="">  97                                                                                                          </span>
<span class="-2657257454285079147" onmouseenter="enter('-2657257454285079147');" onmouseout="out('-2657257454285079147');" style="">  98         notificationTask();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99     }                                                                                                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 101 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 102     @Override                                                                                            </span>
<span class="-6244541068701761417" onmouseenter="enter('-6244541068701761417');" onmouseout="out('-6244541068701761417');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 103     public int onStartCommand(Intent intent, int flags, int startId) {                                   </span>
<span class="5024081068658245509" onmouseenter="enter('5024081068658245509');" onmouseout="out('5024081068658245509');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 104         return super.onStartCommand(intent, flags, startId);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 105     }                                                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 106                                                                                                          </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 107 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108                                                                                                          </span>
<span class="5161665720924800235" onmouseenter="enter('5161665720924800235');" onmouseout="out('5161665720924800235');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 109         void onNotificationServiceError(RetrofitError error);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 110     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 111                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 112     @Override                                                                                            </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 114         super.onCreate();                                                                                </span>
<span class="193207439343096697" onmouseenter="enter('193207439343096697');" onmouseout="out('193207439343096697');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115         ((App) getApplication()).getApiComponent().inject(this);                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116                                                                                                          </span>
<span class="-2297347849623771879" onmouseenter="enter('-2297347849623771879');" onmouseout="out('-2297347849623771879');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117         accountType = getString(R.string.auth_account_type);                                             </span>
<span class="295055567268052737" onmouseenter="enter('295055567268052737');" onmouseout="out('295055567268052737');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118         tokenType = getString(R.string.auth_token_type);                                                 </span>
<span class="-7303251295697670324" onmouseenter="enter('-7303251295697670324');" onmouseout="out('-7303251295697670324');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 119         accounts = accountManager.getAccountsByType(accountType);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 121                                                                                                          </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 122 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 123 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 124     @Override                                                                                            </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style=""> 125     public void onDestroy() {                                                                            </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style=""> 126         super.onDestroy();                                                                               </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 127 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 128 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 129                                                                                                          </span>
<span class="-2297347849623771879" onmouseenter="enter('-2297347849623771879');" onmouseout="out('-2297347849623771879');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 130         accountType = getString(R.string.auth_account_type);                                             </span>
<span class="295055567268052737" onmouseenter="enter('295055567268052737');" onmouseout="out('295055567268052737');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 131         tokenType = getString(R.string.auth_token_type);                                                 </span>
<span class="-7303251295697670324" onmouseenter="enter('-7303251295697670324');" onmouseout="out('-7303251295697670324');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 132         accounts = accountManager.getAccountsByType(accountType);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 133     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 134                                                                                                          </span>
<span class="-1435681976044859355" onmouseenter="enter('-1435681976044859355');" onmouseout="out('-1435681976044859355');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 135     public void setListener(NotificationListener listener) {                                             </span>
<span class="3639523841108672913" onmouseenter="enter('3639523841108672913');" onmouseout="out('3639523841108672913');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 136         this.listener = listener;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 137     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 138                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 139     @Override                                                                                            </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 140 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 141                                                                                                          </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 142         BusProvider.getInstance().unregister(this);                                                      </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 143 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="6158416663298475483" onmouseenter="enter('6158416663298475483');" onmouseout="out('6158416663298475483');" style=""> 144         timer.cancel();                                                                                  </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style=""> 145         BusProvider.getInstance().unregister(this);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span  style=""> 147                                                                                                          </span>
<span class="2602278748708572863" onmouseenter="enter('2602278748708572863');" onmouseout="out('2602278748708572863');" style=""> 148     public void notificationTask() {                                                                     </span>
<span class="-7357433293289362727" onmouseenter="enter('-7357433293289362727');" onmouseout="out('-7357433293289362727');" style=""> 149         if (timer == null) {                                                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 150             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151         }                                                                                                </span>
<span  style=""> 152                                                                                                          </span>
<span class="-3995857028562557665" onmouseenter="enter('-3995857028562557665');" onmouseout="out('-3995857028562557665');" style=""> 153         timer.schedule(new TimerTask() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 154             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 155             public void run() {                                                                          </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style=""> 156                 if (Utils.logined(NotificationService.this, accountManager)) {                           </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style=""> 157                     userModel.once()                                                                     </span>
<span class="-6641620230878926182" onmouseenter="enter('-6641620230878926182');" onmouseout="out('-6641620230878926182');" style=""> 158                             .setToken(authAccountManager.getAuthToken(                                   </span>
<span class="5055579127868209230" onmouseenter="enter('5055579127868209230');" onmouseout="out('5055579127868209230');" style=""> 159                                     Utils.getActiveAccount(NotificationService.this, authAccountManager),</span>
<span class="2365911740174982095" onmouseenter="enter('2365911740174982095');" onmouseout="out('2365911740174982095');" style=""> 160                                     accountType,                                                         </span>
<span class="2034255224252966263" onmouseenter="enter('2034255224252966263');" onmouseout="out('2034255224252966263');" style=""> 161                                     tokenType                                                            </span>
<span class="7915751015235293282" onmouseenter="enter('7915751015235293282');" onmouseout="out('7915751015235293282');" style=""> 162                             ))                                                                           </span>
<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style=""> 163                             .getMyNotifications()                                                        </span>
<span class="225172565013299178" onmouseenter="enter('225172565013299178');" onmouseout="out('225172565013299178');" style=""> 164                             .compose(new SchedulerTransformer&lt;NotificationEntity&gt;())                     </span>
<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style=""> 165                             .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166                                 @Override                                                                </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style=""> 167                                 public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {  </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style=""> 168                                     return notificationEntity.getData();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 170                             })                                                                           </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style=""> 171                             .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 172                                 @Override                                                                </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 173 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-6695830220864875213" onmouseenter="enter('-6695830220864875213');" onmouseout="out('-6695830220864875213');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 174                                 public void call(List&lt;Notification&gt; notifications) {                     </span>
<span class="-2914437805320142335" onmouseenter="enter('-2914437805320142335');" onmouseout="out('-2914437805320142335');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 175                                     BusProvider.getInstance().post(new NotificationChangeEvent(notifications.size()));"> 175                                     BusProvider.getInstance().post(new NotificationChangeEvent(notificatiðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 176                                 }                                                                        </span>
<span class="-741379746112111425" onmouseenter="enter('-741379746112111425');" onmouseout="out('-741379746112111425');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 177                             }, new Action1&lt;Throwable&gt;() {                                                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 178                                 @Override                                                                </span>
<span class="-6263017786536058089" onmouseenter="enter('-6263017786536058089');" onmouseout="out('-6263017786536058089');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 179                                 public void call(Throwable throwable) {                                  </span>
<span class="812367261256711506" onmouseenter="enter('812367261256711506');" onmouseout="out('812367261256711506');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 180                                     Logger.e(throwable.toString());                                      </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 181 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 182                 if (Utils.logined(NotificationService.this, accountManager)) {                           </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 183                     userModel.once()                                                                     </span>
<span class="-4842548385884138640" onmouseenter="enter('-4842548385884138640');" onmouseout="out('-4842548385884138640');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 184                             .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenType))"> 184                             .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenTypeðŸ”µ</abbr></span>
<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 185                             .getMyNotifications()                                                        </span>
<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 186                             .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 187                                 @Override                                                                </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 188                                 public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {  </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 189                                     return notificationEntity.getData();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 190                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 191                             })                                                                           </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 192                             .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 193                                 @Override                                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 194 =======                                                                                                  </span>
<span class="8484990376092230629" onmouseenter="enter('8484990376092230629');" onmouseout="out('8484990376092230629');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 195                                 public void call(List&lt;Notification&gt; notificationList) {                  </span>
<span class="-7487331138884373269" onmouseenter="enter('-7487331138884373269');" onmouseout="out('-7487331138884373269');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 196                                     notificationLength = notificationList.size();                        </span>
<span class="-3975990215663394161" onmouseenter="enter('-3975990215663394161');" onmouseout="out('-3975990215663394161');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 197                                     BusProvider.getInstance().post(notificationChangeEvent());           </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 198 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 200                             });                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202             }                                                                                            </span>
<span class="-3376806801729093144" onmouseenter="enter('-3376806801729093144');" onmouseout="out('-3376806801729093144');" style=""> 203         }, 0, UPDATE_INTERVAL);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204     }                                                                                                    </span>
<span  style=""> 205                                                                                                          </span>
<span class="2390100272250745956" onmouseenter="enter('2390100272250745956');" onmouseout="out('2390100272250745956');" style=""> 206     @Nullable                                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207     @Override                                                                                            </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 208     public IBinder onBind(Intent intent) {                                                               </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 209         return null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210     }                                                                                                    </span>
<span  style=""> 211                                                                                                          </span>
<span class="7312151482548986149" onmouseenter="enter('7312151482548986149');" onmouseout="out('7312151482548986149');" style=""> 212     @Produce public NotificationChangeEvent notificationChangeEvent() {                                  </span>
<span class="-955128847242624796" onmouseenter="enter('-955128847242624796');" onmouseout="out('-955128847242624796');" style=""> 213         return new NotificationChangeEvent(notificationLength);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215 }                                                                                                        </span></pre></td>
                            <td><pre><span class="-4387386009037347542" onmouseenter="enter('-4387386009037347542');" onmouseout="out('-4387386009037347542');" style="">   1 package org.estgroup.phphub.common.service;                                                              </span>
<span  style="">   2                                                                                                          </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">   3 import android.accounts.AccountManager;                                                                  </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">   4 import android.app.Service;                                                                              </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5 import android.content.Intent;                                                                           </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">   6 import android.os.IBinder;                                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">   7 import android.support.annotation.Nullable;                                                              </span>
<span  style="">   8                                                                                                          </span>
<span class="4455128704371180043" onmouseenter="enter('4455128704371180043');" onmouseout="out('4455128704371180043');" style="">   9 import com.orhanobut.logger.Logger;                                                                      </span>
<span  style="">  10                                                                                                          </span>
<span class="-1714556903090517127" onmouseenter="enter('-1714556903090517127');" onmouseout="out('-1714556903090517127');" style="">  11 import com.squareup.otto.Bus;                                                                            </span>
<span class="3321713899594298022" onmouseenter="enter('3321713899594298022');" onmouseout="out('3321713899594298022');" style="">  12 import com.squareup.otto.Produce;                                                                        </span>
<span  style="">  13                                                                                                          </span>
<span class="-1467302339585906324" onmouseenter="enter('-1467302339585906324');" onmouseout="out('-1467302339585906324');" style="">  14 import org.estgroup.phphub.api.entity.NotificationEntity;                                                </span>
<span class="4096292493840788485" onmouseenter="enter('4096292493840788485');" onmouseout="out('4096292493840788485');" style="">  15 import org.estgroup.phphub.api.entity.element.Notification;                                              </span>
<span class="-5933798444108908952" onmouseenter="enter('-5933798444108908952');" onmouseout="out('-5933798444108908952');" style="">  16 import org.estgroup.phphub.common.App;                                                                   </span>
<span class="4325447187937912263" onmouseenter="enter('4325447187937912263');" onmouseout="out('4325447187937912263');" style="">  17 import org.estgroup.phphub.common.event.NotificationChangeEvent;                                         </span>
<span class="-4079337810591776888" onmouseenter="enter('-4079337810591776888');" onmouseout="out('-4079337810591776888');" style="">  18 import org.estgroup.phphub.common.provider.BusProvider;                                                  </span>
<span class="8799794011913420810" onmouseenter="enter('8799794011913420810');" onmouseout="out('8799794011913420810');" style="">  19 import org.estgroup.phphub.common.transformer.SchedulerTransformer;                                      </span>
<span class="7842124534199985707" onmouseenter="enter('7842124534199985707');" onmouseout="out('7842124534199985707');" style="">  20 import org.estgroup.phphub.common.util.Utils;                                                            </span>
<span class="7283182950615919309" onmouseenter="enter('7283182950615919309');" onmouseout="out('7283182950615919309');" style="">  21 import org.estgroup.phphub.model.UserModel;                                                              </span>
<span  style="">  22                                                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  23 import java.util.List;                                                                                   </span>
<span class="-3789567581486736748" onmouseenter="enter('-3789567581486736748');" onmouseout="out('-3789567581486736748');" style="">  24 import java.util.Timer;                                                                                  </span>
<span class="-2321797189340986544" onmouseenter="enter('-2321797189340986544');" onmouseout="out('-2321797189340986544');" style="">  25 import java.util.TimerTask;                                                                              </span>
<span  style="">  26                                                                                                          </span>
<span class="-9028251909622163000" onmouseenter="enter('-9028251909622163000');" onmouseout="out('-9028251909622163000');" style="">  27 import javax.inject.Inject;                                                                              </span>
<span  style="">  28                                                                                                          </span>
<span class="7687412297882894887" onmouseenter="enter('7687412297882894887');" onmouseout="out('7687412297882894887');" style="">  29 import eu.unicate.retroauth.AuthAccountManager;                                                          </span>
<span class="4523743203651505314" onmouseenter="enter('4523743203651505314');" onmouseout="out('4523743203651505314');" style="">  30 import rx.functions.Action1;                                                                             </span>
<span class="8465958498096589322" onmouseenter="enter('8465958498096589322');" onmouseout="out('8465958498096589322');" style="">  31 import rx.functions.Func1;                                                                               </span>
<span  style="">  32                                                                                                          </span>
<span class="130379670444496348" onmouseenter="enter('130379670444496348');" onmouseout="out('130379670444496348');" style="">  33 public class NotificationService extends Service {                                                       </span>
<span class="-8982366689848378348" onmouseenter="enter('-8982366689848378348');" onmouseout="out('-8982366689848378348');" style="">  34     private final static int UPDATE_INTERVAL = 3000;                                                     </span>
<span  style="">  35                                                                                                          </span>
<span class="4282353794276236598" onmouseenter="enter('4282353794276236598');" onmouseout="out('4282353794276236598');" style="">  36     private Timer timer = new Timer();                                                                   </span>
<span  style="">  37                                                                                                          </span>
<span class="5935585735371054040" onmouseenter="enter('5935585735371054040');" onmouseout="out('5935585735371054040');" style="">  38     public static int notificationLength;                                                                </span>
<span  style="">  39                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  40     @Inject                                                                                              </span>
<span class="-3158043250917241011" onmouseenter="enter('-3158043250917241011');" onmouseout="out('-3158043250917241011');" style="">  41     AuthAccountManager authAccountManager;                                                               </span>
<span  style="">  42                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  43     @Inject                                                                                              </span>
<span class="5737395917459628081" onmouseenter="enter('5737395917459628081');" onmouseout="out('5737395917459628081');" style="">  44     AccountManager accountManager;                                                                       </span>
<span  style="">  45                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  46     @Inject                                                                                              </span>
<span class="-8939190534418984761" onmouseenter="enter('-8939190534418984761');" onmouseout="out('-8939190534418984761');" style="">  47     UserModel userModel;                                                                                 </span>
<span  style="">  48                                                                                                          </span>
<span class="-2325944952683784990" onmouseenter="enter('-2325944952683784990');" onmouseout="out('-2325944952683784990');" style="">  49     String accountType, tokenType;                                                                       </span>
<span  style="">  50                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  51     @Override                                                                                            </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  52     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  53         super.onCreate();                                                                                </span>
<span class="-5425955015584259412" onmouseenter="enter('-5425955015584259412');" onmouseout="out('-5425955015584259412');" style="">  54         accountType = Utils.getAccountType(this);                                                        </span>
<span class="-9003537681547032157" onmouseenter="enter('-9003537681547032157');" onmouseout="out('-9003537681547032157');" style="">  55         tokenType = Utils.getTokenType(this);                                                            </span>
<span class="193207439343096697" onmouseenter="enter('193207439343096697');" onmouseout="out('193207439343096697');" style="">  56         ((App) getApplication()).getApiComponent().inject(this);                                         </span>
<span class="-4295321480044474749" onmouseenter="enter('-4295321480044474749');" onmouseout="out('-4295321480044474749');" style="">  57         BusProvider.getInstance().register(this);                                                        </span>
<span  style="">  58                                                                                                          </span>
<span class="-2657257454285079147" onmouseenter="enter('-2657257454285079147');" onmouseout="out('-2657257454285079147');" style="">  59         notificationTask();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  60     }                                                                                                    </span>
<span  style="">  61                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  62     @Override                                                                                            </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style="">  63     public void onDestroy() {                                                                            </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  64         super.onDestroy();                                                                               </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">  65 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  66 ||||||| BASE                                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67                                                                                                          </span>
<span class="6158416663298475483" onmouseenter="enter('6158416663298475483');" onmouseout="out('6158416663298475483');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68         timer.cancel();                                                                                  </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  69 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70                                                                                                          </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71         BusProvider.getInstance().unregister(this);                                                      </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style="">  72 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="6158416663298475483" onmouseenter="enter('6158416663298475483');" onmouseout="out('6158416663298475483');" style="">  73         timer.cancel();                                                                                  </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style="">  74         BusProvider.getInstance().unregister(this);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75     }                                                                                                    </span>
<span  style="">  76                                                                                                          </span>
<span class="2602278748708572863" onmouseenter="enter('2602278748708572863');" onmouseout="out('2602278748708572863');" style="">  77     public void notificationTask() {                                                                     </span>
<span class="-7357433293289362727" onmouseenter="enter('-7357433293289362727');" onmouseout="out('-7357433293289362727');" style="">  78         if (timer == null) {                                                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  79             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  80         }                                                                                                </span>
<span  style="">  81                                                                                                          </span>
<span class="-3995857028562557665" onmouseenter="enter('-3995857028562557665');" onmouseout="out('-3995857028562557665');" style="">  82         timer.schedule(new TimerTask() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  83             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="">  84             public void run() {                                                                          </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style="">  85                 if (Utils.logined(NotificationService.this, accountManager)) {                           </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style="">  86                     userModel.once()                                                                     </span>
<span class="-6641620230878926182" onmouseenter="enter('-6641620230878926182');" onmouseout="out('-6641620230878926182');" style="">  87                             .setToken(authAccountManager.getAuthToken(                                   </span>
<span class="5055579127868209230" onmouseenter="enter('5055579127868209230');" onmouseout="out('5055579127868209230');" style="">  88                                     Utils.getActiveAccount(NotificationService.this, authAccountManager),</span>
<span class="2365911740174982095" onmouseenter="enter('2365911740174982095');" onmouseout="out('2365911740174982095');" style="">  89                                     accountType,                                                         </span>
<span class="2034255224252966263" onmouseenter="enter('2034255224252966263');" onmouseout="out('2034255224252966263');" style="">  90                                     tokenType                                                            </span>
<span class="7915751015235293282" onmouseenter="enter('7915751015235293282');" onmouseout="out('7915751015235293282');" style="">  91                             ))                                                                           </span>
<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style="">  92                             .getMyNotifications()                                                        </span>
<span class="225172565013299178" onmouseenter="enter('225172565013299178');" onmouseout="out('225172565013299178');" style="">  93                             .compose(new SchedulerTransformer&lt;NotificationEntity&gt;())                     </span>
<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style="">  94                             .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  95                                 @Override                                                                </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style="">  96                                 public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {  </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style="">  97                                     return notificationEntity.getData();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style="">  99                             })                                                                           </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style=""> 100                             .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 101                                 @Override                                                                </span>
<span class="-6695830220864875213" onmouseenter="enter('-6695830220864875213');" onmouseout="out('-6695830220864875213');" style=""> 102                                 public void call(List&lt;Notification&gt; notifications) {                     </span>
<span class="-2914437805320142335" onmouseenter="enter('-2914437805320142335');" onmouseout="out('-2914437805320142335');" style=""><abbr title=" 103                                     BusProvider.getInstance().post(new NotificationChangeEvent(notifications.size()));"> 103                                     BusProvider.getInstance().post(new NotificationChangeEvent(notificatiðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104                                 }                                                                        </span>
<span class="-741379746112111425" onmouseenter="enter('-741379746112111425');" onmouseout="out('-741379746112111425');" style=""> 105                             }, new Action1&lt;Throwable&gt;() {                                                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 106                                 @Override                                                                </span>
<span class="-6263017786536058089" onmouseenter="enter('-6263017786536058089');" onmouseout="out('-6263017786536058089');" style=""> 107                                 public void call(Throwable throwable) {                                  </span>
<span class="812367261256711506" onmouseenter="enter('812367261256711506');" onmouseout="out('812367261256711506');" style=""> 108                                     Logger.e(throwable.toString());                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 110                             });                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112             }                                                                                            </span>
<span class="-3376806801729093144" onmouseenter="enter('-3376806801729093144');" onmouseout="out('-3376806801729093144');" style=""> 113         }, 0, UPDATE_INTERVAL);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span  style=""> 115                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 116     @Override                                                                                            </span>
<span class="-6244541068701761417" onmouseenter="enter('-6244541068701761417');" onmouseout="out('-6244541068701761417');" style=""> 117     public int onStartCommand(Intent intent, int flags, int startId) {                                   </span>
<span class="5024081068658245509" onmouseenter="enter('5024081068658245509');" onmouseout="out('5024081068658245509');" style=""> 118         return super.onStartCommand(intent, flags, startId);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 120 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 121 ||||||| BASE                                                                                             </span>
<span class="-7682809406555730246" onmouseenter="enter('-7682809406555730246');" onmouseout="out('-7682809406555730246');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 122 public void getNotification() {                                                                          </span>
<span class="6200009946332550038" onmouseenter="enter('6200009946332550038');" onmouseout="out('6200009946332550038');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 123         timer.scheduleAtFixedRate(new TimerTask() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125             public void run() {                                                                          </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126                 if (Utils.logined(NotificationService.this, accountManager)) {                           </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127                     userModel.once()                                                                     </span>
<span class="-4842548385884138640" onmouseenter="enter('-4842548385884138640');" onmouseout="out('-4842548385884138640');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 128                             .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenType))"> 128                             .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenTypeðŸ”µ</abbr></span>
<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 129                             .getMyNotifications()                                                        </span>
<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 130                             .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 131                                 @Override                                                                </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 132                                 public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {  </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 133                                     return notificationEntity.getData();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 134                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 135                             })                                                                           </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 136                             .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 137                                 @Override                                                                </span>
<span class="8484990376092230629" onmouseenter="enter('8484990376092230629');" onmouseout="out('8484990376092230629');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 138                                 public void call(List&lt;Notification&gt; notificationList) {                  </span>
<span class="-7891690093106509749" onmouseenter="enter('-7891690093106509749');" onmouseout="out('-7891690093106509749');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 139                                     listener.onNotificationServiceSuccess(notificationList);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 140                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 141                             });                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 142                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 143             }                                                                                            </span>
<span class="-3376806801729093144" onmouseenter="enter('-3376806801729093144');" onmouseout="out('-3376806801729093144');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 144         }, 0, UPDATE_INTERVAL);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 145     }                                                                                                    </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 146 =======                                                                                                  </span>
<span class="-7682809406555730246" onmouseenter="enter('-7682809406555730246');" onmouseout="out('-7682809406555730246');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 147 public void getNotification() {                                                                          </span>
<span class="6200009946332550038" onmouseenter="enter('6200009946332550038');" onmouseout="out('6200009946332550038');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 148         timer.scheduleAtFixedRate(new TimerTask() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 149             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 150             public void run() {                                                                          </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 151                 if (Utils.logined(NotificationService.this, accountManager)) {                           </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 152                     userModel.once()                                                                     </span>
<span class="-4842548385884138640" onmouseenter="enter('-4842548385884138640');" onmouseout="out('-4842548385884138640');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 153                             .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenType))"> 153                             .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenTypeðŸ”µ</abbr></span>
<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 154                             .getMyNotifications()                                                        </span>
<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 155                             .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 156                                 @Override                                                                </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 157                                 public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {  </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 158                                     return notificationEntity.getData();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 159                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 160                             })                                                                           </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 161                             .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 162                                 @Override                                                                </span>
<span class="8484990376092230629" onmouseenter="enter('8484990376092230629');" onmouseout="out('8484990376092230629');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 163                                 public void call(List&lt;Notification&gt; notificationList) {                  </span>
<span class="-7487331138884373269" onmouseenter="enter('-7487331138884373269');" onmouseout="out('-7487331138884373269');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 164                                     notificationLength = notificationList.size();                        </span>
<span class="-3975990215663394161" onmouseenter="enter('-3975990215663394161');" onmouseout="out('-3975990215663394161');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 165                                     BusProvider.getInstance().post(notificationChangeEvent());           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 166                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 167                             });                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 168                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 169             }                                                                                            </span>
<span class="-3376806801729093144" onmouseenter="enter('-3376806801729093144');" onmouseout="out('-3376806801729093144');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 170         }, 0, UPDATE_INTERVAL);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 171     }                                                                                                    </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 172 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span  style=""> 173                                                                                                          </span>
<span  style=""> 174                                                                                                          </span>
<span class="2390100272250745956" onmouseenter="enter('2390100272250745956');" onmouseout="out('2390100272250745956');" style=""> 175     @Nullable                                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 176 @Override                                                                                                </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 177     public IBinder onBind(Intent intent) {                                                               </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 178         return null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179     }                                                                                                    </span>
<span  style=""> 180                                                                                                          </span>
<span class="7312151482548986149" onmouseenter="enter('7312151482548986149');" onmouseout="out('7312151482548986149');" style=""> 181     @Produce public NotificationChangeEvent notificationChangeEvent() {                                  </span>
<span class="-955128847242624796" onmouseenter="enter('-955128847242624796');" onmouseout="out('-955128847242624796');" style=""> 182         return new NotificationChangeEvent(notificationLength);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184 }                                                                                                        </span>





























</pre></td>
                            <td><pre><span class="-4387386009037347542" onmouseenter="enter('-4387386009037347542');" onmouseout="out('-4387386009037347542');" style="">   1 package org.estgroup.phphub.common.service;                                                              </span>
<span  style="">   2                                                                                                          </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">   3 import android.accounts.AccountManager;                                                                  </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">   4 import android.app.Service;                                                                              </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5 import android.content.Intent;                                                                           </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">   6 import android.os.IBinder;                                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">   7 import android.support.annotation.Nullable;                                                              </span>
<span class="4455128704371180043" onmouseenter="enter('4455128704371180043');" onmouseout="out('4455128704371180043');" style="">   8 import com.orhanobut.logger.Logger;                                                                      </span>
<span class="-1714556903090517127" onmouseenter="enter('-1714556903090517127');" onmouseout="out('-1714556903090517127');" style="">   9 import com.squareup.otto.Bus;                                                                            </span>
<span class="3321713899594298022" onmouseenter="enter('3321713899594298022');" onmouseout="out('3321713899594298022');" style="">  10 import com.squareup.otto.Produce;                                                                        </span>
<span class="7687412297882894887" onmouseenter="enter('7687412297882894887');" onmouseout="out('7687412297882894887');" style="">  11 import eu.unicate.retroauth.AuthAccountManager;                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  12 import java.util.List;                                                                                   </span>
<span class="-3789567581486736748" onmouseenter="enter('-3789567581486736748');" onmouseout="out('-3789567581486736748');" style="">  13 import java.util.Timer;                                                                                  </span>
<span class="-2321797189340986544" onmouseenter="enter('-2321797189340986544');" onmouseout="out('-2321797189340986544');" style="">  14 import java.util.TimerTask;                                                                              </span>
<span class="-9028251909622163000" onmouseenter="enter('-9028251909622163000');" onmouseout="out('-9028251909622163000');" style="">  15 import javax.inject.Inject;                                                                              </span>
<span class="-1467302339585906324" onmouseenter="enter('-1467302339585906324');" onmouseout="out('-1467302339585906324');" style="">  16 import org.estgroup.phphub.api.entity.NotificationEntity;                                                </span>
<span class="4096292493840788485" onmouseenter="enter('4096292493840788485');" onmouseout="out('4096292493840788485');" style="">  17 import org.estgroup.phphub.api.entity.element.Notification;                                              </span>
<span class="-5933798444108908952" onmouseenter="enter('-5933798444108908952');" onmouseout="out('-5933798444108908952');" style="">  18 import org.estgroup.phphub.common.App;                                                                   </span>
<span class="4325447187937912263" onmouseenter="enter('4325447187937912263');" onmouseout="out('4325447187937912263');" style="">  19 import org.estgroup.phphub.common.event.NotificationChangeEvent;                                         </span>
<span class="-4079337810591776888" onmouseenter="enter('-4079337810591776888');" onmouseout="out('-4079337810591776888');" style="">  20 import org.estgroup.phphub.common.provider.BusProvider;                                                  </span>
<span class="8799794011913420810" onmouseenter="enter('8799794011913420810');" onmouseout="out('8799794011913420810');" style="">  21 import org.estgroup.phphub.common.transformer.SchedulerTransformer;                                      </span>
<span class="7842124534199985707" onmouseenter="enter('7842124534199985707');" onmouseout="out('7842124534199985707');" style="">  22 import org.estgroup.phphub.common.util.Utils;                                                            </span>
<span class="7283182950615919309" onmouseenter="enter('7283182950615919309');" onmouseout="out('7283182950615919309');" style="">  23 import org.estgroup.phphub.model.UserModel;                                                              </span>
<span class="4523743203651505314" onmouseenter="enter('4523743203651505314');" onmouseout="out('4523743203651505314');" style="">  24 import rx.functions.Action1;                                                                             </span>
<span class="8465958498096589322" onmouseenter="enter('8465958498096589322');" onmouseout="out('8465958498096589322');" style="">  25 import rx.functions.Func1;                                                                               </span>
<span  style="">  26                                                                                                          </span>
<span  style="">  27                                                                                                          </span>
<span class="130379670444496348" onmouseenter="enter('130379670444496348');" onmouseout="out('130379670444496348');" style="">  28 public class NotificationService extends Service {                                                       </span>
<span class="-8982366689848378348" onmouseenter="enter('-8982366689848378348');" onmouseout="out('-8982366689848378348');" style="">  29     private final static int UPDATE_INTERVAL = 3000;                                                     </span>
<span  style="">  30                                                                                                          </span>
<span class="4282353794276236598" onmouseenter="enter('4282353794276236598');" onmouseout="out('4282353794276236598');" style="">  31     private Timer timer = new Timer();                                                                   </span>
<span  style="">  32                                                                                                          </span>
<span class="5935585735371054040" onmouseenter="enter('5935585735371054040');" onmouseout="out('5935585735371054040');" style="">  33     public static int notificationLength;                                                                </span>
<span  style="">  34                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  35     @Inject                                                                                              </span>
<span class="-3158043250917241011" onmouseenter="enter('-3158043250917241011');" onmouseout="out('-3158043250917241011');" style="">  36     AuthAccountManager authAccountManager;                                                               </span>
<span  style="">  37                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  38     @Inject                                                                                              </span>
<span class="5737395917459628081" onmouseenter="enter('5737395917459628081');" onmouseout="out('5737395917459628081');" style="">  39     AccountManager accountManager;                                                                       </span>
<span  style="">  40                                                                                                          </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  41     @Inject                                                                                              </span>
<span class="-8939190534418984761" onmouseenter="enter('-8939190534418984761');" onmouseout="out('-8939190534418984761');" style="">  42     UserModel userModel;                                                                                 </span>
<span  style="">  43                                                                                                          </span>
<span  style="">  44                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">  45 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-2325944952683784990" onmouseenter="enter('-2325944952683784990');" onmouseout="out('-2325944952683784990');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  46     String accountType, tokenType;                                                                       </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  47                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  48 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  49 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">  49 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  50 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  51                                                                                                          </span>
<span class="5975454162599439217" onmouseenter="enter('5975454162599439217');" onmouseout="out('5975454162599439217');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  52     String tokenType, accountType;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  53                                                                                                          </span>
<span class="-924720970163900212" onmouseenter="enter('-924720970163900212');" onmouseout="out('-924720970163900212');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  54     Account[] accounts;                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  55                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style="">  56 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span  style="">  57                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  58     @Override                                                                                            </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  59     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  60         super.onCreate();                                                                                </span>
<span class="-5425955015584259412" onmouseenter="enter('-5425955015584259412');" onmouseout="out('-5425955015584259412');" style="">  61         accountType = Utils.getAccountType(this);                                                        </span>
<span class="-9003537681547032157" onmouseenter="enter('-9003537681547032157');" onmouseout="out('-9003537681547032157');" style="">  62         tokenType = Utils.getTokenType(this);                                                            </span>
<span class="193207439343096697" onmouseenter="enter('193207439343096697');" onmouseout="out('193207439343096697');" style="">  63         ((App) getApplication()).getApiComponent().inject(this);                                         </span>
<span class="-4295321480044474749" onmouseenter="enter('-4295321480044474749');" onmouseout="out('-4295321480044474749');" style="">  64         BusProvider.getInstance().register(this);                                                        </span>
<span  style="">  65                                                                                                          </span>
<span class="-2657257454285079147" onmouseenter="enter('-2657257454285079147');" onmouseout="out('-2657257454285079147');" style="">  66         notificationTask();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67     }                                                                                                    </span>
<span  style="">  68                                                                                                          </span>
<span  style="">  69                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">  70 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  71     @Override                                                                                            </span>
<span class="-6244541068701761417" onmouseenter="enter('-6244541068701761417');" onmouseout="out('-6244541068701761417');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  72     public int onStartCommand(Intent intent, int flags, int startId) {                                   </span>
<span class="5024081068658245509" onmouseenter="enter('5024081068658245509');" onmouseout="out('5024081068658245509');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  73         return super.onStartCommand(intent, flags, startId);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  74     }                                                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  75                                                                                                          </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  76                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  77 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  78 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">  78 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  79 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80                                                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style="">  82 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  83     @Override                                                                                            </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style="">  84     public void onDestroy() {                                                                            </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  85         super.onDestroy();                                                                               </span>
<span  style="">  86                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">  87 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  88                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  89 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  90 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">  90 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  91 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  92                                                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93                                                                                                          </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  94         BusProvider.getInstance().unregister(this);                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  95                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style="">  96 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="6158416663298475483" onmouseenter="enter('6158416663298475483');" onmouseout="out('6158416663298475483');" style="">  97         timer.cancel();                                                                                  </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style="">  98         BusProvider.getInstance().unregister(this);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99     }                                                                                                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="2602278748708572863" onmouseenter="enter('2602278748708572863');" onmouseout="out('2602278748708572863');" style=""> 101     public void notificationTask() {                                                                     </span>
<span class="-7357433293289362727" onmouseenter="enter('-7357433293289362727');" onmouseout="out('-7357433293289362727');" style=""> 102         if (timer == null) {                                                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 103             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104         }                                                                                                </span>
<span  style=""> 105                                                                                                          </span>
<span class="-3995857028562557665" onmouseenter="enter('-3995857028562557665');" onmouseout="out('-3995857028562557665');" style=""> 106         timer.schedule(new TimerTask() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 107             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 108             public void run() {                                                                          </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style=""> 109                 if (Utils.logined(NotificationService.this, accountManager)) {                           </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style=""> 110                     userModel.once()                                                                     </span>
<span class="-6641620230878926182" onmouseenter="enter('-6641620230878926182');" onmouseout="out('-6641620230878926182');" style=""> 111                             .setToken(authAccountManager.getAuthToken(                                   </span>
<span class="5055579127868209230" onmouseenter="enter('5055579127868209230');" onmouseout="out('5055579127868209230');" style=""> 112                                     Utils.getActiveAccount(NotificationService.this, authAccountManager),</span>
<span class="2365911740174982095" onmouseenter="enter('2365911740174982095');" onmouseout="out('2365911740174982095');" style=""> 113                                     accountType,                                                         </span>
<span class="2034255224252966263" onmouseenter="enter('2034255224252966263');" onmouseout="out('2034255224252966263');" style=""> 114                                     tokenType                                                            </span>
<span class="7915751015235293282" onmouseenter="enter('7915751015235293282');" onmouseout="out('7915751015235293282');" style=""> 115                             ))                                                                           </span>
<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style=""> 116                             .getMyNotifications()                                                        </span>
<span class="225172565013299178" onmouseenter="enter('225172565013299178');" onmouseout="out('225172565013299178');" style=""> 117                             .compose(new SchedulerTransformer&lt;NotificationEntity&gt;())                     </span>
<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style=""> 118                             .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 119                                 @Override                                                                </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style=""> 120                                 public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {  </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style=""> 121                                     return notificationEntity.getData();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 123                             })                                                                           </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style=""> 124                             .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125                                 @Override                                                                </span>
<span  style=""> 126                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 127 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-6695830220864875213" onmouseenter="enter('-6695830220864875213');" onmouseout="out('-6695830220864875213');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 128                                 public void call(List&lt;Notification&gt; notifications) {                     </span>
<span class="-2914437805320142335" onmouseenter="enter('-2914437805320142335');" onmouseout="out('-2914437805320142335');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 129                                     BusProvider.getInstance().post(new NotificationChangeEvent(notifications.size()));"> 129                                     BusProvider.getInstance().post(new NotificationChangeEvent(notificatiðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 130                                 }                                                                        </span>
<span class="-741379746112111425" onmouseenter="enter('-741379746112111425');" onmouseout="out('-741379746112111425');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 131                             }, new Action1&lt;Throwable&gt;() {                                                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 132                                 @Override                                                                </span>
<span class="-6263017786536058089" onmouseenter="enter('-6263017786536058089');" onmouseout="out('-6263017786536058089');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 133                                 public void call(Throwable throwable) {                                  </span>
<span class="812367261256711506" onmouseenter="enter('812367261256711506');" onmouseout="out('812367261256711506');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 134                                     Logger.e(throwable.toString());                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 135                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 136 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 137 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 137 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 138 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 139                                                                                                          </span>
<span class="8484990376092230629" onmouseenter="enter('8484990376092230629');" onmouseout="out('8484990376092230629');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 140                                 public void call(List&lt;Notification&gt; notificationList) {                  </span>
<span class="-7487331138884373269" onmouseenter="enter('-7487331138884373269');" onmouseout="out('-7487331138884373269');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 141                                     notificationLength = notificationList.size();                        </span>
<span class="-3975990215663394161" onmouseenter="enter('-3975990215663394161');" onmouseout="out('-3975990215663394161');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 142                                     BusProvider.getInstance().post(notificationChangeEvent());           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 143                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 144 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 146                             });                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148             }                                                                                            </span>
<span class="-3376806801729093144" onmouseenter="enter('-3376806801729093144');" onmouseout="out('-3376806801729093144');" style=""> 149         }, 0, UPDATE_INTERVAL);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150     }                                                                                                    </span>
<span  style=""> 151                                                                                                          </span>
<span class="2390100272250745956" onmouseenter="enter('2390100272250745956');" onmouseout="out('2390100272250745956');" style=""> 152     @Nullable                                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153     @Override                                                                                            </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 154     public IBinder onBind(Intent intent) {                                                               </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 155         return null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156     }                                                                                                    </span>
<span  style=""> 157                                                                                                          </span>
<span class="7312151482548986149" onmouseenter="enter('7312151482548986149');" onmouseout="out('7312151482548986149');" style=""> 158     @Produce public NotificationChangeEvent notificationChangeEvent() {                                  </span>
<span class="-955128847242624796" onmouseenter="enter('-955128847242624796');" onmouseout="out('-955128847242624796');" style=""> 159         return new NotificationChangeEvent(notificationLength);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161 }                                                                                                        </span>




















































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-4387386009037347542" onmouseenter="enter('-4387386009037347542');" onmouseout="out('-4387386009037347542');" style="">   1  package org.estgroup.phphub.common.service;                                                                       </span>
<span  style="">   2                                                                                                                    </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   3 -import android.accounts.Account;                                                                                  </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">   4  import android.accounts.AccountManager;                                                                           </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">   5  import android.app.Service;                                                                                       </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6  import android.content.Intent;                                                                                    </span>
<span class="-45272041144130605" onmouseenter="enter('-45272041144130605');" onmouseout="out('-45272041144130605');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   7 -import android.os.Binder;                                                                                         </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">   8  import android.os.IBinder;                                                                                        </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   9 +import android.support.annotation.Nullable;                                                                       </span>
<span  style="">  10                                                                                                                    </span>



<span class="3539253047754859631" onmouseenter="enter('3539253047754859631');" onmouseout="out('3539253047754859631');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  11 -import org.estgroup.phphub.R;                                                                                     </span>
<span class="4455128704371180043" onmouseenter="enter('4455128704371180043');" onmouseout="out('4455128704371180043');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 +import com.orhanobut.logger.Logger;                                                                               </span>
<span class="3321713899594298022" onmouseenter="enter('3321713899594298022');" onmouseout="out('3321713899594298022');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  13 +import com.squareup.otto.Produce;                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  14 +                                                                                                                  </span>
<span class="-1467302339585906324" onmouseenter="enter('-1467302339585906324');" onmouseout="out('-1467302339585906324');" style="">  15  import org.estgroup.phphub.api.entity.NotificationEntity;                                                         </span>
<span class="4096292493840788485" onmouseenter="enter('4096292493840788485');" onmouseout="out('4096292493840788485');" style="">  16  import org.estgroup.phphub.api.entity.element.Notification;                                                       </span>
<span class="-5933798444108908952" onmouseenter="enter('-5933798444108908952');" onmouseout="out('-5933798444108908952');" style="">  17  import org.estgroup.phphub.common.App;                                                                            </span>
<span class="4325447187937912263" onmouseenter="enter('4325447187937912263');" onmouseout="out('4325447187937912263');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +import org.estgroup.phphub.common.event.NotificationChangeEvent;                                                  </span>
<span class="-4079337810591776888" onmouseenter="enter('-4079337810591776888');" onmouseout="out('-4079337810591776888');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  19 +import org.estgroup.phphub.common.provider.BusProvider;                                                           </span>
<span class="8799794011913420810" onmouseenter="enter('8799794011913420810');" onmouseout="out('8799794011913420810');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  20 +import org.estgroup.phphub.common.transformer.SchedulerTransformer;                                               </span>
<span class="7842124534199985707" onmouseenter="enter('7842124534199985707');" onmouseout="out('7842124534199985707');" style="">  21  import org.estgroup.phphub.common.util.Utils;                                                                     </span>
<span class="7283182950615919309" onmouseenter="enter('7283182950615919309');" onmouseout="out('7283182950615919309');" style="">  22  import org.estgroup.phphub.model.UserModel;                                                                       </span>
<span  style="">  23                                                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  24  import java.util.List;                                                                                            </span>
<span class="-3789567581486736748" onmouseenter="enter('-3789567581486736748');" onmouseout="out('-3789567581486736748');" style="">  25  import java.util.Timer;                                                                                           </span>
<span class="-2321797189340986544" onmouseenter="enter('-2321797189340986544');" onmouseout="out('-2321797189340986544');" style="">  26  import java.util.TimerTask;                                                                                       </span>
<span  style="">  27                                                                                                                    </span>
<span class="-9028251909622163000" onmouseenter="enter('-9028251909622163000');" onmouseout="out('-9028251909622163000');" style="">  28  import javax.inject.Inject;                                                                                       </span>
<span class="-9095108592898487373" onmouseenter="enter('-9095108592898487373');" onmouseout="out('-9095108592898487373');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  29 -import javax.inject.Named;                                                                                        </span>
<span  style="">  30                                                                                                                    </span>
<span class="7687412297882894887" onmouseenter="enter('7687412297882894887');" onmouseout="out('7687412297882894887');" style="">  31  import eu.unicate.retroauth.AuthAccountManager;                                                                   </span>
<span class="-8991638343158160915" onmouseenter="enter('-8991638343158160915');" onmouseout="out('-8991638343158160915');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  32 -import retrofit.RetrofitError;                                                                                    </span>
<span class="-3197823889069125267" onmouseenter="enter('-3197823889069125267');" onmouseout="out('-3197823889069125267');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  33 -import retrofit.client.Response;                                                                                  </span>
<span class="-5310040022060717000" onmouseenter="enter('-5310040022060717000');" onmouseout="out('-5310040022060717000');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  34 -import rx.Observable;                                                                                             </span>
<span class="6229753433217122877" onmouseenter="enter('6229753433217122877');" onmouseout="out('6229753433217122877');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -import rx.Subscriber;                                                                                             </span>
<span class="8345049249891900969" onmouseenter="enter('8345049249891900969');" onmouseout="out('8345049249891900969');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  36 -import rx.functions.Action0;                                                                                      </span>
<span class="4523743203651505314" onmouseenter="enter('4523743203651505314');" onmouseout="out('4523743203651505314');" style="">  37  import rx.functions.Action1;                                                                                      </span>
<span class="8465958498096589322" onmouseenter="enter('8465958498096589322');" onmouseout="out('8465958498096589322');" style="">  38  import rx.functions.Func1;                                                                                        </span>
<span class="-459657757141645295" onmouseenter="enter('-459657757141645295');" onmouseout="out('-459657757141645295');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -import rx.schedulers.Schedulers;                                                                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  40 -                                                                                                                  </span>
<span class="3458664187589418491" onmouseenter="enter('3458664187589418491');" onmouseout="out('3458664187589418491');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -import static org.estgroup.phphub.common.qualifier.AuthType.AUTH_TYPE_USER;                                       </span>
<span  style="">  42                                                                                                                    </span>
<span class="130379670444496348" onmouseenter="enter('130379670444496348');" onmouseout="out('130379670444496348');" style="">  43  public class NotificationService extends Service {                                                                </span>
<span class="-8982366689848378348" onmouseenter="enter('-8982366689848378348');" onmouseout="out('-8982366689848378348');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  44 +    private final static int UPDATE_INTERVAL = 3000;                                                              </span>
<span  style="">  45                                                                                                                    </span>
<span class="-7382995771401205581" onmouseenter="enter('-7382995771401205581');" onmouseout="out('-7382995771401205581');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -    public static int UPDATE_INTERVAL = 3000;                                                                     </span>
<span class="4282353794276236598" onmouseenter="enter('4282353794276236598');" onmouseout="out('4282353794276236598');" style="">  47      private Timer timer = new Timer();                                                                            </span>
<span  style="">  48                                                                                                                    </span>


<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  49      @Inject                                                                                                       </span>
<span class="-3158043250917241011" onmouseenter="enter('-3158043250917241011');" onmouseout="out('-3158043250917241011');" style="">  50      AuthAccountManager authAccountManager;                                                                        </span>
<span  style="">  51                                                                                                                    </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  52      @Inject                                                                                                       </span>
<span class="5737395917459628081" onmouseenter="enter('5737395917459628081');" onmouseout="out('5737395917459628081');" style="">  53      AccountManager accountManager;                                                                                </span>
<span  style="">  54                                                                                                                    </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  55      @Inject                                                                                                       </span>
<span class="-8939190534418984761" onmouseenter="enter('-8939190534418984761');" onmouseout="out('-8939190534418984761');" style="">  56      UserModel userModel;                                                                                          </span>
<span  style="">  57                                                                                                                    </span>
<span class="-2786734780381563657" onmouseenter="enter('-2786734780381563657');" onmouseout="out('-2786734780381563657');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  58 -    NotificationListener listener;                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  59 -                                                                                                                  </span>
<span class="5975454162599439217" onmouseenter="enter('5975454162599439217');" onmouseout="out('5975454162599439217');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  60 -    String tokenType, accountType;                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  61 -                                                                                                                  </span>
<span class="-924720970163900212" onmouseenter="enter('-924720970163900212');" onmouseout="out('-924720970163900212');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  62 -    Account[] accounts;                                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  63 -                                                                                                                  </span>
<span class="3792704654388810821" onmouseenter="enter('3792704654388810821');" onmouseout="out('3792704654388810821');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  64 -    public static interface NotificationListener {                                                                </span>
<span class="-833531569406536520" onmouseenter="enter('-833531569406536520');" onmouseout="out('-833531569406536520');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -        void onNotificationServiceSuccess(List&lt;Notification&gt; notificationList);                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -                                                                                                                  </span>
<span class="5161665720924800235" onmouseenter="enter('5161665720924800235');" onmouseout="out('5161665720924800235');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -        void onNotificationServiceError(RetrofitError error);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  68 -    }                                                                                                             </span>
<span class="-2325944952683784990" onmouseenter="enter('-2325944952683784990');" onmouseout="out('-2325944952683784990');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  69 +    String accountType, tokenType;                                                                                </span>
<span  style="">  70                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  71      @Override                                                                                                     </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  72      public void onCreate() {                                                                                      </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  73          super.onCreate();                                                                                         </span>
<span class="-5425955015584259412" onmouseenter="enter('-5425955015584259412');" onmouseout="out('-5425955015584259412');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +        accountType = Utils.getAccountType(this);                                                                 </span>
<span class="-9003537681547032157" onmouseenter="enter('-9003537681547032157');" onmouseout="out('-9003537681547032157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  75 +        tokenType = Utils.getTokenType(this);                                                                     </span>
<span class="193207439343096697" onmouseenter="enter('193207439343096697');" onmouseout="out('193207439343096697');" style="">  76          ((App) getApplication()).getApiComponent().inject(this);                                                  </span>
<span class="-4295321480044474749" onmouseenter="enter('-4295321480044474749');" onmouseout="out('-4295321480044474749');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  77 +        BusProvider.getInstance().register(this);                                                                 </span>
<span  style="">  78                                                                                                                    </span>
<span class="-2297347849623771879" onmouseenter="enter('-2297347849623771879');" onmouseout="out('-2297347849623771879');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -        accountType = getString(R.string.auth_account_type);                                                      </span>
<span class="295055567268052737" onmouseenter="enter('295055567268052737');" onmouseout="out('295055567268052737');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -        tokenType = getString(R.string.auth_token_type);                                                          </span>
<span class="-7303251295697670324" onmouseenter="enter('-7303251295697670324');" onmouseout="out('-7303251295697670324');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -        accounts = accountManager.getAccountsByType(accountType);                                                 </span>
<span class="-2657257454285079147" onmouseenter="enter('-2657257454285079147');" onmouseout="out('-2657257454285079147');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  82 +        notificationTask();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83      }                                                                                                             </span>
<span  style="">  84                                                                                                                    </span>
<span class="-1435681976044859355" onmouseenter="enter('-1435681976044859355');" onmouseout="out('-1435681976044859355');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -    public void setListener(NotificationListener listener) {                                                      </span>
<span class="3639523841108672913" onmouseenter="enter('3639523841108672913');" onmouseout="out('3639523841108672913');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  86 -        this.listener = listener;                                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  87 +    @Override                                                                                                     </span>
<span class="-6244541068701761417" onmouseenter="enter('-6244541068701761417');" onmouseout="out('-6244541068701761417');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +    public int onStartCommand(Intent intent, int flags, int startId) {                                            </span>
<span class="5024081068658245509" onmouseenter="enter('5024081068658245509');" onmouseout="out('5024081068658245509');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  89 +        return super.onStartCommand(intent, flags, startId);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90      }                                                                                                             </span>
<span  style="">  91                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  92      @Override                                                                                                     </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style="">  93      public void onDestroy() {                                                                                     </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  94          super.onDestroy();                                                                                        </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -                                                                                                                  </span>

<span class="6158416663298475483" onmouseenter="enter('6158416663298475483');" onmouseout="out('6158416663298475483');" style="">  96          timer.cancel();                                                                                           </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +        BusProvider.getInstance().unregister(this);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98      }                                                                                                             </span>
<span  style="">  99                                                                                                                    </span>
<span class="2602278748708572863" onmouseenter="enter('2602278748708572863');" onmouseout="out('2602278748708572863');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +    public void notificationTask() {                                                                              </span>
<span class="-7357433293289362727" onmouseenter="enter('-7357433293289362727');" onmouseout="out('-7357433293289362727');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +        if (timer == null) {                                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +            return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +        }                                                                                                         </span>
<span  style=""> 104                                                                                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 105 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 106 -    @Override                                                                                                     </span>
<span class="-6244541068701761417" onmouseenter="enter('-6244541068701761417');" onmouseout="out('-6244541068701761417');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 107 -    public int onStartCommand(Intent intent, int flags, int startId) {                                            </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 108 -                                                                                                                  </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 109 -        return START_STICKY;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 110 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 111 -                                                                                                                  </span>
<span class="-7682809406555730246" onmouseenter="enter('-7682809406555730246');" onmouseout="out('-7682809406555730246');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 112 -    public void getNotification() {                                                                               </span>
<span class="6200009946332550038" onmouseenter="enter('6200009946332550038');" onmouseout="out('6200009946332550038');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 113 -        timer.scheduleAtFixedRate(new TimerTask() {                                                               </span>
<span class="-3995857028562557665" onmouseenter="enter('-3995857028562557665');" onmouseout="out('-3995857028562557665');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +        timer.schedule(new TimerTask() {                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 115              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 116              public void run() {                                                                                   </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style=""> 117                  if (Utils.logined(NotificationService.this, accountManager)) {                                    </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style=""> 118                      userModel.once()                                                                              </span>
<span class="-4842548385884138640" onmouseenter="enter('-4842548385884138640');" onmouseout="out('-4842548385884138640');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 119 -                            .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenType))       </span>
<span class="-6641620230878926182" onmouseenter="enter('-6641620230878926182');" onmouseout="out('-6641620230878926182');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +                            .setToken(authAccountManager.getAuthToken(                                            </span>
<span class="5055579127868209230" onmouseenter="enter('5055579127868209230');" onmouseout="out('5055579127868209230');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +                                    Utils.getActiveAccount(NotificationService.this, authAccountManager),         </span>
<span class="2365911740174982095" onmouseenter="enter('2365911740174982095');" onmouseout="out('2365911740174982095');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +                                    accountType,                                                                  </span>
<span class="2034255224252966263" onmouseenter="enter('2034255224252966263');" onmouseout="out('2034255224252966263');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +                                    tokenType                                                                     </span>
<span class="7915751015235293282" onmouseenter="enter('7915751015235293282');" onmouseout="out('7915751015235293282');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +                            ))                                                                                    </span>
<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style=""> 125                              .getMyNotifications()                                                                 </span>
<span class="225172565013299178" onmouseenter="enter('225172565013299178');" onmouseout="out('225172565013299178');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +                            .compose(new SchedulerTransformer&lt;NotificationEntity&gt;())                              </span>
<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style=""> 127                              .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 128                                  @Override                                                                         </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style=""> 129                                  public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {           </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style=""> 130                                      return notificationEntity.getData();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131                                  }                                                                                 </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 132                              })                                                                                    </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style=""> 133                              .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134                                  @Override                                                                         </span>
<span class="8484990376092230629" onmouseenter="enter('8484990376092230629');" onmouseout="out('8484990376092230629');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -                                public void call(List&lt;Notification&gt; notificationList) {                           </span>
<span class="-7891690093106509749" onmouseenter="enter('-7891690093106509749');" onmouseout="out('-7891690093106509749');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -                                    listener.onNotificationServiceSuccess(notificationList);                      </span>
<span class="-6695830220864875213" onmouseenter="enter('-6695830220864875213');" onmouseout="out('-6695830220864875213');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +                                public void call(List&lt;Notification&gt; notifications) {                              </span>
<span class="-2914437805320142335" onmouseenter="enter('-2914437805320142335');" onmouseout="out('-2914437805320142335');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 138 +                                    BusProvider.getInstance().post(new NotificationChangeEvent(notifications.size()));"> 138 +                                    BusProvider.getInstance().post(new NotificationChangeEvent(notifications.size(ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 139 +                                }                                                                                 </span>
<span class="-741379746112111425" onmouseenter="enter('-741379746112111425');" onmouseout="out('-741379746112111425');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +                            }, new Action1&lt;Throwable&gt;() {                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +                                @Override                                                                         </span>
<span class="-6263017786536058089" onmouseenter="enter('-6263017786536058089');" onmouseout="out('-6263017786536058089');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +                                public void call(Throwable throwable) {                                           </span>
<span class="812367261256711506" onmouseenter="enter('812367261256711506');" onmouseout="out('812367261256711506');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +                                    Logger.e(throwable.toString());                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144                                  }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 145                              });                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147              }                                                                                                     </span>
<span class="-3376806801729093144" onmouseenter="enter('-3376806801729093144');" onmouseout="out('-3376806801729093144');" style=""> 148          }, 0, UPDATE_INTERVAL);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149      }                                                                                                             </span>
<span  style=""> 150                                                                                                                    </span>
<span class="2390100272250745956" onmouseenter="enter('2390100272250745956');" onmouseout="out('2390100272250745956');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +    @Nullable                                                                                                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 152      @Override                                                                                                     </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 153      public IBinder onBind(Intent intent) {                                                                        </span>
<span class="-5169668475774466923" onmouseenter="enter('-5169668475774466923');" onmouseout="out('-5169668475774466923');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -        return new MyBinder();                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 155 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 156 -                                                                                                                  </span>
<span class="-3362561660230675285" onmouseenter="enter('-3362561660230675285');" onmouseout="out('-3362561660230675285');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 157 -    public class MyBinder extends Binder {                                                                        </span>
<span class="-6385060235312172271" onmouseenter="enter('-6385060235312172271');" onmouseout="out('-6385060235312172271');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 158 -        public NotificationService getService() {                                                                 </span>
<span class="8483630614688680476" onmouseenter="enter('8483630614688680476');" onmouseout="out('8483630614688680476');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 159 -            return NotificationService.this;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 160 -        }                                                                                                         </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +        return null;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162      }                                                                                                             </span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="-4387386009037347542" onmouseenter="enter('-4387386009037347542');" onmouseout="out('-4387386009037347542');" style="">   1  package org.estgroup.phphub.common.service;                                                                       </span>
<span  style="">   2                                                                                                                    </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">   3  import android.accounts.Account;                                                                                  </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">   4  import android.accounts.AccountManager;                                                                           </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">   5  import android.app.Service;                                                                                       </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6  import android.content.Intent;                                                                                    </span>
<span class="-45272041144130605" onmouseenter="enter('-45272041144130605');" onmouseout="out('-45272041144130605');" style="">   7  import android.os.Binder;                                                                                         </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">   8  import android.os.IBinder;                                                                                        </span>

<span  style="">   9                                                                                                                    </span>
<span class="-1714556903090517127" onmouseenter="enter('-1714556903090517127');" onmouseout="out('-1714556903090517127');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 +import com.squareup.otto.Bus;                                                                                     </span>
<span class="3321713899594298022" onmouseenter="enter('3321713899594298022');" onmouseout="out('3321713899594298022');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 +import com.squareup.otto.Produce;                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 +                                                                                                                  </span>
<span class="3539253047754859631" onmouseenter="enter('3539253047754859631');" onmouseout="out('3539253047754859631');" style="">  13  import org.estgroup.phphub.R;                                                                                     </span>



<span class="-1467302339585906324" onmouseenter="enter('-1467302339585906324');" onmouseout="out('-1467302339585906324');" style="">  14  import org.estgroup.phphub.api.entity.NotificationEntity;                                                         </span>
<span class="4096292493840788485" onmouseenter="enter('4096292493840788485');" onmouseout="out('4096292493840788485');" style="">  15  import org.estgroup.phphub.api.entity.element.Notification;                                                       </span>
<span class="-5933798444108908952" onmouseenter="enter('-5933798444108908952');" onmouseout="out('-5933798444108908952');" style="">  16  import org.estgroup.phphub.common.App;                                                                            </span>
<span class="4325447187937912263" onmouseenter="enter('4325447187937912263');" onmouseout="out('4325447187937912263');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  17 +import org.estgroup.phphub.common.event.NotificationChangeEvent;                                                  </span>
<span class="-4079337810591776888" onmouseenter="enter('-4079337810591776888');" onmouseout="out('-4079337810591776888');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +import org.estgroup.phphub.common.provider.BusProvider;                                                           </span>

<span class="7842124534199985707" onmouseenter="enter('7842124534199985707');" onmouseout="out('7842124534199985707');" style="">  19  import org.estgroup.phphub.common.util.Utils;                                                                     </span>
<span class="7283182950615919309" onmouseenter="enter('7283182950615919309');" onmouseout="out('7283182950615919309');" style="">  20  import org.estgroup.phphub.model.UserModel;                                                                       </span>
<span  style="">  21                                                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  22  import java.util.List;                                                                                            </span>
<span class="-3789567581486736748" onmouseenter="enter('-3789567581486736748');" onmouseout="out('-3789567581486736748');" style="">  23  import java.util.Timer;                                                                                           </span>
<span class="-2321797189340986544" onmouseenter="enter('-2321797189340986544');" onmouseout="out('-2321797189340986544');" style="">  24  import java.util.TimerTask;                                                                                       </span>
<span  style="">  25                                                                                                                    </span>
<span class="-9028251909622163000" onmouseenter="enter('-9028251909622163000');" onmouseout="out('-9028251909622163000');" style="">  26  import javax.inject.Inject;                                                                                       </span>
<span class="-9095108592898487373" onmouseenter="enter('-9095108592898487373');" onmouseout="out('-9095108592898487373');" style="">  27  import javax.inject.Named;                                                                                        </span>
<span  style="">  28                                                                                                                    </span>
<span class="7687412297882894887" onmouseenter="enter('7687412297882894887');" onmouseout="out('7687412297882894887');" style="">  29  import eu.unicate.retroauth.AuthAccountManager;                                                                   </span>
<span class="-8991638343158160915" onmouseenter="enter('-8991638343158160915');" onmouseout="out('-8991638343158160915');" style="">  30  import retrofit.RetrofitError;                                                                                    </span>
<span class="-3197823889069125267" onmouseenter="enter('-3197823889069125267');" onmouseout="out('-3197823889069125267');" style="">  31  import retrofit.client.Response;                                                                                  </span>
<span class="-5310040022060717000" onmouseenter="enter('-5310040022060717000');" onmouseout="out('-5310040022060717000');" style="">  32  import rx.Observable;                                                                                             </span>
<span class="6229753433217122877" onmouseenter="enter('6229753433217122877');" onmouseout="out('6229753433217122877');" style="">  33  import rx.Subscriber;                                                                                             </span>
<span class="8345049249891900969" onmouseenter="enter('8345049249891900969');" onmouseout="out('8345049249891900969');" style="">  34  import rx.functions.Action0;                                                                                      </span>
<span class="4523743203651505314" onmouseenter="enter('4523743203651505314');" onmouseout="out('4523743203651505314');" style="">  35  import rx.functions.Action1;                                                                                      </span>
<span class="8465958498096589322" onmouseenter="enter('8465958498096589322');" onmouseout="out('8465958498096589322');" style="">  36  import rx.functions.Func1;                                                                                        </span>
<span class="-459657757141645295" onmouseenter="enter('-459657757141645295');" onmouseout="out('-459657757141645295');" style="">  37  import rx.schedulers.Schedulers;                                                                                  </span>
<span  style="">  38                                                                                                                    </span>
<span class="3458664187589418491" onmouseenter="enter('3458664187589418491');" onmouseout="out('3458664187589418491');" style="">  39  import static org.estgroup.phphub.common.qualifier.AuthType.AUTH_TYPE_USER;                                       </span>
<span  style="">  40                                                                                                                    </span>
<span class="130379670444496348" onmouseenter="enter('130379670444496348');" onmouseout="out('130379670444496348');" style="">  41  public class NotificationService extends Service {                                                                </span>

<span  style="">  42                                                                                                                    </span>
<span class="-7382995771401205581" onmouseenter="enter('-7382995771401205581');" onmouseout="out('-7382995771401205581');" style="">  43      public static int UPDATE_INTERVAL = 3000;                                                                     </span>
<span class="4282353794276236598" onmouseenter="enter('4282353794276236598');" onmouseout="out('4282353794276236598');" style="">  44      private Timer timer = new Timer();                                                                            </span>
<span  style="">  45                                                                                                                    </span>
<span class="5935585735371054040" onmouseenter="enter('5935585735371054040');" onmouseout="out('5935585735371054040');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  46 +    public static int notificationLength;                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +                                                                                                                  </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  48      @Inject                                                                                                       </span>
<span class="-3158043250917241011" onmouseenter="enter('-3158043250917241011');" onmouseout="out('-3158043250917241011');" style="">  49      AuthAccountManager authAccountManager;                                                                        </span>
<span  style="">  50                                                                                                                    </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  51      @Inject                                                                                                       </span>
<span class="5737395917459628081" onmouseenter="enter('5737395917459628081');" onmouseout="out('5737395917459628081');" style="">  52      AccountManager accountManager;                                                                                </span>
<span  style="">  53                                                                                                                    </span>
<span class="2299554194540306719" onmouseenter="enter('2299554194540306719');" onmouseout="out('2299554194540306719');" style="">  54      @Inject                                                                                                       </span>
<span class="-8939190534418984761" onmouseenter="enter('-8939190534418984761');" onmouseout="out('-8939190534418984761');" style="">  55      UserModel userModel;                                                                                          </span>
<span  style="">  56                                                                                                                    </span>
<span class="-2786734780381563657" onmouseenter="enter('-2786734780381563657');" onmouseout="out('-2786734780381563657');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  57 -    NotificationListener listener;                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  58 -                                                                                                                  </span>
<span class="5975454162599439217" onmouseenter="enter('5975454162599439217');" onmouseout="out('5975454162599439217');" style="">  59      String tokenType, accountType;                                                                                </span>
<span  style="">  60                                                                                                                    </span>
<span class="-924720970163900212" onmouseenter="enter('-924720970163900212');" onmouseout="out('-924720970163900212');" style="">  61      Account[] accounts;                                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  62 -                                                                                                                  </span>
<span class="3792704654388810821" onmouseenter="enter('3792704654388810821');" onmouseout="out('3792704654388810821');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  63 -    public static interface NotificationListener {                                                                </span>
<span class="-833531569406536520" onmouseenter="enter('-833531569406536520');" onmouseout="out('-833531569406536520');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  64 -        void onNotificationServiceSuccess(List&lt;Notification&gt; notificationList);                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -                                                                                                                  </span>
<span class="5161665720924800235" onmouseenter="enter('5161665720924800235');" onmouseout="out('5161665720924800235');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -        void onNotificationServiceError(RetrofitError error);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -    }                                                                                                             </span>

<span  style="">  68                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  69      @Override                                                                                                     </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  70      public void onCreate() {                                                                                      </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  71          super.onCreate();                                                                                         </span>


<span class="193207439343096697" onmouseenter="enter('193207439343096697');" onmouseout="out('193207439343096697');" style="">  72          ((App) getApplication()).getApiComponent().inject(this);                                                  </span>
<span class="-4295321480044474749" onmouseenter="enter('-4295321480044474749');" onmouseout="out('-4295321480044474749');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +        BusProvider.getInstance().register(this);                                                                 </span>
<span  style="">  74                                                                                                                    </span>
<span class="-2297347849623771879" onmouseenter="enter('-2297347849623771879');" onmouseout="out('-2297347849623771879');" style="">  75          accountType = getString(R.string.auth_account_type);                                                      </span>
<span class="295055567268052737" onmouseenter="enter('295055567268052737');" onmouseout="out('295055567268052737');" style="">  76          tokenType = getString(R.string.auth_token_type);                                                          </span>
<span class="-7303251295697670324" onmouseenter="enter('-7303251295697670324');" onmouseout="out('-7303251295697670324');" style="">  77          accounts = accountManager.getAccountsByType(accountType);                                                 </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78      }                                                                                                             </span>
<span  style="">  79                                                                                                                    </span>
<span class="-1435681976044859355" onmouseenter="enter('-1435681976044859355');" onmouseout="out('-1435681976044859355');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -    public void setListener(NotificationListener listener) {                                                      </span>
<span class="3639523841108672913" onmouseenter="enter('3639523841108672913');" onmouseout="out('3639523841108672913');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -        this.listener = listener;                                                                                 </span>



<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  84      @Override                                                                                                     </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style="">  85      public void onDestroy() {                                                                                     </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  86          super.onDestroy();                                                                                        </span>
<span  style="">  87                                                                                                                    </span>
<span class="-6324926587211322530" onmouseenter="enter('-6324926587211322530');" onmouseout="out('-6324926587211322530');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +        BusProvider.getInstance().unregister(this);                                                               </span>
<span class="6158416663298475483" onmouseenter="enter('6158416663298475483');" onmouseout="out('6158416663298475483');" style="">  89          timer.cancel();                                                                                           </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90      }                                                                                                             </span>
<span  style="">  91                                                                                                                    </span>




<span  style="">  92                                                                                                                    </span>
<span  style="">  93                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  94      @Override                                                                                                     </span>
<span class="-6244541068701761417" onmouseenter="enter('-6244541068701761417');" onmouseout="out('-6244541068701761417');" style="">  95      public int onStartCommand(Intent intent, int flags, int startId) {                                            </span>
<span  style="">  96                                                                                                                    </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style="">  97          return START_STICKY;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98      }                                                                                                             </span>
<span  style="">  99                                                                                                                    </span>
<span class="-7682809406555730246" onmouseenter="enter('-7682809406555730246');" onmouseout="out('-7682809406555730246');" style=""> 100      public void getNotification() {                                                                               </span>
<span class="6200009946332550038" onmouseenter="enter('6200009946332550038');" onmouseout="out('6200009946332550038');" style=""> 101          timer.scheduleAtFixedRate(new TimerTask() {                                                               </span>

<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 102              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 103              public void run() {                                                                                   </span>
<span class="-1718374857105888965" onmouseenter="enter('-1718374857105888965');" onmouseout="out('-1718374857105888965');" style=""> 104                  if (Utils.logined(NotificationService.this, accountManager)) {                                    </span>
<span class="-1072935428333829551" onmouseenter="enter('-1072935428333829551');" onmouseout="out('-1072935428333829551');" style=""> 105                      userModel.once()                                                                              </span>
<span class="-4842548385884138640" onmouseenter="enter('-4842548385884138640');" onmouseout="out('-4842548385884138640');" style=""> 106                              .setToken(authAccountManager.getAuthToken(accounts[0], accountType, tokenType))       </span>





<span class="4084086758210216856" onmouseenter="enter('4084086758210216856');" onmouseout="out('4084086758210216856');" style=""> 107                              .getMyNotifications()                                                                 </span>

<span class="5106732462298579772" onmouseenter="enter('5106732462298579772');" onmouseout="out('5106732462298579772');" style=""> 108                              .map(new Func1&lt;NotificationEntity, List&lt;Notification&gt;&gt;() {                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 109                                  @Override                                                                         </span>
<span class="-2483588514216096706" onmouseenter="enter('-2483588514216096706');" onmouseout="out('-2483588514216096706');" style=""> 110                                  public List&lt;Notification&gt; call(NotificationEntity notificationEntity) {           </span>
<span class="1286952722551890438" onmouseenter="enter('1286952722551890438');" onmouseout="out('1286952722551890438');" style=""> 111                                      return notificationEntity.getData();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112                                  }                                                                                 </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 113                              })                                                                                    </span>
<span class="-6093183056317113434" onmouseenter="enter('-6093183056317113434');" onmouseout="out('-6093183056317113434');" style=""> 114                              .subscribe(new Action1&lt;List&lt;Notification&gt;&gt;() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 115                                  @Override                                                                         </span>
<span class="8484990376092230629" onmouseenter="enter('8484990376092230629');" onmouseout="out('8484990376092230629');" style=""> 116                                  public void call(List&lt;Notification&gt; notificationList) {                           </span>
<span class="-7891690093106509749" onmouseenter="enter('-7891690093106509749');" onmouseout="out('-7891690093106509749');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 117 -                                    listener.onNotificationServiceSuccess(notificationList);                      </span>
<span class="-7487331138884373269" onmouseenter="enter('-7487331138884373269');" onmouseout="out('-7487331138884373269');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +                                    notificationLength = notificationList.size();                                 </span>
<span class="-3975990215663394161" onmouseenter="enter('-3975990215663394161');" onmouseout="out('-3975990215663394161');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +                                    BusProvider.getInstance().post(notificationChangeEvent());                    </span>





<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120                                  }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 121                              });                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123              }                                                                                                     </span>
<span class="-3376806801729093144" onmouseenter="enter('-3376806801729093144');" onmouseout="out('-3376806801729093144');" style=""> 124          }, 0, UPDATE_INTERVAL);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125      }                                                                                                             </span>
<span  style=""> 126                                                                                                                    </span>

<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 127      @Override                                                                                                     </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 128      public IBinder onBind(Intent intent) {                                                                        </span>
<span class="-5169668475774466923" onmouseenter="enter('-5169668475774466923');" onmouseout="out('-5169668475774466923');" style=""> 129          return new MyBinder();                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130      }                                                                                                             </span>
<span  style=""> 131                                                                                                                    </span>
<span class="-3362561660230675285" onmouseenter="enter('-3362561660230675285');" onmouseout="out('-3362561660230675285');" style=""> 132      public class MyBinder extends Binder {                                                                        </span>
<span class="-6385060235312172271" onmouseenter="enter('-6385060235312172271');" onmouseout="out('-6385060235312172271');" style=""> 133          public NotificationService getService() {                                                                 </span>
<span class="8483630614688680476" onmouseenter="enter('8483630614688680476');" onmouseout="out('8483630614688680476');" style=""> 134              return NotificationService.this;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135          }                                                                                                         </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136      }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +                                                                                                                  </span>
<span class="7312151482548986149" onmouseenter="enter('7312151482548986149');" onmouseout="out('7312151482548986149');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +    @Produce public NotificationChangeEvent notificationChangeEvent() {                                           </span>
<span class="-955128847242624796" onmouseenter="enter('-955128847242624796');" onmouseout="out('-955128847242624796');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 139 +        return new NotificationChangeEvent(notificationLength);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            