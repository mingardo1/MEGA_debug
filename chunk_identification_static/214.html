<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>214</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    214
                    <a href="213.html">prev</a>
                    <a href="215.html">next</a>
                    <a href="214_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_47fec386683d4f12911413ae693bacd60e1538d7_admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;47fec386683d4f12911413ae693bacd60e1538d7:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;47fec386683d4f12911413ae693bacd60e1538d7^1:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;47fec386683d4f12911413ae693bacd60e1538d7^2:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;a996923be2b09711d11d2a5df4df667dc9a00b19:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [b], [b], [j]], subset: [[b], [b], [bj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3  * BroadleafCommerce Open Admin Platform                                                                 </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18 package org.broadleafcommerce.openadmin.server.dao;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span  style="">  20                                                                                                          </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21 import org.apache.commons.collections4.map.LRUMap;                                                       </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22 import org.apache.commons.lang.StringUtils;                                                              </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23 import org.apache.commons.lang3.ArrayUtils;                                                              </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26 import org.broadleafcommerce.common.money.Money;                                                         </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29 import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                 </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30 import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                  </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31 import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                              </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32 import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                  </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33 import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                           </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  35 import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                   </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  36 import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                      </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  37 import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                           </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  38 import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  39 import org.broadleafcommerce.openadmin.dto.ClassTree;                                                    </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  40 import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  41 import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                   </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  42 import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                           </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  43 import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                       </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  44 import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                  </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  45 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;               </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style=""><abbr title="  46 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;">  46 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequeðŸ”µ</abbr></span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  47 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest; </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  48 import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                   </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  49 import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator; </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  50 import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                     </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  51 import org.hibernate.Criteria;                                                                           </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  52 import org.hibernate.MappingException;                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  53 import org.hibernate.Session;                                                                            </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  54 import org.hibernate.mapping.PersistentClass;                                                            </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  55 import org.hibernate.mapping.Property;                                                                   </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  56 import org.hibernate.type.ComponentType;                                                                 </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  57 import org.hibernate.type.Type;                                                                          </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  58 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  59 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  60 import org.springframework.beans.factory.annotation.Value;                                               </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  61 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  62 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  63 import org.springframework.context.annotation.Scope;                                                     </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  64 import org.springframework.core.annotation.AnnotationUtils;                                              </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  65 import org.springframework.stereotype.Component;                                                         </span>
<span  style="">  66                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  67 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  68 import java.lang.reflect.Field;                                                                          </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  69 import java.lang.reflect.Method;                                                                         </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  70 import java.lang.reflect.Modifier;                                                                       </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  71 import java.math.BigDecimal;                                                                             </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  72 import java.math.BigInteger;                                                                             </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  73 import java.security.MessageDigest;                                                                      </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  74 import java.security.NoSuchAlgorithmException;                                                           </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  75 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  76 import java.util.Arrays;                                                                                 </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  77 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  78 import java.util.Comparator;                                                                             </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  79 import java.util.Date;                                                                                   </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  80 import java.util.HashMap;                                                                                </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  81 import java.util.HashSet;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  82 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  83 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  84 import java.util.Map;                                                                                    </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  85 import java.util.Set;                                                                                    </span>
<span  style="">  86                                                                                                          </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  87 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  88 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  89 import javax.persistence.EntityManager;                                                                  </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  90 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  91 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  92 import javax.persistence.criteria.Path;                                                                  </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  93 import javax.persistence.criteria.Predicate;                                                             </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  94 import javax.persistence.criteria.Root;                                                                  </span>
<span  style="">  95                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  96 /**                                                                                                      </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  97  * @author jfischer                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  98  */                                                                                                      </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style="">  99 @Component(&quot;blDynamicEntityDao&quot;)                                                                         </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 100 @Scope(&quot;prototype&quot;)                                                                                      </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 101 public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                 </span>
<span  style=""> 102                                                                                                          </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 103     private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                        </span>
<span  style=""> 104                                                                                                          </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style=""> 105     protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);  </span>
<span  style=""> 106                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 107     /**                                                                                                  </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 108      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 108      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we hðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 109      * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 109      * of the application. This should survive evictions from METADATA_CACHE because it is for the purposðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 110      * counts in METADATA_CACHE as a result of cache eviction                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 111      */                                                                                                  </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 112     protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                  </span>
<span  style=""> 113                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 114     /*                                                                                                   </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 115      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 115      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are absðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 116      * from polymorphism                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 117      */                                                                                                  </span>
<span  style=""> 118                                                                                                          </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 119     protected EntityManager standardEntityManager;                                                       </span>
<span  style=""> 120                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 121 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="1233233002335873562" onmouseenter="enter('1233233002335873562');" onmouseout="out('1233233002335873562');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 122     @Resource(name=&quot;blMetadata&quot;)                                                                         </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 123 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124     protected EntityManager standardEntityManager;                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125                                                                                                          </span>
<span class="-1756921446444913157" onmouseenter="enter('-1756921446444913157');" onmouseout="out('-1756921446444913157');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126     protected EJB3ConfigurationDao ejb3ConfigurationDao;                                                 </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 127 =======                                                                                                  </span>
<span class="-1756921446444913157" onmouseenter="enter('-1756921446444913157');" onmouseout="out('-1756921446444913157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 128     protected EJB3ConfigurationDao ejb3ConfigurationDao;                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 129                                                                                                          </span>
<span class="-6532130265563446915" onmouseenter="enter('-6532130265563446915');" onmouseout="out('-6532130265563446915');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 130     @Resource(name = &quot;blMetadata&quot;)                                                                       </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 131 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 132     protected Metadata metadata;                                                                         </span>
<span  style=""> 133                                                                                                          </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style=""> 134     @Resource(name = &quot;blEntityConfiguration&quot;)                                                            </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 135     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style=""> 136                                                                                                          </span>
<span class="3306602206693592695" onmouseenter="enter('3306602206693592695');" onmouseout="out('3306602206693592695');" style=""> 137     @Resource(name = &quot;blFieldMetadataProviders&quot;)                                                         </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 138     protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                    </span>
<span  style=""> 139                                                                                                          </span>
<span class="6169160625934658032" onmouseenter="enter('6169160625934658032');" onmouseout="out('6169160625934658032');" style=""> 140     @Resource(name = &quot;blDefaultFieldMetadataProvider&quot;)                                                   </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 141     protected FieldMetadataProvider defaultFieldMetadataProvider;                                        </span>
<span  style=""> 142                                                                                                          </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 143     @Resource(name = &quot;blAppConfigurationMap&quot;)                                                            </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 144     protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                              </span>
<span  style=""> 145                                                                                                          </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 146     protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                            </span>
<span  style=""> 147                                                                                                          </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 148     @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                           </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 149     protected int cacheEntityMetaDataTtl;                                                                </span>
<span  style=""> 150                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 151     /**                                                                                                  </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""><abbr title=" 152      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application"> 152      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the applicatioðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 153      */                                                                                                  </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 154     @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                     </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 155     protected boolean validateMetadataCacheSizes;                                                        </span>
<span  style=""> 156                                                                                                          </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 157     protected long lastCacheFlushTime = System.currentTimeMillis();                                      </span>
<span  style=""> 158                                                                                                          </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 159     protected ApplicationContext applicationContext;                                                     </span>
<span  style=""> 160                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 162     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 163         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164     }                                                                                                    </span>
<span  style=""> 165                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166     @Override                                                                                            </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 167     public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                               </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 168         return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169     }                                                                                                    </span>
<span  style=""> 170                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 171     @Override                                                                                            </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 172     public &lt;T&gt; T persist(T entity) {                                                                     </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 173         standardEntityManager.persist(entity);                                                           </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 174         standardEntityManager.flush();                                                                   </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 175         return entity;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span  style=""> 177                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178     @Override                                                                                            </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 179     public Object find(Class&lt;?&gt; entityClass, Object key) {                                               </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 180         return standardEntityManager.find(entityClass, key);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181     }                                                                                                    </span>
<span  style=""> 182                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183     @Override                                                                                            </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 184     public &lt;T&gt; T merge(T entity) {                                                                       </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 185         T response = standardEntityManager.merge(entity);                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 186         standardEntityManager.flush();                                                                   </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 187         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188     }                                                                                                    </span>
<span  style=""> 189                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 190     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 191     public void flush() {                                                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 192         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 195     @Override                                                                                            </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 196     public void detach(Serializable entity) {                                                            </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 197         standardEntityManager.detach(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200     @Override                                                                                            </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 201     public void refresh(Serializable entity) {                                                           </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 202         standardEntityManager.refresh(entity);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203     }                                                                                                    </span>
<span  style=""> 204                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 205     @Override                                                                                            </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 206     public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                              </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 207         return (Serializable) standardEntityManager.find(entityClass, primaryKey);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 210     @Override                                                                                            </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 211     public void remove(Serializable entity) {                                                            </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 212         standardEntityManager.remove(entity);                                                            </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 213         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 217     public void clear() {                                                                                </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 218         standardEntityManager.clear();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219     }                                                                                                    </span>
<span  style=""> 220                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221     @Override                                                                                            </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 222     public PersistentClass getPersistentClass(String targetClassName) {                                  </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 223         return HibernateMappingProvider.getMapping(targetClassName);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224     }                                                                                                    </span>
<span  style=""> 225                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 226     @Override                                                                                            </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 227     public boolean useCache() {                                                                          </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 228         if (cacheEntityMetaDataTtl &lt; 0) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 229             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230         }                                                                                                </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 231         if (cacheEntityMetaDataTtl == 0) {                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 232             return false;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 233         } else {                                                                                         </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 234             if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {            </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 235                 lastCacheFlushTime = System.currentTimeMillis();                                         </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 236                 METADATA_CACHE.clear();                                                                  </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 237                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                   </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 238                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                     </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 239                 LOG.trace(&quot;Metadata cache evicted&quot;);                                                     </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 240                 return true; // cache is empty                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 241             } else {                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 242                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245     }                                                                                                    </span>
<span  style=""> 246                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247     @Override                                                                                            </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 248     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                      </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 249         return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250     }                                                                                                    </span>
<span  style=""> 251                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 252     @Override                                                                                            </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 253     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 253     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifðŸ”µ</abbr></span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 254 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 255         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 255         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolyðŸ”µ</abbr></span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 256 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 257     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                      </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 258         return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 259     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 260                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 261     @Override                                                                                            </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 262     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 262     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 263 =======                                                                                                  </span>
<span class="4836995963037146830" onmouseenter="enter('4836995963037146830');" onmouseout="out('4836995963037146830');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, getSessionFactory(),  </span>
<span class="-2127426056034239365" onmouseenter="enter('-2127426056034239365');" onmouseout="out('-2127426056034239365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 265                 includeUnqualifiedPolymorphicEntities, useCache());                                      </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 266 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span  style=""> 268                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269     @Override                                                                                            </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 270     public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                         </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 271         return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272     }                                                                                                    </span>
<span  style=""> 273                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 274     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 275     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 276         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 277         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 278             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 279         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 280             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 282         if (clazz == null) {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 283             try {                                                                                        </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 284                 clazz = Class.forName(className);                                                        </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 285             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 286                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287             }                                                                                            </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 288             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 290         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291     }                                                                                                    </span>
<span  style=""> 292                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 293     @Override                                                                                            </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 294     public Class&lt;?&gt; getCeilingImplClass(String className) {                                              </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 295         Class&lt;?&gt; clazz;                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 296         try {                                                                                            </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 297             clazz = Class.forName(className);                                                            </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 298         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 299             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300         }                                                                                                </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 301         Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);              </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 302         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 303             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 304             entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305         }                                                                                                </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 306         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 307             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 307             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308         }                                                                                                </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 309         clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                     </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 310         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311     }                                                                                                    </span>
<span  style=""> 312                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 313     @Override                                                                                            </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 314     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 314     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, StriðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""><abbr title=" 315         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());"> 315         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass())ðŸ”µ</abbr></span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 316         CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                       </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 317         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 318         Root root = criteria.from(clazz);                                                                </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 319         Path idField = root.get(this.getIdField(clazz).getName());                                       </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 320         criteria.select(idField.as(Long.class));                                                         </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 321         List&lt;Predicate&gt; restrictions = new ArrayList();                                                  </span>
<span  style=""> 322                                                                                                          </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 323         Path path = null;                                                                                </span>
<span  style=""> 324                                                                                                          </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 325         // Support property name such as &quot;defaultSku.name&quot;                                               </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 326         if (propertyName.contains(&quot;.&quot;)) {                                                                </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 327             String[] split = propertyName.split(&quot;\\.&quot;);                                                  </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 328             for (String splitResult : split) {                                                           </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 329                 if (path == null) {                                                                      </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 330                     path = root.get(splitResult);                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 331                 } else {                                                                                 </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 332                     path = path.get(splitResult);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 335         } else {                                                                                         </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 336             path = root.get(propertyName);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337         }                                                                                                </span>
<span  style=""> 338                                                                                                          </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 339         restrictions.add(builder.equal(path, value));                                                    </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 340         Serializable identifier = this.getIdentifier(instance);                                          </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 341         //when we creating the new item identifier is not exists                                         </span>
<span class="-7245607102272548957" onmouseenter="enter('-7245607102272548957');" onmouseout="out('-7245607102272548957');" style=""> 342         if (identifier != null) {                                                                        </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 343             restrictions.add(builder.notEqual(idField, identifier));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344         }                                                                                                </span>
<span  style=""> 345                                                                                                          </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 346         if (instance instanceof Status) {                                                                </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 347             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 347             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), buildeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348         }                                                                                                </span>
<span  style=""> 349                                                                                                          </span>
<span class="-7594542009457650837" onmouseenter="enter('-7594542009457650837');" onmouseout="out('-7594542009457650837');" style=""> 350         criteria.where((Predicate[]) restrictions.toArray(new Predicate[restrictions.size()]));          </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 351         return this.standardEntityManager.createQuery(criteria).getResultList();                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352     }                                                                                                    </span>
<span  style=""> 353                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 354     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 355     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 356         return dynamicDaoHelper.getIdentifier(entity);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357     }                                                                                                    </span>
<span  style=""> 358                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 359     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 360         return dynamicDaoHelper.getIdField(clazz);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361     }                                                                                                    </span>
<span  style=""> 362                                                                                                          </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 363     public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                     </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 364         return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365     }                                                                                                    </span>
<span  style=""> 366                                                                                                          </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 367     protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                      </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 368         Class&lt;?&gt; testClass;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 369         try {                                                                                            </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 370             testClass = Class.forName(tree.getFullyQualifiedClassname());                                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 371         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 372             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373         }                                                                                                </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 374         if (clazz.equals(testClass)) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 375             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376         }                                                                                                </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 377         if (clazz.getSuperclass().equals(testClass)) {                                                   </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 378             ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));    </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 379             createClassTreeFromAnnotation(clazz, myTree);                                                </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 380             tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 381         } else {                                                                                         </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 382             for (ClassTree child : tree.getChildren()) {                                                 </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 383                 addClassToTree(clazz, child);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386     }                                                                                                    </span>
<span  style=""> 387                                                                                                          </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 388     protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                     </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 389         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 389         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentatioðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 390         if (classPresentation != null) {                                                                 </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 391             String friendlyName = classPresentation.friendlyName();                                      </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 392             if (!StringUtils.isEmpty(friendlyName)) {                                                    </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 393                 myTree.setFriendlyName(friendlyName);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396     }                                                                                                    </span>
<span  style=""> 397                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 398     @Override                                                                                            </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 399     public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                       </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 400         String ceilingClass = null;                                                                      </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 401         for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                      </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 402             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 402             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 403             if (classPresentation != null) {                                                             </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 404                 String ceilingEntity = classPresentation.ceilingDisplayEntity();                         </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 405                 if (!StringUtils.isEmpty(ceilingEntity)) {                                               </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 406                     ceilingClass = ceilingEntity;                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 407                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410         }                                                                                                </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 411         if (ceilingClass != null) {                                                                      </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 412             int pos = -1;                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 413             int j = 0;                                                                                   </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 414             for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                  </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 415                 if (clazz.getName().equals(ceilingClass)) {                                              </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 416                     pos = j;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 417                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 418                 }                                                                                        </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 419                 j++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420             }                                                                                            </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 421             if (pos &gt;= 0) {                                                                              </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 422                 Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                 </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 423                 System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                 </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 424                 polymorphicClasses = temp;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 426         }                                                                                                </span>
<span  style=""> 427                                                                                                          </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 428         ClassTree classTree = null;                                                                      </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 429         if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                   </span>
<span class="-2573418927406086687" onmouseenter="enter('-2573418927406086687');" onmouseout="out('-2573418927406086687');" style=""> 430             Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length - 1];                       </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 431             classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));     </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 432             createClassTreeFromAnnotation(topClass, classTree);                                          </span>
<span class="8024680820817190256" onmouseenter="enter('8024680820817190256');" onmouseout="out('8024680820817190256');" style=""> 433             for (int j = polymorphicClasses.length - 1; j &gt;= 0; j--) {                                   </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 434                 addClassToTree(polymorphicClasses[j], classTree);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 435             }                                                                                            </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 436             classTree.finalizeStructure(1);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437         }                                                                                                </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 438         return classTree;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439     }                                                                                                    </span>
<span  style=""> 440                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 441     @Override                                                                                            </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 442     public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                    </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 443         Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                  </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 444         return getClassTree(sortedEntities);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445     }                                                                                                    </span>
<span  style=""> 446                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 447     @Override                                                                                            </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 448     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 448     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspectiveðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 449         Class&lt;?&gt;[] entityClasses;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 450         try {                                                                                            </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 451             entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 452         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 453             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454         }                                                                                                </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 455         if (!ArrayUtils.isEmpty(entityClasses)) {                                                        </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 456             return getMergedProperties(                                                                  </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 457                     entityName,                                                                          </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 458                     entityClasses,                                                                       </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 459                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 459                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 460                     persistencePerspective.getAdditionalNonPersistentProperties(),                       </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 461                     persistencePerspective.getAdditionalForeignKeys(),                                   </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 462                     MergedPropertyType.PRIMARY,                                                          </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 463                     persistencePerspective.getPopulateToOneFields(),                                     </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 464                     persistencePerspective.getIncludeFields(),                                           </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 465                     persistencePerspective.getExcludeFields(),                                           </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 466                     persistencePerspective.getConfigurationKey(),                                        </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 467                     &quot;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 468             );                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 469         } else {                                                                                         </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 470             Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                               </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 471             Class&lt;?&gt; targetClass;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 472             try {                                                                                        </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 473                 targetClass = Class.forName(entityName);                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 474             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 475                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476             }                                                                                            </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 477             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 477             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 478             for (String property : attributesMap.keySet()) {                                             </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 479                 FieldMetadata presentationAttribute = attributesMap.get(property);                       </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 480                 if (!presentationAttribute.getExcluded()) {                                              </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 481                     Field field = FieldManager.getSingleField(targetClass, property);                    </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 482                     if (!Modifier.isStatic(field.getModifiers())) {                                      </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 483                         boolean handled = false;                                                         </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 484                         for (FieldMetadataProvider provider : fieldMetadataProviders) {                  </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 485                             MetadataProviderResponse response = provider.addMetadataFromFieldType(       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 486                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 486                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 487                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                  </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""><abbr title=" 488                                             property, null, false, 0, attributesMap, presentationAttribute,"> 488                                             property, null, false, 0, attributesMap, presentationAttributðŸ”µ</abbr></span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 489                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 489                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 490                                     mergedProperties);                                                   </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 491                             if (MetadataProviderResponse.NOT_HANDLED != response) {                      </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 492                                 handled = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493                             }                                                                            </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 494                             if (MetadataProviderResponse.HANDLED_BREAK == response) {                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 495                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497                         }                                                                                </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 498                         if (!handled) {                                                                  </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 499                             //this provider is not included in the provider list on purpose - it is designed to handle basic"> 499                             //this provider is not included in the provider list on purpose - it is desigðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""><abbr title=" 500                             //AdminPresentation fields, and those fields not admin presentation annotated at all"> 500                             //AdminPresentation fields, and those fields not admin presentation annotatedðŸ”µ</abbr></span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 501                             defaultFieldMetadataProvider.addMetadataFromFieldType(                       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 502                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 502                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 503                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,        </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 504                                             null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 504                                             null, false, 0, attributesMap, presentationAttribute, ((BasicðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 505                                             field.getType(), this), mergedProperties);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 509             }                                                                                            </span>
<span  style=""> 510                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 511             return mergedProperties;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 512         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513     }                                                                                                    </span>
<span  style=""> 514                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 515     @Override                                                                                            </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 516     public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                       </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 517         Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                         </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 518         return getMergedProperties(                                                                      </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 519                 cls.getName(),                                                                           </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 520                 polymorphicTypes,                                                                        </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 521                 null,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 522                 new String[]{},                                                                          </span>
<span class="-145139174237894659" onmouseenter="enter('-145139174237894659');" onmouseout="out('-145139174237894659');" style=""> 523                 new ForeignKey[]{},                                                                      </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 524                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 525                 true,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 526                 new String[]{},                                                                          </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 527                 new String[]{},                                                                          </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 528                 null,                                                                                    </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 529                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 530         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531     }                                                                                                    </span>
<span  style=""> 532                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 533     @Override                                                                                            </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 534     public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                               </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 535             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 536             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 537             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 538             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 539             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 540             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 541             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 542             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 543             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 544             String configurationKey,                                                                     </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 545             String prefix) {                                                                             </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 546         Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 547                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 548                 entities,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 549                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 550                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 551                 additionalForeignFields,                                                                 </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 552                 mergedPropertyType,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 553                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 554                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 555                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 556                 configurationKey,                                                                        </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 557                 new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 558                 prefix,                                                                                  </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 559                 false,                                                                                   </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 560                 &quot;&quot;);                                                                                     </span>
<span  style=""> 561                                                                                                          </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 562         final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                               </span>
<span  style=""> 563                                                                                                          </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 564         for (final String key : mergedProperties.keySet()) {                                             </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""><abbr title=" 565             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {"> 565             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded(ðŸ”µ</abbr></span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 566                 removeKeys.add(key);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 567             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568         }                                                                                                </span>
<span  style=""> 569                                                                                                          </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 570         for (String removeKey : removeKeys) {                                                            </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 571             mergedProperties.remove(removeKey);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 572         }                                                                                                </span>
<span  style=""> 573                                                                                                          </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 574         // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 574         // Allow field metadata providers to contribute additional fields here. These latestage handlers ðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 575         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 575         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not glðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 576         // like properties gleaned from reflection typically are.                                        </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 577         Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                     </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 578         for (Class&lt;?&gt; targetClass : entities) {                                                          </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 579             for (String key : keys) {                                                                    </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 580                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 580                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass,ðŸ”µ</abbr></span>
<span  style=""> 581                                                                                                          </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 582                 boolean foundOneOrMoreHandlers = false;                                                  </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 583                 for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {             </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 584                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 584                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 585                     if (MetadataProviderResponse.NOT_HANDLED != response) {                              </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 586                         foundOneOrMoreHandlers = true;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 587                     }                                                                                    </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 588                     if (MetadataProviderResponse.HANDLED_BREAK == response) {                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 589                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 590                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 591                 }                                                                                        </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 592                 if (!foundOneOrMoreHandlers) {                                                           </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 593                     defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 595             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 596         }                                                                                                </span>
<span  style=""> 597                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 598         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 599     }                                                                                                    </span>
<span  style=""> 600                                                                                                          </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 601     protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                 </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 602             final String ceilingEntityFullyQualifiedClassname,                                           </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 603             final Class&lt;?&gt;[] entities,                                                                   </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 604             final ForeignKey foreignField,                                                               </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 605             final String[] additionalNonPersistentProperties,                                            </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 606             final ForeignKey[] additionalForeignFields,                                                  </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 607             final MergedPropertyType mergedPropertyType,                                                 </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 608             final Boolean populateManyToOneFields,                                                       </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 609             final String[] includeFields,                                                                </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 610             final String[] excludeFields,                                                                </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 611             final String configurationKey,                                                               </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 612             final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                          </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 613             final String prefix,                                                                         </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 614             final Boolean isParentExcluded,                                                              </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 615             final String parentPrefix) {                                                                 </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 616         PropertyBuilder propertyBuilder = new PropertyBuilder() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 617             @Override                                                                                    </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 618             public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {               </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 619                 Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                           </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 620                 Boolean classAnnotatedPopulateManyToOneFields;                                           </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 621                 if (overridePopulateManyToOne != null) {                                                 </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 622                     classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 623                 } else {                                                                                 </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 624                     classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 625                 }                                                                                        </span>
<span  style=""> 626                                                                                                          </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 627                 buildPropertiesFromPolymorphicEntities(                                                  </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 628                         entities,                                                                        </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 629                         foreignField,                                                                    </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 630                         additionalNonPersistentProperties,                                               </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 631                         additionalForeignFields,                                                         </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 632                         mergedPropertyType,                                                              </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 633                         classAnnotatedPopulateManyToOneFields,                                           </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 634                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 635                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 636                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 637                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 638                         mergedProperties,                                                                </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 639                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 640                         prefix,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 641                         isParentExcluded,                                                                </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 642                         parentPrefix);                                                                   </span>
<span  style=""> 643                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 644                 return mergedProperties;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 645             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 646         };                                                                                               </span>
<span  style=""> 647                                                                                                          </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 648         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 648         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilderðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""><abbr title=" 649         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);"> 649         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedPropertiesðŸ”µ</abbr></span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 650         applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);              </span>
<span  style=""> 651                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 652         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 653     }                                                                                                    </span>
<span  style=""> 654                                                                                                          </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 655     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 655     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFieldðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 656         for (String key : mergedProperties.keySet()) {                                                   </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 657             boolean isForeign = false;                                                                   </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 658             if (foreignField != null) {                                                                  </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 659                 isForeign = foreignField.getManyToField().equals(key);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 660             }                                                                                            </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 661             if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                            </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 662                 for (ForeignKey foreignKey : additionalForeignFields) {                                  </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 663                     isForeign = foreignKey.getManyToField().equals(key);                                 </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 664                     if (isForeign) {                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 665                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 666                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 668             }                                                                                            </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 669             if (isForeign) {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 670                 FieldMetadata metadata = mergedProperties.get(key);                                      </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 671                 metadata.setExcluded(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 672             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 673         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674     }                                                                                                    </span>
<span  style=""> 675                                                                                                          </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 676     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 676     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefixðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 677         //check includes                                                                                 </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 678         if (!ArrayUtils.isEmpty(includeFields)) {                                                        </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 679             for (String include : includeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 680                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 681                     String testKey = prefix + key;                                                       </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 682                     if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {               </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 683                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 684                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 684                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did ðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 685                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 686                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 687                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 688                         if (!isParentExcluded) {                                                         </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 689                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 689                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field apðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 690                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 691                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 694             }                                                                                            </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 695         } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                 </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 696             //check excludes                                                                             </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 697             for (String exclude : excludeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 698                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 699                     String testKey = prefix + key;                                                       </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 700                     if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                  </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 701                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 702                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 702                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appeðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 703                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 704                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 705                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 706                         if (!isParentExcluded) {                                                         </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 707                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 707                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field diðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 708                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 710                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 711                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 712             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 713         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 714     }                                                                                                    </span>
<span  style=""> 715                                                                                                          </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 716     protected String pad(String s, int length, char pad) {                                               </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 717         StringBuilder buffer = new StringBuilder(s);                                                     </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 718         while (buffer.length() &lt; length) {                                                               </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 719             buffer.insert(0, pad);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 720         }                                                                                                </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 721         return buffer.toString();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722     }                                                                                                    </span>
<span  style=""> 723                                                                                                          </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 724     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 724     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, StðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 725         StringBuilder sb = new StringBuilder(150);                                                       </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 726         sb.append(ceilingEntityFullyQualifiedClassname);                                                 </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 727         sb.append(clazz.hashCode());                                                                     </span>
<span class="897254265268459193" onmouseenter="enter('897254265268459193');" onmouseout="out('897254265268459193');" style=""> 728         sb.append(foreignField == null ? &quot;&quot; : foreignField.toString());                                  </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 729         sb.append(configurationKey);                                                                     </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 730         sb.append(isParentExcluded);                                                                     </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 731         if (additionalNonPersistentProperties != null) {                                                 </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 732             for (String prop : additionalNonPersistentProperties) {                                      </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 733                 sb.append(prop);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 734             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735         }                                                                                                </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 736         if (additionalForeignFields != null) {                                                           </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 737             for (ForeignKey key : additionalForeignFields) {                                             </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 738                 sb.append(key.toString());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 739             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740         }                                                                                                </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 741         sb.append(mergedPropertyType);                                                                   </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 742         sb.append(populateManyToOneFields);                                                              </span>
<span  style=""> 743                                                                                                          </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 744         String digest;                                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 745         try {                                                                                            </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 746             MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                         </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 747             byte[] messageDigest = md.digest(sb.toString().getBytes());                                  </span>
<span class="-8545273925870020991" onmouseenter="enter('-8545273925870020991');" onmouseout="out('-8545273925870020991');" style=""> 748             BigInteger number = new BigInteger(1, messageDigest);                                        </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 749             digest = number.toString(16);                                                                </span>
<span class="-7636130466757008337" onmouseenter="enter('-7636130466757008337');" onmouseout="out('-7636130466757008337');" style=""> 750         } catch (NoSuchAlgorithmException e) {                                                           </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 751             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 752         }                                                                                                </span>
<span  style=""> 753                                                                                                          </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 754         String key = pad(digest, 32, &#x27;0&#x27;);                                                               </span>
<span  style=""> 755                                                                                                          </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 756         if (LOG.isDebugEnabled()) {                                                                      </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 757             LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 758         }                                                                                                </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 759         return key;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 760     }                                                                                                    </span>
<span  style=""> 761                                                                                                          </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 762     protected void buildPropertiesFromPolymorphicEntities(                                               </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 763             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 764             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 765             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 766             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 767             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 768             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 769             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 770             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 771             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 772             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 773             Map&lt;String, FieldMetadata&gt; mergedProperties,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 774             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 775             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 776             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 777             String parentPrefix) {                                                                       </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 778         for (Class&lt;?&gt; clazz : entities) {                                                                </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 779             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 779             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNðŸ”µ</abbr></span>
<span  style=""> 780                                                                                                          </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 781             Map&lt;String, FieldMetadata&gt; cacheData = null;                                                 </span>
<span class="-4272128368465670476" onmouseenter="enter('-4272128368465670476');" onmouseout="out('-4272128368465670476');" style=""> 782             synchronized (DynamicDaoHelperImpl.LOCK_OBJECT) {                                            </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 783                 if (useCache()) {                                                                        </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 784                     cacheData = METADATA_CACHE.get(cacheKey);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 785                 }                                                                                        </span>
<span  style=""> 786                                                                                                          </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 787                 if (cacheData == null) {                                                                 </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 788                     Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                      </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 789                             clazz,                                                                       </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 790                             foreignField,                                                                </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 791                             additionalNonPersistentProperties,                                           </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 792                             additionalForeignFields,                                                     </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 793                             mergedPropertyType,                                                          </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 794                             populateManyToOneFields,                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 795                             includeFields,                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 796                             excludeFields,                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 797                             configurationKey,                                                            </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 798                             ceilingEntityFullyQualifiedClassname,                                        </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 799                             parentClasses,                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 800                             prefix,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 801                             isParentExcluded,                                                            </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 802                             parentPrefix);                                                               </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""><abbr title=" 803                     //first check all the properties currently in there to see if my entity inherits from them"> 803                     //first check all the properties currently in there to see if my entity inherits fromðŸ”µ</abbr></span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 804                     for (Class&lt;?&gt; clazz2 : entities) {                                                   </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 805                         if (!clazz2.getName().equals(clazz.getName())) {                                 </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 806                             for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {            </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 807                                 FieldMetadata metadata = entry.getValue();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 808                                 try {                                                                    </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""><abbr title=" 809                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {"> 809                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(cðŸ”µ</abbr></span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 810                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 810                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(),ðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 811                                         metadata.setAvailableToTypes(both);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 812                                     }                                                                    </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 813                                 } catch (ClassNotFoundException e) {                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 814                                     throw new RuntimeException(e);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 815                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 816                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 817                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 818                     }                                                                                    </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 819                     METADATA_CACHE.put(cacheKey, props);                                                 </span>
<span  style=""> 820                                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 821                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 822                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 822                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKeyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 823                     }                                                                                    </span>
<span  style=""> 824                                                                                                          </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 825                     if (validateMetadataCacheSizes) {                                                    </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 826                         Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                       </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 827                         Integer currentSize = props.size();                                              </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 828                         if (previousSize == null) {                                                      </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 829                             METADATA_CACHE_SIZES.put(cacheKey, currentSize);                             </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 830                         } else if (!currentSize.equals(previousSize)) {                                  </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 831                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 831                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache ðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 832                             LOG.error(msg);                                                              </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 833                             throw new RuntimeException(msg);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 834                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 835                     }                                                                                    </span>
<span  style=""> 836                                                                                                          </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 837                     cacheData = props;                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 838                 } else {                                                                                 </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 839                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 840                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 840                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 841                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 842                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 843             }                                                                                            </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 844             //clone the metadata before passing to the system                                            </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 845             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 846             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 847                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 848             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 849             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 850         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 851     }                                                                                                    </span>
<span  style=""> 852                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 853     @Override                                                                                            </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 854     public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                  </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 855         Field[] allFields = new Field[]{};                                                               </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 856         boolean eof = false;                                                                             </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 857         Class&lt;?&gt; currentClass = targetClass;                                                             </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 858         while (!eof) {                                                                                   </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 859             Field[] fields = currentClass.getDeclaredFields();                                           </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 860             allFields = ArrayUtils.addAll(allFields, fields);                                            </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 861             if (currentClass.getSuperclass() != null) {                                                  </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 862                 currentClass = currentClass.getSuperclass();                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 863             } else {                                                                                     </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 864                 eof = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 865             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 866         }                                                                                                </span>
<span  style=""> 867                                                                                                          </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 868         return allFields;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 869     }                                                                                                    </span>
<span  style=""> 870                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 871     @Override                                                                                            </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 872     public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 873             String propertyName,                                                                         </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 874             String friendlyPropertyName,                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 875             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 876             Class&lt;?&gt; parentClass,                                                                        </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 877             MergedPropertyType mergedPropertyType                                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 878     ) {                                                                                                  </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 879         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 880         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 881         presentationAttribute.setFriendlyName(friendlyPropertyName);                                     </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 882         if (String.class.isAssignableFrom(targetClass)) {                                                </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 883             presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                       </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 884             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 885             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 885             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 886         } else if (Boolean.class.isAssignableFrom(targetClass)) {                                        </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 887             presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 888             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 889             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 889             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 890         } else if (Date.class.isAssignableFrom(targetClass)) {                                           </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 891             presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                         </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 892             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 893             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 893             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 894         } else if (Money.class.isAssignableFrom(targetClass)) {                                          </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 895             presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                        </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 896             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 897             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 897             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 898         } else if (                                                                                      </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 899                 Byte.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 900                         Integer.class.isAssignableFrom(targetClass) ||                                   </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 901                         Long.class.isAssignableFrom(targetClass) ||                                      </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 902                         Short.class.isAssignableFrom(targetClass)                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 903                 ) {                                                                                      </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 904             presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 905             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 906             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 906             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 907         } else if (                                                                                      </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 908                 Double.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 909                         BigDecimal.class.isAssignableFrom(targetClass)                                   </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 910                 ) {                                                                                      </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 911             presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 912             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 913             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 913             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 914         }                                                                                                </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 915         ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                  </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 916         ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                  </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 917         ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                               </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 918         ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                 </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 919         ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                   </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 920         ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                               </span>
<span  style=""> 921                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 922         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 923     }                                                                                                    </span>
<span  style=""> 924                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 925     @Override                                                                                            </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 926     public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                     </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 927         return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 928     }                                                                                                    </span>
<span  style=""> 929                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 930     @Override                                                                                            </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 931     public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                         </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 932         return dynamicDaoHelper.getPropertyNames(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 933     }                                                                                                    </span>
<span  style=""> 934                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 935     @Override                                                                                            </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 936     public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                           </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 937         return dynamicDaoHelper.getPropertyTypes(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 938     }                                                                                                    </span>
<span  style=""> 939                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 940     @Override                                                                                            </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 941     public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {     </span>
<span class="8704790465852273120" onmouseenter="enter('8704790465852273120');" onmouseout="out('8704790465852273120');" style=""> 942         Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length - 1]);           </span>
<span  style=""> 943                                                                                                          </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""><abbr title=" 944         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);"> 944         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entitiesðŸ”µ</abbr></span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 945         metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);       </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 946         metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);    </span>
<span  style=""> 947                                                                                                          </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 948         return mergedTabAndGroupMetadata;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 949     }                                                                                                    </span>
<span  style=""> 950                                                                                                          </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 951     public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                   </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 952         Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                          </span>
<span  style=""> 953                                                                                                          </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 954         if (ceilingEntity != null) {                                                                     </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 955             entities = ArrayUtils.add(entities, ceilingEntity);                                          </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 956             while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 957                 entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                      </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 958                 ceilingEntity = ceilingEntity.getSuperclass();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 959             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 960         }                                                                                                </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 961         return entities;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 962     }                                                                                                    </span>
<span  style=""> 963                                                                                                          </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 964     protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                    </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 965             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 966             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 967             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 968             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 969             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 970             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 971             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 972             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 973             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 974             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 975             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 976             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 977             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 978             String parentPrefix) {                                                                       </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title=" 979         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 979         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null,ðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style=""> 980         if (isParentExcluded) {                                                                          </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style=""> 981             for (String key : presentationAttributes.keySet()) {                                         </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""><abbr title=" 982                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);"> 982                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;ðŸ”µ</abbr></span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style=""> 983                 presentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 984             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 985         }                                                                                                </span>
<span  style=""> 986                                                                                                          </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style=""> 987         Map idMetadata = getIdMetadata(targetClass);                                                     </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 988         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style=""> 989         String idProperty = (String) idMetadata.get(&quot;name&quot;);                                             </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style=""> 990         List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                      </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style=""> 991         propertyNames.add(idProperty);                                                                   </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style=""> 992         Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                     </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style=""> 993         List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                        </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style=""> 994         propertyTypes.add(idType);                                                                       </span>
<span  style=""> 995                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style=""> 996         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style=""> 997         Iterator testIter = persistentClass.getPropertyIterator();                                       </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style=""> 998         List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style=""> 999                                                                                                          </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style="">1000         //check the properties for problems                                                              </span>
<span class="7653822827986770755" onmouseenter="enter('7653822827986770755');" onmouseout="out('7653822827986770755');" style="">1001         while (testIter.hasNext()) {                                                                     </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style="">1002             Property property = (Property) testIter.next();                                              </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style="">1003             if (property.getName().contains(&quot;.&quot;)) {                                                      </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title="1004                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);">1004                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period characðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1005             }                                                                                            </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style="">1006             propertyList.add(property);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1007         }                                                                                                </span>
<span  style="">1008                                                                                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1009         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1010                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1011                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1012                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1013                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1014                 mergedPropertyType,                                                                      </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="">1015                 presentationAttributes,                                                                  </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="">1016                 propertyList,                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1017                 fields,                                                                                  </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="">1018                 propertyNames,                                                                           </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="">1019                 propertyTypes,                                                                           </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1020                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1021                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1022                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1023                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1024                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1025                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1026                 parentClasses,                                                                           </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1027                 prefix,                                                                                  </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1028                 isParentExcluded,                                                                        </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1029                 false,                                                                                   </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1030                 parentPrefix                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1031         );                                                                                               </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1032         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1033         presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                           </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1034         presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                  </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1035         if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                    </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1036             Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                     </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1037             for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {           </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1038                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1038                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersisteðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1039                     String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;          </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1040                     //get final property if this is a dot delimited property                             </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1041                     int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                  </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1042                     if (finalDotPos &gt;= 0) {                                                              </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1043                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1043                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1044                     }                                                                                    </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style=""><abbr title="1045                     //check all the polymorphic types on this target class to see if the end property exists">1045                     //check all the polymorphic types on this target class to see if the end property exiðŸ”µ</abbr></span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1046                     Field testField = null;                                                              </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1047                     Method testMethod = null;                                                            </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1048                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1049                         try {                                                                            </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1050                             testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);             </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1051                             if (testMethod != null) {                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1052                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1053                             }                                                                            </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1054                         } catch (NoSuchMethodException e) {                                              </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1055                             //do nothing - method does not exist                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1056                         }                                                                                </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1057                         testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);</span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1058                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1059                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1060                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1061                     }                                                                                    </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1062                     //if the property exists, add it to the metadata for this class                      </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1063                     if (testField != null || testMethod != null) {                                       </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1064                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1064                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, addðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1065                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1066                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1067             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1068         }                                                                                                </span>
<span  style="">1069                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1070         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1071     }                                                                                                    </span>
<span  style="">1072                                                                                                          </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1073     protected void buildProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1074             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1075             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1076             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1077             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1078             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1079             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1080             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1081             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1082             List&lt;String&gt; propertyNames,                                                                  </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1083             List&lt;Type&gt; propertyTypes,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1084             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1085             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1086             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1087             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1088             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1089             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1090             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1091             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1092             Boolean isParentExcluded,                                                                    </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1093             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1094             String parentPrefix) {                                                                       </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1095         int j = 0;                                                                                       </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1096         Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1097             @Override                                                                                    </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1098             public int compare(String o1, String o2) {                                                   </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1099                 //check for property name equality and for map field properties                          </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1100                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1100                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(ðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1101                     return 0;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1102                 }                                                                                        </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1103                 return o1.compareTo(o2);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1104             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1105         };                                                                                               </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1106         List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());             </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1107         Collections.sort(presentationKeyList);                                                           </span>
<span  style="">1108                                                                                                          </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1109         for (String propertyName : propertyNames) {                                                      </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1110             final Type type = propertyTypes.get(j);                                                      </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1111             boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);      </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1112             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1112             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFieldsðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1113             j++;                                                                                         </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1114             Field myField = getFieldManager().getField(targetClass, propertyName);                       </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1115             if (myField == null) {                                                                       </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1116                 //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1116                 //try to get the field with the prefix - needed for advanced collections that appear in @ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1117                 myField = getFieldManager().getField(targetClass, prefix + propertyName);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1118             }                                                                                            </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1119             if (                                                                                         </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1120                     !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                     </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1121                             isPropertyForeignKey ||                                                      </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1122                             additionalForeignKeyIndexPosition &gt;= 0 ||                                    </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style=""><abbr title="1123                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0">1123                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparatoðŸ”µ</abbr></span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1124                     ) {                                                                                  </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1125                 if (myField != null) {                                                                   </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1126                     boolean handled = false;                                                             </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1127                     for (FieldMetadataProvider provider : fieldMetadataProviders) {                      </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1128                         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);  </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1129                         if (presentationAttribute != null) {                                             </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1130                             setExcludedBasedOnShowIfProperty(presentationAttribute);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1131                         }                                                                                </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1132                         MetadataProviderResponse response = provider.addMetadataFromFieldType(           </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1133                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1133                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, aðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1134                                         mergedPropertyType, componentProperties, idProperty, prefix,     </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1135                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1135                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1136                                         presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1136                                         presentationAttributes, presentationAttribute, null, type.getRetuðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1137                         if (MetadataProviderResponse.NOT_HANDLED != response) {                          </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1138                             handled = true;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1139                         }                                                                                </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1140                         if (MetadataProviderResponse.HANDLED_BREAK == response) {                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1141                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1142                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1143                     }                                                                                    </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1144                     if (!handled) {                                                                      </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1145                         buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,  </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style=""><abbr title="1146                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,">1146                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttribðŸ”µ</abbr></span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style=""><abbr title="1147                                 componentProperties, fields, idProperty, populateManyToOneFields, includeFields,">1147                                 componentProperties, fields, idProperty, populateManyToOneFields, includeðŸ”µ</abbr></span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1148                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1148                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, paðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1149                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1149                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1150                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1151                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1152             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1153         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1154     }                                                                                                    </span>
<span  style="">1155                                                                                                          </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1156     public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                          </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1157         setExcludedBasedOnShowIfProperty(presentationAttribute);                                         </span>
<span  style="">1158                                                                                                          </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1159         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1159         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presenðŸ”µ</abbr></span>
<span  style="">1160                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1161     }                                                                                                    </span>
<span  style="">1162                                                                                                          </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1163     protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                       </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1164         if (fieldMetadata != null                                                                        </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1165                 &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                             </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1166                 &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                 </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1167                 &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {    </span>
<span  style="">1168                                                                                                          </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1169             //do not include this in the display if it returns false.                                    </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1170             fieldMetadata.setExcluded(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1171         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1172     }                                                                                                    </span>
<span  style="">1173                                                                                                          </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1174     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1174     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyNðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1175                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1175                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponðŸ”µ</abbr></span>
<span  style="">1176                                                                                                          </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1177         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1177         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1178                 ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                </span>
<span  style="">1179                                                                                                          </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1180         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1180         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isCompoðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1181                 parentPrefix, propertyName);                                                             </span>
<span  style="">1182                                                                                                          </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1183         return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1184     }                                                                                                    </span>
<span  style="">1185                                                                                                          </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1186     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1186     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String ðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1187         return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1188     }                                                                                                    </span>
<span  style="">1189                                                                                                          </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1190     protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String  </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1191             propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean     </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1192                                                             isComponentPrefix) {                         </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1193         Boolean response = false;                                                                        </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1194         //don&#x27;t want to shun a self-referencing property in an @Embeddable                               </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1195         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1195         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).lðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1196         if (shouldTest) {                                                                                </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1197             Field testField = getFieldManager().getField(targetClass, propertyName);                     </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1198             if (testField == null) {                                                                     </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1199                 Class&lt;?&gt;[] entities;                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1200                 try {                                                                                    </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1201                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1201                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualiðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1202                 } catch (ClassNotFoundException e) {                                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1203                     throw new RuntimeException(e);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1204                 }                                                                                        </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1205                 for (Class&lt;?&gt; clazz : entities) {                                                        </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1206                     testField = getFieldManager().getField(clazz, propertyName);                         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1207                     if (testField != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1208                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1209                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1210                 }                                                                                        </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1211                 String testProperty = prefix + propertyName;                                             </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1212                 if (testField == null) {                                                                 </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1213                     testField = getFieldManager().getField(targetClass, testProperty);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1214                 }                                                                                        </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1215                 if (testField == null) {                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1216                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1217                         testField = getFieldManager().getField(clazz, testProperty);                     </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1218                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1219                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1220                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1221                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1222                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1223             }                                                                                            </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1224             response = determineExclusionForField(parentClasses, targetClass, testField);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1225         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1226         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1227     }                                                                                                    </span>
<span  style="">1228                                                                                                          </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1229     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1229     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, FielðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1230         Boolean response = false;                                                                        </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1231         if (testField != null) {                                                                         </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1232             Class&lt;?&gt; testType = testField.getType();                                                     </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1233             for (Class&lt;?&gt; parentClass : parentClasses) {                                                 </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1234                 if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {  </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1235                     response = true;                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1236                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1237                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1238             }                                                                                            </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style=""><abbr title="1239             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {">1239             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetCðŸ”µ</abbr></span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1240                 response = true;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1241             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1242         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1243         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1244     }                                                                                                    </span>
<span  style="">1245                                                                                                          </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1246     protected void buildBasicProperty(                                                                   </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1247             Field field,                                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1248             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1249             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1250             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1251             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1252             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1253             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1254             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1255             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1256             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1257             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1258             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1259             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1260             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1261             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1262             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1263             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1264             Boolean isParentExcluded,                                                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1265             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1266             Type type,                                                                                   </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1267             boolean propertyForeignKey,                                                                  </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1268             int additionalForeignKeyIndexPosition,                                                       </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1269             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1270             String parentPrefix) {                                                                       </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1271         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                  </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1272         Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);         </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1273         Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,  </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1274                 ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                  </span>
<span  style="">1275                                                                                                          </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1276         SupportedFieldType explicitType = null;                                                          </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1277         if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {      </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1278             explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1279         }                                                                                                </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1280         Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="">1281         checkProp:                                                                                       </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="">1282         {                                                                                                </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1283             if (type.isComponentType() &amp;&amp; includeField) {                                                </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1284                 buildComponentProperties(                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1285                         targetClass,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1286                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1287                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1288                         additionalNonPersistentProperties,                                               </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1289                         mergedPropertyType,                                                              </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1290                         fields,                                                                          </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1291                         idProperty,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1292                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1293                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1294                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1295                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1296                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1297                         propertyName,                                                                    </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1298                         type,                                                                            </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1299                         returnedClass,                                                                   </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1300                         parentClasses,                                                                   </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1301                         amIExcluded,                                                                     </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1302                         prefix,                                                                          </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1303                         parentPrefix);                                                                   </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1304                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1305             }                                                                                            </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1306             /*                                                                                           </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1307              * Currently we do not support ManyToOne fields whose class type is the same                 </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1308              * as the target type, since this forms an infinite loop and will cause a stack overflow.    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1309              */                                                                                          </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1310             if (                                                                                         </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1311                     type.isEntityType() &amp;&amp;                                                               </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1312                             !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                              </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1313                             populateManyToOneFields &amp;&amp;                                                   </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1314                             includeField                                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1315                     ) {                                                                                  </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1316                 buildEntityProperties(                                                                   </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1317                         fields,                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1318                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1319                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1320                         additionalNonPersistentProperties,                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1321                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1322                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1323                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1324                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1325                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1326                         propertyName,                                                                    </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1327                         returnedClass,                                                                   </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1328                         targetClass,                                                                     </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1329                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1330                         prefix,                                                                          </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1331                         amIExcluded,                                                                     </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1332                         parentPrefix                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1333                 );                                                                                       </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1334                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1335             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1336         }                                                                                                </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1337         //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key</span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1338         if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {              </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1339             defaultFieldMetadataProvider.addMetadataFromFieldType(                                       </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style=""><abbr title="1340                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,">1340                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeiðŸ”µ</abbr></span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style=""><abbr title="1341                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,">1341                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, tyðŸ”µ</abbr></span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style=""><abbr title="1342                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,">1342                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributesðŸ”µ</abbr></span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1343                             presentationAttribute, explicitType, returnedClass, this), fields);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1344         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1345     }                                                                                                    </span>
<span  style="">1346                                                                                                          </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1347     protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) { </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1348         boolean isPropertyForeignKey = false;                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1349         if (foreignField != null) {                                                                      </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1350             isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1351         }                                                                                                </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1352         return isPropertyForeignKey;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1353     }                                                                                                    </span>
<span  style="">1354                                                                                                          </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1355     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1355     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, StriðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1356         int additionalForeignKeyIndexPosition = -1;                                                      </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1357         if (additionalForeignFields != null) {                                                           </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1358             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1358             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1359                 @Override                                                                                </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1360                 public int compare(ForeignKey o1, ForeignKey o2) {                                       </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1361                     return o1.getManyToField().compareTo(o2.getManyToField());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1362                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1363             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1364         }                                                                                                </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1365         return additionalForeignKeyIndexPosition;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1366     }                                                                                                    </span>
<span  style="">1367                                                                                                          </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1368     protected void buildEntityProperties(                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1369             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1370             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1371             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1372             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1373             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1374             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1375             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1376             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1377             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1378             String propertyName,                                                                         </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1379             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1380             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1381             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1382             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1383             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1384             String parentPrefix) {                                                                       </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1385         Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);            </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1386         List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                          </span>
<span  style="">1387                                                                                                          </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1388         for (Class&lt;?&gt; parentClass : parentClasses) {                                                     </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1389             clonedParentClasses.add(parentClass);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1390         }                                                                                                </span>
<span  style="">1391                                                                                                          </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1392         clonedParentClasses.add(targetClass);                                                            </span>
<span  style="">1393                                                                                                          </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1394         Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                           </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1395                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1396                 polymorphicEntities,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1397                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1398                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1399                 additionalForeignFields,                                                                 </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1400                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1401                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1402                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1403                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1404                 configurationKey,                                                                        </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1405                 clonedParentClasses,                                                                     </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1406                 prefix + propertyName + &#x27;.&#x27;,                                                             </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1407                 isParentExcluded,                                                                        </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1408                 parentPrefix);                                                                           </span>
<span  style="">1409                                                                                                          </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1410         final String targetClassName = targetClass.getName();                                            </span>
<span  style="">1411                                                                                                          </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1412         for (FieldMetadata newMetadata : newFields.values()) {                                           </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1413             newMetadata.setInheritedFromType(targetClassName);                                           </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1414             newMetadata.setAvailableToTypes(new String[]{targetClassName});                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1415         }                                                                                                </span>
<span  style="">1416                                                                                                          </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1417         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                    </span>
<span  style="">1418                                                                                                          </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1419         for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                         </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1420             final FieldMetadata fieldMetadata = newField.getValue();                                     </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1421             final String key = newField.getKey();                                                        </span>
<span  style="">1422                                                                                                          </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1423             convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                </span>
<span  style="">1424                                                                                                          </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1425             if (fieldMetadata instanceof BasicFieldMetadata) {                                           </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1426                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1426                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1427                     Class&lt;?&gt; validatorImpl = null;                                                       </span>
<span  style="">1428                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1429                     try {                                                                                </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1430                         validatorImpl = Class.forName(validationConfigurations.getKey());                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1431                     } catch (ClassNotFoundException e) {                                                 </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1432                         Object bean = applicationContext.getBean(validationConfigurations.getKey());     </span>
<span  style="">1433                                                                                                          </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1434                         if (bean != null) {                                                              </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1435                             validatorImpl = bean.getClass();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1436                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1437                     }                                                                                    </span>
<span  style="">1438                                                                                                          </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1439                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1439                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validaðŸ”µ</abbr></span>
<span class="5300576794627672643" onmouseenter="enter('5300576794627672643');" onmouseout="out('5300576794627672643');" style="">1440                         for (Map&lt;String, String&gt; configs : validationConfigurations.getValue()) {        </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1441                             for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1442                                 final String value = config.getValue();                                  </span>
<span  style="">1443                                                                                                          </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1444                                 if (newFields.containsKey(value)) {                                      </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1445                                     config.setValue(propertyName + &quot;.&quot; + value);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1446                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1447                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1448                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1449                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1450                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1451             }                                                                                            </span>
<span  style="">1452                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1453             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1454                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1455             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1456         }                                                                                                </span>
<span  style="">1457                                                                                                          </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1458         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1459     }                                                                                                    </span>
<span  style="">1460                                                                                                          </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1461     protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                        </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1462         return fieldMetadata instanceof BasicCollectionMetadata                                          </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1463                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1463                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1464                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1464                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1465     }                                                                                                    </span>
<span  style="">1466                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1467     /*                                                                                                   </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1468      * There may be multiple pathways to this foreign key which may have come from a cached source.      </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1469      * Since ForeignKey contains an originating field concept that is occurrence specific, we need       </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1470      * to make sure it is set appropriately here.                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1471      *                                                                                                   </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1472      * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                         </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1473      * owningSite.embeddableMultitenantSite.adminUsers.                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1474      */                                                                                                  </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1475     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1475     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1476         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1476         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePersðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1477         foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1478     }                                                                                                    </span>
<span  style="">1479                                                                                                          </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1480     protected void buildComponentProperties(                                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1481             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1482             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1483             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1484             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1485             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1486             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1487             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1488             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1489             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1490             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1491             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1492             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1493             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1494             Type type,                                                                                   </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1495             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1496             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1497             Boolean isParentExcluded,                                                                    </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1498             String prefix,                                                                               </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1499             String parentPrefix) {                                                                       </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1500         String[] componentProperties = ((ComponentType) type).getPropertyNames();                        </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1501         List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                        </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1502         Type[] componentTypes = ((ComponentType) type).getSubtypes();                                    </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1503         List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                               </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1504         String tempPrefix = &quot;&quot;;                                                                          </span>
<span  style="">1505                                                                                                          </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1506         int pos = prefix.indexOf(&quot;.&quot;);                                                                   </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1507         final int prefixLength = prefix.length();                                                        </span>
<span  style="">1508                                                                                                          </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1509         if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                         </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1510             //only use part of the prefix if it&#x27;s more than one layer deep                               </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1511             tempPrefix = prefix.substring(pos + 1, prefixLength);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1512         }                                                                                                </span>
<span  style="">1513                                                                                                          </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1514         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1514         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClðŸ”µ</abbr></span>
<span  style="">1515                                                                                                          </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1516         if (isParentExcluded) {                                                                          </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1517             for (String key : componentPresentationAttributes.keySet()) {                                </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style=""><abbr title="1518                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);">1518                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excludedðŸ”µ</abbr></span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1519                 componentPresentationAttributes.get(key).setExcluded(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1520             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1521         }                                                                                                </span>
<span  style="">1522                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1523         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1524         Property property;                                                                               </span>
<span  style="">1525                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1526         try {                                                                                            </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1527             property = persistentClass.getProperty(propertyName);                                        </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1528         } catch (MappingException e) {                                                                   </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1529             property = persistentClass.getProperty(prefix + propertyName);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1530         }                                                                                                </span>
<span  style="">1531                                                                                                          </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1532         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1532         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1533         List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                        </span>
<span  style="">1534                                                                                                          </span>
<span class="-2749908704638528550" onmouseenter="enter('-2749908704638528550');" onmouseout="out('-2749908704638528550');" style="">1535         while (componentPropertyIterator.hasNext()) {                                                    </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1536             componentPropertyList.add((Property) componentPropertyIterator.next());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1537         }                                                                                                </span>
<span  style="">1538                                                                                                          </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1539         Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1540         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1541                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1542                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1543                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1544                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1545                 mergedPropertyType,                                                                      </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1546                 componentPresentationAttributes,                                                         </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1547                 componentPropertyList,                                                                   </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1548                 newFields,                                                                               </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1549                 componentPropertyNames,                                                                  </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1550                 componentPropertyTypes,                                                                  </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1551                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1552                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1553                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1554                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1555                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1556                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1557                 parentClasses,                                                                           </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1558                 propertyName + &quot;.&quot;,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1559                 isParentExcluded,                                                                        </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1560                 true,                                                                                    </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1561                 parentPrefix + prefix                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1562         );                                                                                               </span>
<span  style="">1563                                                                                                          </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1564         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                    </span>
<span  style="">1565                                                                                                          </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1566         for (String key : newFields.keySet()) {                                                          </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1567             final FieldMetadata fieldMetadata = newFields.get(key);                                      </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1568             convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                </span>
<span  style="">1569                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1570             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1571                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1572             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1573         }                                                                                                </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1574         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1575     }                                                                                                    </span>
<span  style="">1576                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1577     @Override                                                                                            </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1578     public EntityManager getStandardEntityManager() {                                                    </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1579         return standardEntityManager;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1580     }                                                                                                    </span>
<span  style="">1581                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1582     @Override                                                                                            </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1583     public void setStandardEntityManager(EntityManager entityManager) {                                  </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1584         this.standardEntityManager = entityManager;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1585     }                                                                                                    </span>
<span  style="">1586                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1587     @Override                                                                                            </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1588     public FieldManager getFieldManager() {                                                              </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">1589 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-7708462308818149765" onmouseenter="enter('-7708462308818149765');" onmouseout="out('-7708462308818149765');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">1590         return new FieldManager(entityConfiguration, getStandardEntityManager());                        </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">1591 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1592     @Override                                                                                            </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1593     public EntityManager getStandardEntityManager() {                                                    </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1594         return standardEntityManager;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1595     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1596                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1597     @Override                                                                                            </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1598     public void setStandardEntityManager(EntityManager entityManager) {                                  </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1599         this.standardEntityManager = entityManager;                                                      </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1600         fieldManager = new FieldManager(entityConfiguration, entityManager);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1601     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1602                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1603     @Override                                                                                            </span>
<span class="-1836320114515389477" onmouseenter="enter('-1836320114515389477');" onmouseout="out('-1836320114515389477');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1604     public EJB3ConfigurationDao getEjb3ConfigurationDao() {                                              </span>
<span class="-8000483836684887897" onmouseenter="enter('-8000483836684887897');" onmouseout="out('-8000483836684887897');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1605         return ejb3ConfigurationDao;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1606     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1607                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1608     @Override                                                                                            </span>
<span class="9196879559471119195" onmouseenter="enter('9196879559471119195');" onmouseout="out('9196879559471119195');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1609     public void setEjb3ConfigurationDao(EJB3ConfigurationDao ejb3ConfigurationDao) {                     </span>
<span class="-5891628767648400673" onmouseenter="enter('-5891628767648400673');" onmouseout="out('-5891628767648400673');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1610         this.ejb3ConfigurationDao = ejb3ConfigurationDao;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1611     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1612                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1613     @Override                                                                                            </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1614     public FieldManager getFieldManager() {                                                              </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1615         if (fieldManager == null) {                                                                      </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1616             //keep in mind that getStandardEntityManager() can return null, this is in general OK,       </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1617             // we re-init fieldManager in setStandardEntityManager method                                </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1618             fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1619         } else {                                                                                         </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1620             fieldManager.clearMiddleFields();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1621         }                                                                                                </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1622         return fieldManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1623     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1624                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1625     @Override                                                                                            </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1626     public EntityConfiguration getEntityConfiguration() {                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">1627 =======                                                                                                  </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1628         return this.getFieldManager(true);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1629     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1630                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1631     @Override                                                                                            </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1632     public FieldManager getFieldManager(boolean cleanFieldManager) {                                     </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1633         if (fieldManager == null) {                                                                      </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1634             //keep in mind that getStandardEntityManager() can return null, this is in general OK,       </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1635             // we re-init fieldManager in setStandardEntityManager method                                </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1636             fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());            </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1637         } else if (cleanFieldManager){                                                                   </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1638             fieldManager.clearMiddleFields();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1639         }                                                                                                </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1640         return fieldManager;                                                                             </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">1641 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1642     }                                                                                                    </span>
<span  style="">1643                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1644     @Override                                                                                            </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1645     public EntityConfiguration getEntityConfiguration() {                                                </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1646         return entityConfiguration;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1647     }                                                                                                    </span>
<span  style="">1648                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1649     @Override                                                                                            </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1650     public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                        </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1651         this.entityConfiguration = entityConfiguration;                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1652     }                                                                                                    </span>
<span  style="">1653                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1654     @Override                                                                                            </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1655     public Metadata getMetadata() {                                                                      </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1656         return metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1657     }                                                                                                    </span>
<span  style="">1658                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1659     @Override                                                                                            </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1660     public void setMetadata(Metadata metadata) {                                                         </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1661         this.metadata = metadata;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1662     }                                                                                                    </span>
<span  style="">1663                                                                                                          </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1664     public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                     </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1665         return fieldMetadataProviders;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1666     }                                                                                                    </span>
<span  style="">1667                                                                                                          </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1668     public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {          </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1669         this.fieldMetadataProviders = fieldMetadataProviders;                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1670     }                                                                                                    </span>
<span  style="">1671                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1672     @Override                                                                                            </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1673     public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                     </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1674         return defaultFieldMetadataProvider;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1675     }                                                                                                    </span>
<span  style="">1676                                                                                                          </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1677     public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {    </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1678         this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1679     }                                                                                                    </span>
<span  style="">1680                                                                                                          </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1681     protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                   </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1682         return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1683     }                                                                                                    </span>
<span  style="">1684                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1685     @Override                                                                                            </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1686     public DynamicDaoHelper getDynamicDaoHelper() {                                                      </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1687         return dynamicDaoHelper;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1688     }                                                                                                    </span>
<span  style="">1689                                                                                                          </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1690     public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                 </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1691         this.dynamicDaoHelper = dynamicDaoHelper;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1692     }                                                                                                    </span>
<span  style="">1693                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1694 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3  * BroadleafCommerce Open Admin Platform                                                                 </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18 package org.broadleafcommerce.openadmin.server.dao;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span  style="">  20                                                                                                          </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21 import org.apache.commons.collections4.map.LRUMap;                                                       </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22 import org.apache.commons.lang.StringUtils;                                                              </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23 import org.apache.commons.lang3.ArrayUtils;                                                              </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26 import org.broadleafcommerce.common.money.Money;                                                         </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29 import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                 </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30 import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                  </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31 import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                              </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32 import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                  </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33 import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                           </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  35 import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                   </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  36 import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                      </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  37 import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                           </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  38 import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  39 import org.broadleafcommerce.openadmin.dto.ClassTree;                                                    </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  40 import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  41 import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                   </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  42 import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                           </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  43 import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                       </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  44 import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                  </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  45 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;               </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style=""><abbr title="  46 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;">  46 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequeðŸ”µ</abbr></span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  47 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest; </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  48 import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                   </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  49 import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator; </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  50 import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                     </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  51 import org.hibernate.Criteria;                                                                           </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  52 import org.hibernate.MappingException;                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  53 import org.hibernate.Session;                                                                            </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  54 import org.hibernate.mapping.PersistentClass;                                                            </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  55 import org.hibernate.mapping.Property;                                                                   </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  56 import org.hibernate.type.ComponentType;                                                                 </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  57 import org.hibernate.type.Type;                                                                          </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  58 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  59 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  60 import org.springframework.beans.factory.annotation.Value;                                               </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  61 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  62 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  63 import org.springframework.context.annotation.Scope;                                                     </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  64 import org.springframework.core.annotation.AnnotationUtils;                                              </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  65 import org.springframework.stereotype.Component;                                                         </span>
<span  style="">  66                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  67 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  68 import java.lang.reflect.Field;                                                                          </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  69 import java.lang.reflect.Method;                                                                         </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  70 import java.lang.reflect.Modifier;                                                                       </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  71 import java.math.BigDecimal;                                                                             </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  72 import java.math.BigInteger;                                                                             </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  73 import java.security.MessageDigest;                                                                      </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  74 import java.security.NoSuchAlgorithmException;                                                           </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  75 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  76 import java.util.Arrays;                                                                                 </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  77 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  78 import java.util.Comparator;                                                                             </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  79 import java.util.Date;                                                                                   </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  80 import java.util.HashMap;                                                                                </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  81 import java.util.HashSet;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  82 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  83 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  84 import java.util.Map;                                                                                    </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  85 import java.util.Set;                                                                                    </span>
<span  style="">  86                                                                                                          </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  87 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  88 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  89 import javax.persistence.EntityManager;                                                                  </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  90 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  91 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  92 import javax.persistence.criteria.Path;                                                                  </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  93 import javax.persistence.criteria.Predicate;                                                             </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  94 import javax.persistence.criteria.Root;                                                                  </span>
<span  style="">  95                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  96 /**                                                                                                      </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  97  * @author jfischer                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  98  */                                                                                                      </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style="">  99 @Component(&quot;blDynamicEntityDao&quot;)                                                                         </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 100 @Scope(&quot;prototype&quot;)                                                                                      </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 101 public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                 </span>
<span  style=""> 102                                                                                                          </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 103     private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                        </span>
<span  style=""> 104                                                                                                          </span>
<span class="6868700167988641076" onmouseenter="enter('6868700167988641076');" onmouseout="out('6868700167988641076');" style=""> 105     protected static final Map&lt;String,Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);   </span>
<span  style=""> 106                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 107     /**                                                                                                  </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 108      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 108      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we hðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 109      * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 109      * of the application. This should survive evictions from METADATA_CACHE because it is for the purposðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 110      * counts in METADATA_CACHE as a result of cache eviction                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 111      */                                                                                                  </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 112     protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                  </span>
<span  style=""> 113                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 114     /*                                                                                                   </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 115      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 115      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are absðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 116      * from polymorphism                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 117      */                                                                                                  </span>
<span  style=""> 118                                                                                                          </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 119     protected EntityManager standardEntityManager;                                                       </span>
<span  style=""> 120                                                                                                          </span>
<span class="1233233002335873562" onmouseenter="enter('1233233002335873562');" onmouseout="out('1233233002335873562');" style=""> 121     @Resource(name=&quot;blMetadata&quot;)                                                                         </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 122     protected Metadata metadata;                                                                         </span>
<span  style=""> 123                                                                                                          </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style=""> 124     @Resource(name=&quot;blEntityConfiguration&quot;)                                                              </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 125     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style=""> 126                                                                                                          </span>
<span class="-7705979847401793504" onmouseenter="enter('-7705979847401793504');" onmouseout="out('-7705979847401793504');" style=""> 127     @Resource(name=&quot;blFieldMetadataProviders&quot;)                                                           </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 128     protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                    </span>
<span  style=""> 129                                                                                                          </span>
<span class="-6161973747859802400" onmouseenter="enter('-6161973747859802400');" onmouseout="out('-6161973747859802400');" style=""> 130     @Resource(name= &quot;blDefaultFieldMetadataProvider&quot;)                                                    </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 131     protected FieldMetadataProvider defaultFieldMetadataProvider;                                        </span>
<span  style=""> 132                                                                                                          </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 133     @Resource(name = &quot;blAppConfigurationMap&quot;)                                                            </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 134     protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                              </span>
<span  style=""> 135                                                                                                          </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 136     protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                            </span>
<span  style=""> 137                                                                                                          </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 138     @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                           </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 139     protected int cacheEntityMetaDataTtl;                                                                </span>
<span  style=""> 140                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 141     /**                                                                                                  </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""><abbr title=" 142      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application"> 142      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the applicatioðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 143      */                                                                                                  </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 144     @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                     </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 145     protected boolean validateMetadataCacheSizes;                                                        </span>
<span  style=""> 146                                                                                                          </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 147     protected long lastCacheFlushTime = System.currentTimeMillis();                                      </span>
<span  style=""> 148                                                                                                          </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 149     protected ApplicationContext applicationContext;                                                     </span>
<span  style=""> 150                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 151     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 152     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 153         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154     }                                                                                                    </span>
<span  style=""> 155                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 156     @Override                                                                                            </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 157     public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                               </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 158         return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159     }                                                                                                    </span>
<span  style=""> 160                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161     @Override                                                                                            </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 162     public &lt;T&gt; T persist(T entity) {                                                                     </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 163         standardEntityManager.persist(entity);                                                           </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 164         standardEntityManager.flush();                                                                   </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 165         return entity;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166     }                                                                                                    </span>
<span  style=""> 167                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 168     @Override                                                                                            </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 169     public Object find(Class&lt;?&gt; entityClass, Object key) {                                               </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 170         return standardEntityManager.find(entityClass, key);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span  style=""> 172                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 173     @Override                                                                                            </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 174     public &lt;T&gt; T merge(T entity) {                                                                       </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 175         T response = standardEntityManager.merge(entity);                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 176         standardEntityManager.flush();                                                                   </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 177         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178     }                                                                                                    </span>
<span  style=""> 179                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 180     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 181     public void flush() {                                                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 182         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183     }                                                                                                    </span>
<span  style=""> 184                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 185     @Override                                                                                            </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 186     public void detach(Serializable entity) {                                                            </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 187         standardEntityManager.detach(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188     }                                                                                                    </span>
<span  style=""> 189                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 190     @Override                                                                                            </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 191     public void refresh(Serializable entity) {                                                           </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 192         standardEntityManager.refresh(entity);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 195     @Override                                                                                            </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 196     public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                              </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 197         return (Serializable) standardEntityManager.find(entityClass, primaryKey);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200     @Override                                                                                            </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 201     public void remove(Serializable entity) {                                                            </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 202         standardEntityManager.remove(entity);                                                            </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 203         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204     }                                                                                                    </span>
<span  style=""> 205                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 207     public void clear() {                                                                                </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 208         standardEntityManager.clear();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209     }                                                                                                    </span>
<span  style=""> 210                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 211     @Override                                                                                            </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 212     public PersistentClass getPersistentClass(String targetClassName) {                                  </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 213         return HibernateMappingProvider.getMapping(targetClassName);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216     @Override                                                                                            </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 217     public boolean useCache() {                                                                          </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 218         if (cacheEntityMetaDataTtl &lt; 0) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 219             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220         }                                                                                                </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 221         if (cacheEntityMetaDataTtl == 0) {                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 222             return false;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 223         } else {                                                                                         </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 224             if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {            </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 225                 lastCacheFlushTime = System.currentTimeMillis();                                         </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 226                 METADATA_CACHE.clear();                                                                  </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 227                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                   </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 228                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                     </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 229                 LOG.trace(&quot;Metadata cache evicted&quot;);                                                     </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 230                 return true; // cache is empty                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 231             } else {                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 232                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span  style=""> 236                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237     @Override                                                                                            </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 238     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                      </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 239         return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span  style=""> 241                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242     @Override                                                                                            </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 243     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 243     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifðŸ”µ</abbr></span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style=""><abbr title=" 244         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 244         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245     }                                                                                                    </span>
<span  style=""> 246                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247     @Override                                                                                            </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 248     public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                         </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 249         return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250     }                                                                                                    </span>
<span  style=""> 251                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 252     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 253     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 254         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 255         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 256             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 257         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 258             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 260         if (clazz == null) {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 261             try {                                                                                        </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 262                 clazz = Class.forName(className);                                                        </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 263             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 264                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265             }                                                                                            </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 266             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 268         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269     }                                                                                                    </span>
<span  style=""> 270                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271     @Override                                                                                            </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 272     public Class&lt;?&gt; getCeilingImplClass(String className) {                                              </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 273         Class&lt;?&gt; clazz;                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 274         try {                                                                                            </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 275             clazz = Class.forName(className);                                                            </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 276         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 277             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278         }                                                                                                </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 279         Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);              </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 280         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 281             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 282             entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283         }                                                                                                </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 284         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 285             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 285             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286         }                                                                                                </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 287         clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                     </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 288         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289     }                                                                                                    </span>
<span  style=""> 290                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 291     @Override                                                                                            </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 292     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 292     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, StriðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""><abbr title=" 293         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());"> 293         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass())ðŸ”µ</abbr></span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 294         CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                       </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 295         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 296         Root root = criteria.from(clazz);                                                                </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 297         Path idField = root.get(this.getIdField(clazz).getName());                                       </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 298         criteria.select(idField.as(Long.class));                                                         </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 299         List&lt;Predicate&gt; restrictions = new ArrayList();                                                  </span>
<span  style=""> 300                                                                                                          </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 301         Path path = null;                                                                                </span>
<span  style=""> 302                                                                                                          </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 303         // Support property name such as &quot;defaultSku.name&quot;                                               </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 304         if (propertyName.contains(&quot;.&quot;)) {                                                                </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 305             String[] split = propertyName.split(&quot;\\.&quot;);                                                  </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 306             for (String splitResult : split) {                                                           </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 307                 if (path == null) {                                                                      </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 308                     path = root.get(splitResult);                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 309                 } else {                                                                                 </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 310                     path = path.get(splitResult);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 313         } else {                                                                                         </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 314             path = root.get(propertyName);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315         }                                                                                                </span>
<span  style=""> 316                                                                                                          </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 317         restrictions.add(builder.equal(path, value));                                                    </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 318         Serializable identifier = this.getIdentifier(instance);                                          </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 319         //when we creating the new item identifier is not exists                                         </span>
<span class="4435895120511968207" onmouseenter="enter('4435895120511968207');" onmouseout="out('4435895120511968207');" style=""> 320         if(identifier != null) {                                                                         </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 321             restrictions.add(builder.notEqual(idField, identifier));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322         }                                                                                                </span>
<span  style=""> 323                                                                                                          </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 324         if (instance instanceof Status) {                                                                </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 325             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 325             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), buildeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326         }                                                                                                </span>
<span  style=""> 327                                                                                                          </span>
<span class="-7594542009457650837" onmouseenter="enter('-7594542009457650837');" onmouseout="out('-7594542009457650837');" style=""> 328         criteria.where((Predicate[]) restrictions.toArray(new Predicate[restrictions.size()]));          </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 329         return this.standardEntityManager.createQuery(criteria).getResultList();                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330     }                                                                                                    </span>
<span  style=""> 331                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 332     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 333     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 334         return dynamicDaoHelper.getIdentifier(entity);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335     }                                                                                                    </span>
<span  style=""> 336                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 337     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 338         return dynamicDaoHelper.getIdField(clazz);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339     }                                                                                                    </span>
<span  style=""> 340                                                                                                          </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 341     public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                     </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 342         return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343     }                                                                                                    </span>
<span  style=""> 344                                                                                                          </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 345     protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                      </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 346         Class&lt;?&gt; testClass;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 347         try {                                                                                            </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 348             testClass = Class.forName(tree.getFullyQualifiedClassname());                                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 349         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 350             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351         }                                                                                                </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 352         if (clazz.equals(testClass)) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 353             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354         }                                                                                                </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 355         if (clazz.getSuperclass().equals(testClass)) {                                                   </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 356             ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));    </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 357             createClassTreeFromAnnotation(clazz, myTree);                                                </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 358             tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 359         } else {                                                                                         </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 360             for (ClassTree child : tree.getChildren()) {                                                 </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 361                 addClassToTree(clazz, child);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364     }                                                                                                    </span>
<span  style=""> 365                                                                                                          </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 366     protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                     </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 367         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 367         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentatioðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 368         if (classPresentation != null) {                                                                 </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 369             String friendlyName = classPresentation.friendlyName();                                      </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 370             if (!StringUtils.isEmpty(friendlyName)) {                                                    </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 371                 myTree.setFriendlyName(friendlyName);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374     }                                                                                                    </span>
<span  style=""> 375                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 376     @Override                                                                                            </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 377     public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                       </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 378         String ceilingClass = null;                                                                      </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 379         for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                      </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 380             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 380             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 381             if (classPresentation != null) {                                                             </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 382                String ceilingEntity = classPresentation.ceilingDisplayEntity();                          </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 383                 if (!StringUtils.isEmpty(ceilingEntity)) {                                               </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 384                     ceilingClass = ceilingEntity;                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 385                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 387             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388         }                                                                                                </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 389         if (ceilingClass != null) {                                                                      </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 390             int pos = -1;                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 391             int j = 0;                                                                                   </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 392             for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                  </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 393                 if (clazz.getName().equals(ceilingClass)) {                                              </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 394                     pos = j;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 395                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396                 }                                                                                        </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 397                 j++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398             }                                                                                            </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 399             if (pos &gt;= 0) {                                                                              </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 400                 Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                 </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 401                 System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                 </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 402                 polymorphicClasses = temp;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404         }                                                                                                </span>
<span  style=""> 405                                                                                                          </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 406         ClassTree classTree = null;                                                                      </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 407         if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                   </span>
<span class="8356012055912964334" onmouseenter="enter('8356012055912964334');" onmouseout="out('8356012055912964334');" style=""> 408             Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length-1];                         </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 409             classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));     </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 410             createClassTreeFromAnnotation(topClass, classTree);                                          </span>
<span class="2167523095919624833" onmouseenter="enter('2167523095919624833');" onmouseout="out('2167523095919624833');" style=""> 411             for (int j=polymorphicClasses.length-1; j &gt;= 0; j--) {                                       </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 412                 addClassToTree(polymorphicClasses[j], classTree);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413             }                                                                                            </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 414             classTree.finalizeStructure(1);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415         }                                                                                                </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 416         return classTree;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 417     }                                                                                                    </span>
<span  style=""> 418                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 419     @Override                                                                                            </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 420     public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                    </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 421         Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                  </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 422         return getClassTree(sortedEntities);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423     }                                                                                                    </span>
<span  style=""> 424                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 425     @Override                                                                                            </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 426     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 426     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspectiveðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 427         Class&lt;?&gt;[] entityClasses;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 428         try {                                                                                            </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 429             entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 430         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 431             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432         }                                                                                                </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 433         if (!ArrayUtils.isEmpty(entityClasses)) {                                                        </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 434             return getMergedProperties(                                                                  </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 435                 entityName,                                                                              </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 436                 entityClasses,                                                                           </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 437                 (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 437                 (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 438                 persistencePerspective.getAdditionalNonPersistentProperties(),                           </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 439                 persistencePerspective.getAdditionalForeignKeys(),                                       </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 440                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 441                 persistencePerspective.getPopulateToOneFields(),                                         </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 442                 persistencePerspective.getIncludeFields(),                                               </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 443                 persistencePerspective.getExcludeFields(),                                               </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 444                 persistencePerspective.getConfigurationKey(),                                            </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 445                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 446             );                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 447         } else {                                                                                         </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 448             Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                               </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 449             Class&lt;?&gt; targetClass;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 450             try {                                                                                        </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 451                 targetClass = Class.forName(entityName);                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 452             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 453                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454             }                                                                                            </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 455             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 455             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 456             for (String property : attributesMap.keySet()) {                                             </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 457                 FieldMetadata presentationAttribute = attributesMap.get(property);                       </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 458                 if (!presentationAttribute.getExcluded()) {                                              </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 459                     Field field = FieldManager.getSingleField(targetClass, property);                    </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 460                     if (!Modifier.isStatic(field.getModifiers())) {                                      </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 461                         boolean handled = false;                                                         </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 462                         for (FieldMetadataProvider provider : fieldMetadataProviders) {                  </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 463                             MetadataProviderResponse response = provider.addMetadataFromFieldType(       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 464                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 464                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 465                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                  </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""><abbr title=" 466                                             property, null, false, 0, attributesMap, presentationAttribute,"> 466                                             property, null, false, 0, attributesMap, presentationAttributðŸ”µ</abbr></span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 467                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 467                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 468                                             mergedProperties);                                           </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 469                             if (MetadataProviderResponse.NOT_HANDLED != response) {                      </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 470                                 handled = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471                             }                                                                            </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 472                             if (MetadataProviderResponse.HANDLED_BREAK == response) {                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 473                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 474                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 475                         }                                                                                </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 476                         if (!handled) {                                                                  </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 477                             //this provider is not included in the provider list on purpose - it is designed to handle basic"> 477                             //this provider is not included in the provider list on purpose - it is desigðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""><abbr title=" 478                             //AdminPresentation fields, and those fields not admin presentation annotated at all"> 478                             //AdminPresentation fields, and those fields not admin presentation annotatedðŸ”µ</abbr></span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 479                             defaultFieldMetadataProvider.addMetadataFromFieldType(                       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 480                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 480                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 481                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,        </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 482                                             null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 482                                             null, false, 0, attributesMap, presentationAttribute, ((BasicðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 483                                             field.getType(), this), mergedProperties);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 485                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 486                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487             }                                                                                            </span>
<span  style=""> 488                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 489             return mergedProperties;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491     }                                                                                                    </span>
<span  style=""> 492                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 493     @Override                                                                                            </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 494     public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                       </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 495         Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                         </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 496         return getMergedProperties(                                                                      </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 497                 cls.getName(),                                                                           </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 498                 polymorphicTypes,                                                                        </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 499                 null,                                                                                    </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 500                 new String[] {},                                                                         </span>
<span class="-4966763439087897722" onmouseenter="enter('-4966763439087897722');" onmouseout="out('-4966763439087897722');" style=""> 501                 new ForeignKey[] {},                                                                     </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 502                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 503                 true,                                                                                    </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 504                 new String[] {},                                                                         </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 505                 new String[] {},                                                                         </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 506                 null,                                                                                    </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 507                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 508                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 509     }                                                                                                    </span>
<span  style=""> 510                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 511     @Override                                                                                            </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 512     public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                               </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 513             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 514             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 515             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 516             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 517             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 518             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 519             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 520             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 521             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 522             String configurationKey,                                                                     </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 523             String prefix) {                                                                             </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 524         Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 525                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 526                 entities,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 527                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 528                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 529                 additionalForeignFields,                                                                 </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 530                 mergedPropertyType,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 531                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 532                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 533                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 534                 configurationKey,                                                                        </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 535                 new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 536                 prefix,                                                                                  </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 537                 false,                                                                                   </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 538                 &quot;&quot;);                                                                                     </span>
<span  style=""> 539                                                                                                          </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 540         final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                               </span>
<span  style=""> 541                                                                                                          </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 542         for (final String key : mergedProperties.keySet()) {                                             </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""><abbr title=" 543             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {"> 543             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded(ðŸ”µ</abbr></span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 544                 removeKeys.add(key);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 545             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 546         }                                                                                                </span>
<span  style=""> 547                                                                                                          </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 548         for (String removeKey : removeKeys) {                                                            </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 549             mergedProperties.remove(removeKey);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 550         }                                                                                                </span>
<span  style=""> 551                                                                                                          </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 552         // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 552         // Allow field metadata providers to contribute additional fields here. These latestage handlers ðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 553         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 553         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not glðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 554         // like properties gleaned from reflection typically are.                                        </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 555         Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                     </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 556         for (Class&lt;?&gt; targetClass : entities) {                                                          </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 557             for (String key : keys) {                                                                    </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 558                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 558                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass,ðŸ”µ</abbr></span>
<span  style=""> 559                                                                                                          </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 560                 boolean foundOneOrMoreHandlers = false;                                                  </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 561                 for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {             </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 562                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 562                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 563                     if (MetadataProviderResponse.NOT_HANDLED != response) {                              </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 564                         foundOneOrMoreHandlers = true;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 565                     }                                                                                    </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 566                     if (MetadataProviderResponse.HANDLED_BREAK == response) {                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 567                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 569                 }                                                                                        </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 570                 if (!foundOneOrMoreHandlers) {                                                           </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 571                     defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 572                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 573             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574         }                                                                                                </span>
<span  style=""> 575                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 576         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577     }                                                                                                    </span>
<span  style=""> 578                                                                                                          </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 579     protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                 </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 580             final String ceilingEntityFullyQualifiedClassname,                                           </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 581             final Class&lt;?&gt;[] entities,                                                                   </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 582             final ForeignKey foreignField,                                                               </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 583             final String[] additionalNonPersistentProperties,                                            </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 584             final ForeignKey[] additionalForeignFields,                                                  </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 585             final MergedPropertyType mergedPropertyType,                                                 </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 586             final Boolean populateManyToOneFields,                                                       </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 587             final String[] includeFields,                                                                </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 588             final String[] excludeFields,                                                                </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 589             final String configurationKey,                                                               </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 590             final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                          </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 591             final String prefix,                                                                         </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 592             final Boolean isParentExcluded,                                                              </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 593             final String parentPrefix) {                                                                 </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 594         PropertyBuilder propertyBuilder = new PropertyBuilder() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 595             @Override                                                                                    </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 596             public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {               </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 597                 Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                           </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 598                 Boolean classAnnotatedPopulateManyToOneFields;                                           </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 599                 if (overridePopulateManyToOne != null) {                                                 </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 600                     classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 601                 } else {                                                                                 </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 602                     classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 603                 }                                                                                        </span>
<span  style=""> 604                                                                                                          </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 605                 buildPropertiesFromPolymorphicEntities(                                                  </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 606                     entities,                                                                            </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 607                     foreignField,                                                                        </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 608                     additionalNonPersistentProperties,                                                   </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 609                     additionalForeignFields,                                                             </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 610                     mergedPropertyType,                                                                  </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 611                     classAnnotatedPopulateManyToOneFields,                                               </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 612                     includeFields,                                                                       </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 613                     excludeFields,                                                                       </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 614                     configurationKey,                                                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 615                     ceilingEntityFullyQualifiedClassname,                                                </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 616                     mergedProperties,                                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 617                     parentClasses,                                                                       </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 618                     prefix,                                                                              </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 619                     isParentExcluded,                                                                    </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 620                     parentPrefix);                                                                       </span>
<span  style=""> 621                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 622                 return mergedProperties;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 623             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 624         };                                                                                               </span>
<span  style=""> 625                                                                                                          </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 626         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 626         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilderðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""><abbr title=" 627         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);"> 627         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedPropertiesðŸ”µ</abbr></span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 628         applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);              </span>
<span  style=""> 629                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 630         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 631     }                                                                                                    </span>
<span  style=""> 632                                                                                                          </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 633     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 633     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFieldðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 634         for (String key : mergedProperties.keySet()) {                                                   </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 635             boolean isForeign = false;                                                                   </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 636             if (foreignField != null) {                                                                  </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 637                 isForeign = foreignField.getManyToField().equals(key);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638             }                                                                                            </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 639             if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                            </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 640                 for (ForeignKey foreignKey : additionalForeignFields) {                                  </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 641                     isForeign = foreignKey.getManyToField().equals(key);                                 </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 642                     if (isForeign) {                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 643                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 644                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 645                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 646             }                                                                                            </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 647             if (isForeign) {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 648                 FieldMetadata metadata = mergedProperties.get(key);                                      </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 649                 metadata.setExcluded(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 651         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 652     }                                                                                                    </span>
<span  style=""> 653                                                                                                          </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 654     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 654     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefixðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 655         //check includes                                                                                 </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 656         if (!ArrayUtils.isEmpty(includeFields)) {                                                        </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 657             for (String include : includeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 658                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 659                     String testKey = prefix + key;                                                       </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 660                     if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {               </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 661                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 662                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 662                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did ðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 663                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 664                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 665                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 666                         if (!isParentExcluded) {                                                         </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 667                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 667                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field apðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 668                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 670                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 671                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 672             }                                                                                            </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 673         } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                 </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 674             //check excludes                                                                             </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 675             for (String exclude : excludeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 676                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 677                     String testKey = prefix + key;                                                       </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 678                     if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                  </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 679                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 680                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 680                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appeðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 681                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 682                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 683                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 684                         if (!isParentExcluded) {                                                         </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 685                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 685                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field diðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 686                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 687                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 688                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 690             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 691         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692     }                                                                                                    </span>
<span  style=""> 693                                                                                                          </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 694     protected String pad(String s, int length, char pad) {                                               </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 695         StringBuilder buffer = new StringBuilder(s);                                                     </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 696         while (buffer.length() &lt; length) {                                                               </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 697             buffer.insert(0, pad);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698         }                                                                                                </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 699         return buffer.toString();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700     }                                                                                                    </span>
<span  style=""> 701                                                                                                          </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 702     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 702     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, StðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 703         StringBuilder sb = new StringBuilder(150);                                                       </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 704         sb.append(ceilingEntityFullyQualifiedClassname);                                                 </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 705         sb.append(clazz.hashCode());                                                                     </span>
<span class="5254205421809409926" onmouseenter="enter('5254205421809409926');" onmouseout="out('5254205421809409926');" style=""> 706         sb.append(foreignField==null?&quot;&quot;:foreignField.toString());                                        </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 707         sb.append(configurationKey);                                                                     </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 708         sb.append(isParentExcluded);                                                                     </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 709         if (additionalNonPersistentProperties != null) {                                                 </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 710             for (String prop : additionalNonPersistentProperties) {                                      </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 711                 sb.append(prop);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 712             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 713         }                                                                                                </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 714         if (additionalForeignFields != null) {                                                           </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 715             for (ForeignKey key : additionalForeignFields) {                                             </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 716                 sb.append(key.toString());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718         }                                                                                                </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 719         sb.append(mergedPropertyType);                                                                   </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 720         sb.append(populateManyToOneFields);                                                              </span>
<span  style=""> 721                                                                                                          </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 722         String digest;                                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 723         try {                                                                                            </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 724             MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                         </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 725             byte[] messageDigest = md.digest(sb.toString().getBytes());                                  </span>
<span class="-5380974963518813864" onmouseenter="enter('-5380974963518813864');" onmouseout="out('-5380974963518813864');" style=""> 726             BigInteger number = new BigInteger(1,messageDigest);                                         </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 727             digest = number.toString(16);                                                                </span>
<span class="-4215171220869553942" onmouseenter="enter('-4215171220869553942');" onmouseout="out('-4215171220869553942');" style=""> 728         } catch(NoSuchAlgorithmException e) {                                                            </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 729             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 730         }                                                                                                </span>
<span  style=""> 731                                                                                                          </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 732         String key = pad(digest, 32, &#x27;0&#x27;);                                                               </span>
<span  style=""> 733                                                                                                          </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 734         if (LOG.isDebugEnabled()) {                                                                      </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 735             LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 736         }                                                                                                </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 737         return key;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 738     }                                                                                                    </span>
<span  style=""> 739                                                                                                          </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 740     protected void buildPropertiesFromPolymorphicEntities(                                               </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 741             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 742             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 743             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 744             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 745             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 746             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 747             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 748             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 749             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 750             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 751             Map&lt;String, FieldMetadata&gt; mergedProperties,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 752             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 753             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 754             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 755             String parentPrefix) {                                                                       </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 756         for (Class&lt;?&gt; clazz : entities) {                                                                </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 757             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 757             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNðŸ”µ</abbr></span>
<span  style=""> 758                                                                                                          </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 759             Map&lt;String, FieldMetadata&gt; cacheData = null;                                                 </span>
<span class="-4478904008704459763" onmouseenter="enter('-4478904008704459763');" onmouseout="out('-4478904008704459763');" style=""> 760             synchronized(DynamicDaoHelperImpl.LOCK_OBJECT) {                                             </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 761                 if (useCache()) {                                                                        </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 762                     cacheData = METADATA_CACHE.get(cacheKey);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 763                 }                                                                                        </span>
<span  style=""> 764                                                                                                          </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 765                 if (cacheData == null) {                                                                 </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 766                     Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                      </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 767                         clazz,                                                                           </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 768                         foreignField,                                                                    </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 769                         additionalNonPersistentProperties,                                               </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 770                         additionalForeignFields,                                                         </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 771                         mergedPropertyType,                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 772                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 773                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 774                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 775                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 776                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 777                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 778                         prefix,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 779                         isParentExcluded,                                                                </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 780                         parentPrefix);                                                                   </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""><abbr title=" 781                     //first check all the properties currently in there to see if my entity inherits from them"> 781                     //first check all the properties currently in there to see if my entity inherits fromðŸ”µ</abbr></span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 782                     for (Class&lt;?&gt; clazz2 : entities) {                                                   </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 783                         if (!clazz2.getName().equals(clazz.getName())) {                                 </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 784                             for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {            </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 785                                 FieldMetadata metadata = entry.getValue();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 786                                 try {                                                                    </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""><abbr title=" 787                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {"> 787                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(cðŸ”µ</abbr></span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 788                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 788                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(),ðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 789                                         metadata.setAvailableToTypes(both);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 790                                     }                                                                    </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 791                                 } catch (ClassNotFoundException e) {                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 792                                     throw new RuntimeException(e);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 793                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 794                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 795                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 796                     }                                                                                    </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 797                     METADATA_CACHE.put(cacheKey, props);                                                 </span>
<span  style=""> 798                                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 799                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 800                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 800                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKeyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 801                     }                                                                                    </span>
<span  style=""> 802                                                                                                          </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 803                     if (validateMetadataCacheSizes) {                                                    </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 804                         Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                       </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 805                         Integer currentSize = props.size();                                              </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 806                         if (previousSize == null) {                                                      </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 807                             METADATA_CACHE_SIZES.put(cacheKey, currentSize);                             </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 808                         } else if (!currentSize.equals(previousSize)) {                                  </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 809                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 809                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache ðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 810                             LOG.error(msg);                                                              </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 811                             throw new RuntimeException(msg);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 812                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 813                     }                                                                                    </span>
<span  style=""> 814                                                                                                          </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 815                     cacheData = props;                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 816                 } else {                                                                                 </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 817                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 818                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 818                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 819                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 820                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 821             }                                                                                            </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 822             //clone the metadata before passing to the system                                            </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 823             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 824             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 825                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 826             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 827             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 828         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 829     }                                                                                                    </span>
<span  style=""> 830                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 831     @Override                                                                                            </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 832     public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                  </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 833         Field[] allFields = new Field[]{};                                                               </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 834         boolean eof = false;                                                                             </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 835         Class&lt;?&gt; currentClass = targetClass;                                                             </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 836         while (!eof) {                                                                                   </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 837             Field[] fields = currentClass.getDeclaredFields();                                           </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 838             allFields = ArrayUtils.addAll(allFields, fields);                                            </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 839             if (currentClass.getSuperclass() != null) {                                                  </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 840                 currentClass = currentClass.getSuperclass();                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 841             } else {                                                                                     </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 842                 eof = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 843             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 844         }                                                                                                </span>
<span  style=""> 845                                                                                                          </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 846         return allFields;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 847     }                                                                                                    </span>
<span  style=""> 848                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 849     @Override                                                                                            </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 850     public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 851         String propertyName,                                                                             </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 852         String friendlyPropertyName,                                                                     </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 853         Class&lt;?&gt; targetClass,                                                                            </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 854         Class&lt;?&gt; parentClass,                                                                            </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 855         MergedPropertyType mergedPropertyType                                                            </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 856     ) {                                                                                                  </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 857         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 858         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 859         presentationAttribute.setFriendlyName(friendlyPropertyName);                                     </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 860         if (String.class.isAssignableFrom(targetClass)) {                                                </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 861             presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                       </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 862             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 863             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 863             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 864         } else if (Boolean.class.isAssignableFrom(targetClass)) {                                        </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 865             presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 866             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 867             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 867             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 868         } else if (Date.class.isAssignableFrom(targetClass)) {                                           </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 869             presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                         </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 870             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 871             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 871             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 872         } else if (Money.class.isAssignableFrom(targetClass)) {                                          </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 873             presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                        </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 874             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 875             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 875             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 876         } else if (                                                                                      </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 877                 Byte.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 878                 Integer.class.isAssignableFrom(targetClass) ||                                           </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 879                 Long.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 880                 Short.class.isAssignableFrom(targetClass)                                                </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 881             ) {                                                                                          </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 882             presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 883             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 884             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 884             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 885         } else if (                                                                                      </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 886                 Double.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 887                 BigDecimal.class.isAssignableFrom(targetClass)                                           </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 888             ) {                                                                                          </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 889             presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 890             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 891             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 891             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 892         }                                                                                                </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 893         ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                  </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 894         ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                  </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 895         ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                               </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 896         ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                 </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 897         ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                   </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 898         ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                               </span>
<span  style=""> 899                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 900         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 901     }                                                                                                    </span>
<span  style=""> 902                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 903     @Override                                                                                            </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 904     public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                     </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 905         return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 906     }                                                                                                    </span>
<span  style=""> 907                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 908     @Override                                                                                            </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 909     public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                         </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 910         return dynamicDaoHelper.getPropertyNames(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 911     }                                                                                                    </span>
<span  style=""> 912                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 913     @Override                                                                                            </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 914     public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                           </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 915         return dynamicDaoHelper.getPropertyTypes(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 916     }                                                                                                    </span>
<span  style=""> 917                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 918     @Override                                                                                            </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 919     public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {     </span>
<span class="5293628859698650826" onmouseenter="enter('5293628859698650826');" onmouseout="out('5293628859698650826');" style=""> 920         Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length-1]);             </span>
<span  style=""> 921                                                                                                          </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""><abbr title=" 922         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);"> 922         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entitiesðŸ”µ</abbr></span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 923         metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);       </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 924         metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);    </span>
<span  style=""> 925                                                                                                          </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 926         return mergedTabAndGroupMetadata;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 927     }                                                                                                    </span>
<span  style=""> 928                                                                                                          </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 929     public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                   </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 930         Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                          </span>
<span  style=""> 931                                                                                                          </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 932         if (ceilingEntity != null) {                                                                     </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 933             entities = ArrayUtils.add(entities, ceilingEntity);                                          </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 934             while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 935                 entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                      </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 936                 ceilingEntity = ceilingEntity.getSuperclass();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 937             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 938         }                                                                                                </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 939         return entities;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 940     }                                                                                                    </span>
<span  style=""> 941                                                                                                          </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 942     protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                    </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 943             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 944             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 945             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 946             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 947             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 948             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 949             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 950             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 951             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 952             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 953             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 954             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 955             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 956             String parentPrefix) {                                                                       </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title=" 957         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 957         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null,ðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style=""> 958         if (isParentExcluded) {                                                                          </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style=""> 959             for (String key : presentationAttributes.keySet()) {                                         </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""><abbr title=" 960                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);"> 960                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;ðŸ”µ</abbr></span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style=""> 961                 presentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 962             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 963         }                                                                                                </span>
<span  style=""> 964                                                                                                          </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style=""> 965         Map idMetadata = getIdMetadata(targetClass);                                                     </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 966         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style=""> 967         String idProperty = (String) idMetadata.get(&quot;name&quot;);                                             </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style=""> 968         List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                      </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style=""> 969         propertyNames.add(idProperty);                                                                   </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style=""> 970         Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                     </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style=""> 971         List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                        </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style=""> 972         propertyTypes.add(idType);                                                                       </span>
<span  style=""> 973                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style=""> 974         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style=""> 975         Iterator testIter = persistentClass.getPropertyIterator();                                       </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style=""> 976         List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style=""> 977                                                                                                          </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style=""> 978         //check the properties for problems                                                              </span>
<span class="-665927915203022170" onmouseenter="enter('-665927915203022170');" onmouseout="out('-665927915203022170');" style=""> 979         while(testIter.hasNext()) {                                                                      </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style=""> 980             Property property = (Property) testIter.next();                                              </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style=""> 981             if (property.getName().contains(&quot;.&quot;)) {                                                      </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title=" 982                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);"> 982                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period characðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 983             }                                                                                            </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style=""> 984             propertyList.add(property);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 985         }                                                                                                </span>
<span  style=""> 986                                                                                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style=""> 987         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style=""> 988             targetClass,                                                                                 </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 989             foreignField,                                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 990             additionalForeignFields,                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 991             additionalNonPersistentProperties,                                                           </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 992             mergedPropertyType,                                                                          </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style=""> 993             presentationAttributes,                                                                      </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style=""> 994             propertyList,                                                                                </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style=""> 995             fields,                                                                                      </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style=""> 996             propertyNames,                                                                               </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style=""> 997             propertyTypes,                                                                               </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style=""> 998             idProperty,                                                                                  </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 999             populateManyToOneFields,                                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1000             includeFields,                                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1001             excludeFields,                                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1002             configurationKey,                                                                            </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1003             ceilingEntityFullyQualifiedClassname,                                                        </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1004             parentClasses,                                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1005             prefix,                                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1006             isParentExcluded,                                                                            </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1007             false,                                                                                       </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1008             parentPrefix                                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1009         );                                                                                               </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1010         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1011         presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                           </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1012         presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                  </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1013         if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                    </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1014             Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                     </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1015             for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {           </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1016                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1016                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersisteðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1017                     String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;          </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1018                     //get final property if this is a dot delimited property                             </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1019                     int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                  </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1020                     if (finalDotPos &gt;= 0) {                                                              </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1021                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1021                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1022                     }                                                                                    </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style=""><abbr title="1023                     //check all the polymorphic types on this target class to see if the end property exists">1023                     //check all the polymorphic types on this target class to see if the end property exiðŸ”µ</abbr></span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1024                     Field testField = null;                                                              </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1025                     Method testMethod = null;                                                            </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1026                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1027                         try {                                                                            </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1028                             testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);             </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1029                             if (testMethod != null) {                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1030                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1031                             }                                                                            </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1032                         } catch (NoSuchMethodException e) {                                              </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1033                             //do nothing - method does not exist                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1034                         }                                                                                </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1035                         testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);</span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1036                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1037                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1038                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1039                     }                                                                                    </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1040                     //if the property exists, add it to the metadata for this class                      </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1041                     if (testField != null || testMethod != null) {                                       </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1042                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1042                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, addðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1043                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1044                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1045             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1046         }                                                                                                </span>
<span  style="">1047                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1048         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1049     }                                                                                                    </span>
<span  style="">1050                                                                                                          </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1051     protected void buildProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1052             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1053             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1054             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1055             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1056             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1057             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1058             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1059             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1060             List&lt;String&gt; propertyNames,                                                                  </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1061             List&lt;Type&gt; propertyTypes,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1062             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1063             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1064             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1065             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1066             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1067             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1068             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1069             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1070             Boolean isParentExcluded,                                                                    </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1071             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1072             String parentPrefix) {                                                                       </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1073         int j = 0;                                                                                       </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1074         Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1075             @Override                                                                                    </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1076             public int compare(String o1, String o2) {                                                   </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1077                 //check for property name equality and for map field properties                          </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1078                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1078                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(ðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1079                     return 0;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1080                 }                                                                                        </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1081                 return o1.compareTo(o2);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1082             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1083         };                                                                                               </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1084         List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());             </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1085         Collections.sort(presentationKeyList);                                                           </span>
<span  style="">1086                                                                                                          </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1087         for (String propertyName : propertyNames) {                                                      </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1088             final Type type = propertyTypes.get(j);                                                      </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1089             boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);      </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1090             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1090             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFieldsðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1091             j++;                                                                                         </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1092             Field myField = getFieldManager().getField(targetClass, propertyName);                       </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1093             if (myField == null) {                                                                       </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1094                 //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1094                 //try to get the field with the prefix - needed for advanced collections that appear in @ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1095                 myField = getFieldManager().getField(targetClass, prefix + propertyName);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1096             }                                                                                            </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1097             if (                                                                                         </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1098                     !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                     </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1099                     isPropertyForeignKey ||                                                              </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1100                     additionalForeignKeyIndexPosition &gt;= 0 ||                                            </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style="">1101                     Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1102             ) {                                                                                          </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1103                 if (myField != null) {                                                                   </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1104                     boolean handled = false;                                                             </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1105                     for (FieldMetadataProvider provider : fieldMetadataProviders) {                      </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1106                         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);  </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1107                         if (presentationAttribute != null) {                                             </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1108                             setExcludedBasedOnShowIfProperty(presentationAttribute);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1109                         }                                                                                </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1110                         MetadataProviderResponse response = provider.addMetadataFromFieldType(           </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1111                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1111                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, aðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1112                                         mergedPropertyType, componentProperties, idProperty, prefix,     </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1113                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1113                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1114                                         presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1114                                         presentationAttributes, presentationAttribute, null, type.getRetuðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1115                         if (MetadataProviderResponse.NOT_HANDLED != response) {                          </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1116                             handled = true;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1117                         }                                                                                </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1118                         if (MetadataProviderResponse.HANDLED_BREAK == response) {                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1119                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1120                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1121                     }                                                                                    </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1122                     if (!handled) {                                                                      </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1123                         buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,  </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style=""><abbr title="1124                             additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,">1124                             additionalNonPersistentProperties, mergedPropertyType, presentationAttributesðŸ”µ</abbr></span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style=""><abbr title="1125                             componentProperties, fields, idProperty, populateManyToOneFields, includeFields,">1125                             componentProperties, fields, idProperty, populateManyToOneFields, includeFielðŸ”µ</abbr></span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1126                             excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1126                             excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1127                             prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1127                             prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionaðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1128                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1129                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1130             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1131         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1132     }                                                                                                    </span>
<span  style="">1133                                                                                                          </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1134     public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                          </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1135         setExcludedBasedOnShowIfProperty(presentationAttribute);                                         </span>
<span  style="">1136                                                                                                          </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1137         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1137         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presenðŸ”µ</abbr></span>
<span  style="">1138                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1139     }                                                                                                    </span>
<span  style="">1140                                                                                                          </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1141     protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                       </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1142         if (fieldMetadata != null                                                                        </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1143             &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                                 </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1144             &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                     </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1145             &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {        </span>
<span  style="">1146                                                                                                          </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1147             //do not include this in the display if it returns false.                                    </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1148             fieldMetadata.setExcluded(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1149         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1150     }                                                                                                    </span>
<span  style="">1151                                                                                                          </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1152     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1152     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyNðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1153                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1153                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponðŸ”µ</abbr></span>
<span  style="">1154                                                                                                          </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1155         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1155         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1156                 ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                </span>
<span  style="">1157                                                                                                          </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1158         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1158         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isCompoðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1159                 parentPrefix, propertyName);                                                             </span>
<span  style="">1160                                                                                                          </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1161         return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1162     }                                                                                                    </span>
<span  style="">1163                                                                                                          </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1164     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1164     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String ðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1165         return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1166     }                                                                                                    </span>
<span  style="">1167                                                                                                          </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1168     protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String  </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1169             propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean     </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1170             isComponentPrefix) {                                                                         </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1171         Boolean response = false;                                                                        </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1172         //don&#x27;t want to shun a self-referencing property in an @Embeddable                               </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1173         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1173         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).lðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1174         if (shouldTest) {                                                                                </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1175             Field testField = getFieldManager().getField(targetClass, propertyName);                     </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1176             if (testField == null) {                                                                     </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1177                 Class&lt;?&gt;[] entities;                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1178                 try {                                                                                    </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1179                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1179                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualiðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1180                 } catch (ClassNotFoundException e) {                                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1181                     throw new RuntimeException(e);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1182                 }                                                                                        </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1183                 for (Class&lt;?&gt; clazz : entities) {                                                        </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1184                     testField = getFieldManager().getField(clazz, propertyName);                         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1185                     if (testField != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1186                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1187                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1188                 }                                                                                        </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1189                 String testProperty = prefix + propertyName;                                             </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1190                 if (testField == null) {                                                                 </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1191                     testField = getFieldManager().getField(targetClass, testProperty);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1192                 }                                                                                        </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1193                 if (testField == null) {                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1194                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1195                         testField = getFieldManager().getField(clazz, testProperty);                     </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1196                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1197                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1198                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1199                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1200                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1201             }                                                                                            </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1202             response = determineExclusionForField(parentClasses, targetClass, testField);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1203         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1204         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1205     }                                                                                                    </span>
<span  style="">1206                                                                                                          </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1207     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1207     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, FielðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1208         Boolean response = false;                                                                        </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1209         if (testField != null) {                                                                         </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1210             Class&lt;?&gt; testType = testField.getType();                                                     </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1211             for (Class&lt;?&gt; parentClass : parentClasses) {                                                 </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1212                 if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {  </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1213                     response = true;                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1214                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1215                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1216             }                                                                                            </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style=""><abbr title="1217             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {">1217             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetCðŸ”µ</abbr></span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1218                 response = true;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1219             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1220         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1221         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1222     }                                                                                                    </span>
<span  style="">1223                                                                                                          </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1224     protected void buildBasicProperty(                                                                   </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1225             Field field,                                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1226             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1227             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1228             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1229             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1230             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1231             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1232             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1233             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1234             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1235             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1236             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1237             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1238             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1239             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1240             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1241             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1242             Boolean isParentExcluded,                                                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1243             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1244             Type type,                                                                                   </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1245             boolean propertyForeignKey,                                                                  </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1246             int additionalForeignKeyIndexPosition,                                                       </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1247             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1248             String parentPrefix) {                                                                       </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1249         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                  </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1250         Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);         </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1251         Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,  </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1252             ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                      </span>
<span  style="">1253                                                                                                          </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1254         SupportedFieldType explicitType = null;                                                          </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1255         if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {      </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1256             explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1257         }                                                                                                </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1258         Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="">1259         checkProp:                                                                                       </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="">1260         {                                                                                                </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1261             if (type.isComponentType() &amp;&amp; includeField) {                                                </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1262                 buildComponentProperties(                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1263                     targetClass,                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1264                     foreignField,                                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1265                     additionalForeignFields,                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1266                     additionalNonPersistentProperties,                                                   </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1267                     mergedPropertyType,                                                                  </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1268                     fields,                                                                              </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1269                     idProperty,                                                                          </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1270                     populateManyToOneFields,                                                             </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1271                     includeFields,                                                                       </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1272                     excludeFields,                                                                       </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1273                     configurationKey,                                                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1274                     ceilingEntityFullyQualifiedClassname,                                                </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1275                     propertyName,                                                                        </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1276                     type,                                                                                </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1277                     returnedClass,                                                                       </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1278                     parentClasses,                                                                       </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1279                     amIExcluded,                                                                         </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1280                     prefix,                                                                              </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1281                         parentPrefix);                                                                   </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1282                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1283             }                                                                                            </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1284             /*                                                                                           </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1285              * Currently we do not support ManyToOne fields whose class type is the same                 </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1286              * as the target type, since this forms an infinite loop and will cause a stack overflow.    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1287              */                                                                                          </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1288             if (                                                                                         </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1289                 type.isEntityType() &amp;&amp;                                                                   </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1290                 !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                                          </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1291                 populateManyToOneFields &amp;&amp;                                                               </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1292                 includeField                                                                             </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1293             ) {                                                                                          </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1294                 buildEntityProperties(                                                                   </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1295                     fields,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1296                     foreignField,                                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1297                     additionalForeignFields,                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1298                     additionalNonPersistentProperties,                                                   </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1299                     populateManyToOneFields,                                                             </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1300                     includeFields,                                                                       </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1301                     excludeFields,                                                                       </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1302                     configurationKey,                                                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1303                     ceilingEntityFullyQualifiedClassname,                                                </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1304                     propertyName,                                                                        </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1305                     returnedClass,                                                                       </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1306                     targetClass,                                                                         </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1307                     parentClasses,                                                                       </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1308                     prefix,                                                                              </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1309                     amIExcluded,                                                                         </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1310                     parentPrefix                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1311                 );                                                                                       </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1312                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1313             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1314         }                                                                                                </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1315         //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key</span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1316         if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {              </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1317             defaultFieldMetadataProvider.addMetadataFromFieldType(                                       </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style=""><abbr title="1318                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,">1318                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeiðŸ”µ</abbr></span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style=""><abbr title="1319                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,">1319                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, tyðŸ”µ</abbr></span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style=""><abbr title="1320                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,">1320                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributesðŸ”µ</abbr></span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1321                             presentationAttribute, explicitType, returnedClass, this), fields);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1322         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1323     }                                                                                                    </span>
<span  style="">1324                                                                                                          </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1325     protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) { </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1326         boolean isPropertyForeignKey = false;                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1327         if (foreignField != null) {                                                                      </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1328             isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1329         }                                                                                                </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1330         return isPropertyForeignKey;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1331     }                                                                                                    </span>
<span  style="">1332                                                                                                          </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1333     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1333     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, StriðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1334         int additionalForeignKeyIndexPosition = -1;                                                      </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1335         if (additionalForeignFields != null) {                                                           </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1336             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1336             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1337                 @Override                                                                                </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1338                 public int compare(ForeignKey o1, ForeignKey o2) {                                       </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1339                     return o1.getManyToField().compareTo(o2.getManyToField());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1340                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1341             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1342         }                                                                                                </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1343         return additionalForeignKeyIndexPosition;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1344     }                                                                                                    </span>
<span  style="">1345                                                                                                          </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1346     protected void buildEntityProperties(                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1347             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1348             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1349             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1350             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1351             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1352             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1353             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1354             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1355             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1356             String propertyName,                                                                         </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1357             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1358             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1359             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1360             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1361             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1362             String parentPrefix) {                                                                       </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1363         Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);            </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1364         List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                          </span>
<span  style="">1365                                                                                                          </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1366         for (Class&lt;?&gt; parentClass : parentClasses) {                                                     </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1367             clonedParentClasses.add(parentClass);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1368         }                                                                                                </span>
<span  style="">1369                                                                                                          </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1370         clonedParentClasses.add(targetClass);                                                            </span>
<span  style="">1371                                                                                                          </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1372         Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                           </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1373             ceilingEntityFullyQualifiedClassname,                                                        </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1374             polymorphicEntities,                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1375             foreignField,                                                                                </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1376             additionalNonPersistentProperties,                                                           </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1377             additionalForeignFields,                                                                     </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1378             MergedPropertyType.PRIMARY,                                                                  </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1379             populateManyToOneFields,                                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1380             includeFields,                                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1381             excludeFields,                                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1382             configurationKey,                                                                            </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1383             clonedParentClasses,                                                                         </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1384             prefix + propertyName + &#x27;.&#x27;,                                                                 </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1385             isParentExcluded,                                                                            </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1386             parentPrefix);                                                                               </span>
<span  style="">1387                                                                                                          </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1388         final String targetClassName = targetClass.getName();                                            </span>
<span  style="">1389                                                                                                          </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1390         for (FieldMetadata newMetadata : newFields.values()) {                                           </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1391             newMetadata.setInheritedFromType(targetClassName);                                           </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1392             newMetadata.setAvailableToTypes(new String[]{targetClassName});                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1393         }                                                                                                </span>
<span  style="">1394                                                                                                          </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1395         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                    </span>
<span  style="">1396                                                                                                          </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1397         for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                         </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1398             final FieldMetadata fieldMetadata = newField.getValue();                                     </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1399             final String key = newField.getKey();                                                        </span>
<span  style="">1400                                                                                                          </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1401             convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                </span>
<span  style="">1402                                                                                                          </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1403             if (fieldMetadata instanceof BasicFieldMetadata) {                                           </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1404                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1404                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1405                     Class&lt;?&gt; validatorImpl = null;                                                       </span>
<span  style="">1406                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1407                     try {                                                                                </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1408                         validatorImpl = Class.forName(validationConfigurations.getKey());                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1409                     } catch (ClassNotFoundException e) {                                                 </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1410                         Object bean = applicationContext.getBean(validationConfigurations.getKey());     </span>
<span  style="">1411                                                                                                          </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1412                         if (bean != null) {                                                              </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1413                             validatorImpl = bean.getClass();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1414                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1415                     }                                                                                    </span>
<span  style="">1416                                                                                                          </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1417                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1417                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validaðŸ”µ</abbr></span>
<span class="6499969559533890178" onmouseenter="enter('6499969559533890178');" onmouseout="out('6499969559533890178');" style="">1418                         for (Map&lt;String, String&gt; configs  : validationConfigurations.getValue()) {       </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1419                             for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1420                                 final String value = config.getValue();                                  </span>
<span  style="">1421                                                                                                          </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1422                                 if (newFields.containsKey(value)) {                                      </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1423                                     config.setValue(propertyName + &quot;.&quot; + value);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1424                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1425                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1426                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1427                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1428                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1429             }                                                                                            </span>
<span  style="">1430                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1431             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1432                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1433             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1434         }                                                                                                </span>
<span  style="">1435                                                                                                          </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1436         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1437     }                                                                                                    </span>
<span  style="">1438                                                                                                          </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1439     protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                        </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1440         return fieldMetadata instanceof BasicCollectionMetadata                                          </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1441                &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1441                &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePeðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1442                &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1442                &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1443     }                                                                                                    </span>
<span  style="">1444                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1445     /*                                                                                                   </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1446      * There may be multiple pathways to this foreign key which may have come from a cached source.      </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1447      * Since ForeignKey contains an originating field concept that is occurrence specific, we need       </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1448      * to make sure it is set appropriately here.                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1449      *                                                                                                   </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1450      * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                         </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1451      * owningSite.embeddableMultitenantSite.adminUsers.                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1452      */                                                                                                  </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1453     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1453     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1454         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1454         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePersðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1455         foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1456     }                                                                                                    </span>
<span  style="">1457                                                                                                          </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1458     protected void buildComponentProperties(                                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1459             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1460             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1461             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1462             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1463             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1464             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1465             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1466             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1467             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1468             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1469             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1470             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1471             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1472             Type type,                                                                                   </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1473             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1474             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1475             Boolean isParentExcluded,                                                                    </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1476             String prefix,                                                                               </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1477             String parentPrefix) {                                                                       </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1478         String[] componentProperties = ((ComponentType) type).getPropertyNames();                        </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1479         List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                        </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1480         Type[] componentTypes = ((ComponentType) type).getSubtypes();                                    </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1481         List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                               </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1482         String tempPrefix = &quot;&quot;;                                                                          </span>
<span  style="">1483                                                                                                          </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1484         int pos = prefix.indexOf(&quot;.&quot;);                                                                   </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1485         final int prefixLength = prefix.length();                                                        </span>
<span  style="">1486                                                                                                          </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1487         if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                         </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1488             //only use part of the prefix if it&#x27;s more than one layer deep                               </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1489             tempPrefix = prefix.substring(pos + 1, prefixLength);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1490         }                                                                                                </span>
<span  style="">1491                                                                                                          </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1492         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1492         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClðŸ”µ</abbr></span>
<span  style="">1493                                                                                                          </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1494         if (isParentExcluded) {                                                                          </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1495             for (String key : componentPresentationAttributes.keySet()) {                                </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style=""><abbr title="1496                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);">1496                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excludedðŸ”µ</abbr></span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1497                 componentPresentationAttributes.get(key).setExcluded(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1498             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1499         }                                                                                                </span>
<span  style="">1500                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1501         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1502         Property property;                                                                               </span>
<span  style="">1503                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1504         try {                                                                                            </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1505             property = persistentClass.getProperty(propertyName);                                        </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1506         } catch (MappingException e) {                                                                   </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1507             property = persistentClass.getProperty(prefix + propertyName);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1508         }                                                                                                </span>
<span  style="">1509                                                                                                          </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1510         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1510         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1511         List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                        </span>
<span  style="">1512                                                                                                          </span>
<span class="-2689271164948138423" onmouseenter="enter('-2689271164948138423');" onmouseout="out('-2689271164948138423');" style="">1513         while(componentPropertyIterator.hasNext()) {                                                     </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1514             componentPropertyList.add((Property) componentPropertyIterator.next());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1515         }                                                                                                </span>
<span  style="">1516                                                                                                          </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1517         Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1518         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1519             targetClass,                                                                                 </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1520             foreignField,                                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1521             additionalForeignFields,                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1522             additionalNonPersistentProperties,                                                           </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1523             mergedPropertyType,                                                                          </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1524             componentPresentationAttributes,                                                             </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1525             componentPropertyList,                                                                       </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1526             newFields,                                                                                   </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1527             componentPropertyNames,                                                                      </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1528             componentPropertyTypes,                                                                      </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1529             idProperty,                                                                                  </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1530             populateManyToOneFields,                                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1531             includeFields,                                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1532             excludeFields,                                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1533             configurationKey,                                                                            </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1534             ceilingEntityFullyQualifiedClassname,                                                        </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1535             parentClasses,                                                                               </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1536             propertyName + &quot;.&quot;,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1537             isParentExcluded,                                                                            </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1538             true,                                                                                        </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1539             parentPrefix + prefix                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1540         );                                                                                               </span>
<span  style="">1541                                                                                                          </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1542         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                    </span>
<span  style="">1543                                                                                                          </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1544         for (String key : newFields.keySet()) {                                                          </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1545             final FieldMetadata fieldMetadata = newFields.get(key);                                      </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1546             convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                </span>
<span  style="">1547                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1548             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1549                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1550             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1551         }                                                                                                </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1552         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1553     }                                                                                                    </span>
<span  style="">1554                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1555     @Override                                                                                            </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1556     public EntityManager getStandardEntityManager() {                                                    </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1557         return standardEntityManager;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1558     }                                                                                                    </span>
<span  style="">1559                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1560     @Override                                                                                            </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1561     public void setStandardEntityManager(EntityManager entityManager) {                                  </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1562         this.standardEntityManager = entityManager;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1563     }                                                                                                    </span>
<span  style="">1564                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1565     @Override                                                                                            </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1566     public FieldManager getFieldManager() {                                                              </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">1567 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-7708462308818149765" onmouseenter="enter('-7708462308818149765');" onmouseout="out('-7708462308818149765');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">1568         return new FieldManager(entityConfiguration, getStandardEntityManager());                        </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">1569 ||||||| BASE                                                                                             </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">1570         if (fieldManager == null) {                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">1571 =======                                                                                                  </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">1572         return this.getFieldManager(true);                                                               </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style="">1573 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1574     }                                                                                                    </span>
<span  style="">1575                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1576     @Override                                                                                            </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="">1577     public FieldManager getFieldManager(boolean cleanFieldManager) {                                     </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="">1578         if (fieldManager == null) {                                                                      </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="">1579             //keep in mind that getStandardEntityManager() can return null, this is in general OK,       </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="">1580             // we re-init fieldManager in setStandardEntityManager method                                </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="">1581             fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());            </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="">1582         } else if (cleanFieldManager){                                                                   </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="">1583             fieldManager.clearMiddleFields();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1584         }                                                                                                </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="">1585         return fieldManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1586     }                                                                                                    </span>
<span  style="">1587                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1588     @Override                                                                                            </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1589     public EntityConfiguration getEntityConfiguration() {                                                </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1590         return entityConfiguration;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1591     }                                                                                                    </span>
<span  style="">1592                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1593     @Override                                                                                            </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1594     public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                        </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1595         this.entityConfiguration = entityConfiguration;                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1596     }                                                                                                    </span>
<span  style="">1597                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1598     @Override                                                                                            </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1599     public Metadata getMetadata() {                                                                      </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1600         return metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1601     }                                                                                                    </span>
<span  style="">1602                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1603     @Override                                                                                            </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1604     public void setMetadata(Metadata metadata) {                                                         </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1605         this.metadata = metadata;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1606     }                                                                                                    </span>
<span  style="">1607                                                                                                          </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1608     public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                     </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1609         return fieldMetadataProviders;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1610     }                                                                                                    </span>
<span  style="">1611                                                                                                          </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1612     public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {          </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1613         this.fieldMetadataProviders = fieldMetadataProviders;                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1614     }                                                                                                    </span>
<span  style="">1615                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1616     @Override                                                                                            </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1617     public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                     </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1618         return defaultFieldMetadataProvider;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1619     }                                                                                                    </span>
<span  style="">1620                                                                                                          </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1621     public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {    </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1622         this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1623     }                                                                                                    </span>
<span  style="">1624                                                                                                          </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1625     protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                   </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1626         return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1627     }                                                                                                    </span>
<span  style="">1628                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1629     @Override                                                                                            </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1630     public DynamicDaoHelper getDynamicDaoHelper() {                                                      </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1631         return dynamicDaoHelper;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1632     }                                                                                                    </span>
<span  style="">1633                                                                                                          </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1634     public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                 </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1635         this.dynamicDaoHelper = dynamicDaoHelper;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1636     }                                                                                                    </span>
<span  style="">1637                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1638 }                                                                                                        </span>






















































</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3  * BroadleafCommerce Open Admin Platform                                                                 </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18 package org.broadleafcommerce.openadmin.server.dao;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  20 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  21 import java.lang.reflect.Field;                                                                          </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  22 import java.lang.reflect.Method;                                                                         </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  23 import java.lang.reflect.Modifier;                                                                       </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  24 import java.math.BigDecimal;                                                                             </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  25 import java.math.BigInteger;                                                                             </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  26 import java.security.MessageDigest;                                                                      </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  27 import java.security.NoSuchAlgorithmException;                                                           </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  28 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  29 import java.util.Arrays;                                                                                 </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  30 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  31 import java.util.Comparator;                                                                             </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  32 import java.util.Date;                                                                                   </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  33 import java.util.HashMap;                                                                                </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  34 import java.util.HashSet;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  35 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  36 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  37 import java.util.Map;                                                                                    </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  38 import java.util.Set;                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  39 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  40 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  41 import javax.persistence.EntityManager;                                                                  </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  42 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  43 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  44 import javax.persistence.criteria.Path;                                                                  </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  45 import javax.persistence.criteria.Predicate;                                                             </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  46 import javax.persistence.criteria.Root;                                                                  </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  47 import org.apache.commons.collections4.map.LRUMap;                                                       </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  48 import org.apache.commons.lang.StringUtils;                                                              </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  49 import org.apache.commons.lang3.ArrayUtils;                                                              </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  50 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  51 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  52 import org.broadleafcommerce.common.money.Money;                                                         </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  53 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  54 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  55 import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                 </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  56 import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                  </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  57 import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                              </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  58 import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                  </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  59 import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                           </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  60 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  61 import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                   </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  62 import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                      </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  63 import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                           </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  64 import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  65 import org.broadleafcommerce.openadmin.dto.ClassTree;                                                    </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  66 import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  67 import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                   </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  68 import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                           </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  69 import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                       </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  70 import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                  </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  71 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;               </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style=""><abbr title="  72 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;">  72 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequeðŸ”µ</abbr></span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  73 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest; </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  74 import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                   </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  75 import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator; </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  76 import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                     </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  77 import org.hibernate.Criteria;                                                                           </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  78 import org.hibernate.MappingException;                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  79 import org.hibernate.Session;                                                                            </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  80 import org.hibernate.mapping.PersistentClass;                                                            </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  81 import org.hibernate.mapping.Property;                                                                   </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  82 import org.hibernate.type.ComponentType;                                                                 </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  83 import org.hibernate.type.Type;                                                                          </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  84 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  85 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  86 import org.springframework.beans.factory.annotation.Value;                                               </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  87 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  88 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  89 import org.springframework.context.annotation.Scope;                                                     </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  90 import org.springframework.core.annotation.AnnotationUtils;                                              </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  91 import org.springframework.stereotype.Component;                                                         </span>
<span  style="">  92                                                                                                          </span>
<span  style="">  93                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  94 /**                                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  95  *                                                                                                       </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  96  * @author jfischer                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  97  *                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  98  */                                                                                                      </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style="">  99 @Component(&quot;blDynamicEntityDao&quot;)                                                                         </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 100 @Scope(&quot;prototype&quot;)                                                                                      </span>
<span class="7001907767033041834" onmouseenter="enter('7001907767033041834');" onmouseout="out('7001907767033041834');" style=""> 101 public class DynamicEntityDaoImpl implements DynamicEntityDao , ApplicationContextAware {                </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 102     private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                        </span>
<span  style=""> 103                                                                                                          </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style=""> 104     protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);  </span>
<span  style=""> 105                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 106     /**                                                                                                  </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 107      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 107      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we hðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 108      * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 108      * of the application. This should survive evictions from METADATA_CACHE because it is for the purposðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 109      * counts in METADATA_CACHE as a result of cache eviction                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 110      */                                                                                                  </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 111     protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                  </span>
<span  style=""> 112                                                                                                          </span>
<span class="-5744821178913305501" onmouseenter="enter('-5744821178913305501');" onmouseout="out('-5744821178913305501');" style=""><abbr title=" 113     /* This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 113     /* This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are absðŸ”µ</abbr></span>
<span class="1835203952780227111" onmouseenter="enter('1835203952780227111');" onmouseout="out('1835203952780227111');" style=""> 114     from polymorphism                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 115      */                                                                                                  </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 116     protected EntityManager standardEntityManager;                                                       </span>
<span  style=""> 117                                                                                                          </span>
<span class="1233233002335873562" onmouseenter="enter('1233233002335873562');" onmouseout="out('1233233002335873562');" style=""> 118     @Resource(name=&quot;blMetadata&quot;)                                                                         </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 119     protected Metadata metadata;                                                                         </span>
<span  style=""> 120                                                                                                          </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style=""> 121     @Resource(name=&quot;blEntityConfiguration&quot;)                                                              </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 122     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style=""> 123                                                                                                          </span>
<span class="-7705979847401793504" onmouseenter="enter('-7705979847401793504');" onmouseout="out('-7705979847401793504');" style=""> 124     @Resource(name=&quot;blFieldMetadataProviders&quot;)                                                           </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 125     protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                    </span>
<span  style=""> 126                                                                                                          </span>
<span class="-6161973747859802400" onmouseenter="enter('-6161973747859802400');" onmouseout="out('-6161973747859802400');" style=""> 127     @Resource(name= &quot;blDefaultFieldMetadataProvider&quot;)                                                    </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 128     protected FieldMetadataProvider defaultFieldMetadataProvider;                                        </span>
<span  style=""> 129                                                                                                          </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 130     @Resource(name = &quot;blAppConfigurationMap&quot;)                                                            </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 131     protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                              </span>
<span  style=""> 132                                                                                                          </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 133     protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                            </span>
<span  style=""> 134                                                                                                          </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 135     @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                           </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 136     protected int cacheEntityMetaDataTtl;                                                                </span>
<span  style=""> 137                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 138     /**                                                                                                  </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""><abbr title=" 139      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application"> 139      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the applicatioðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 140      */                                                                                                  </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 141     @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                     </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 142     protected boolean validateMetadataCacheSizes;                                                        </span>
<span  style=""> 143                                                                                                          </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 144     protected long lastCacheFlushTime = System.currentTimeMillis();                                      </span>
<span  style=""> 145                                                                                                          </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 146     protected ApplicationContext applicationContext;                                                     </span>
<span  style=""> 147                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 148     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 149     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 150         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151     }                                                                                                    </span>
<span  style=""> 152                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153     @Override                                                                                            </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 154     public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                               </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 155         return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156     }                                                                                                    </span>
<span  style=""> 157                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 158     @Override                                                                                            </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 159     public &lt;T&gt; T persist(T entity) {                                                                     </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 160         standardEntityManager.persist(entity);                                                           </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 161         standardEntityManager.flush();                                                                   </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 162         return entity;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165     @Override                                                                                            </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 166     public Object find(Class&lt;?&gt; entityClass, Object key) {                                               </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 167         return standardEntityManager.find(entityClass, key);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170     @Override                                                                                            </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 171     public &lt;T&gt; T merge(T entity) {                                                                       </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 172         T response = standardEntityManager.merge(entity);                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 173         standardEntityManager.flush();                                                                   </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 174         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 178     public void flush() {                                                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 179         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180     }                                                                                                    </span>
<span  style=""> 181                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182     @Override                                                                                            </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 183     public void detach(Serializable entity) {                                                            </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 184         standardEntityManager.detach(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185     }                                                                                                    </span>
<span  style=""> 186                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187     @Override                                                                                            </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 188     public void refresh(Serializable entity) {                                                           </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 189         standardEntityManager.refresh(entity);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190     }                                                                                                    </span>
<span  style=""> 191                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 192     @Override                                                                                            </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 193     public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                              </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 194         return (Serializable) standardEntityManager.find(entityClass, primaryKey);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195     }                                                                                                    </span>
<span  style=""> 196                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 197     @Override                                                                                            </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 198     public void remove(Serializable entity) {                                                            </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 199         standardEntityManager.remove(entity);                                                            </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 200         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201     }                                                                                                    </span>
<span  style=""> 202                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 203     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 204     public void clear() {                                                                                </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 205         standardEntityManager.clear();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208     @Override                                                                                            </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 209     public PersistentClass getPersistentClass(String targetClassName) {                                  </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 210         return HibernateMappingProvider.getMapping(targetClassName);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211     }                                                                                                    </span>
<span  style=""> 212                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 213     @Override                                                                                            </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 214     public boolean useCache() {                                                                          </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 215         if (cacheEntityMetaDataTtl &lt; 0) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 216             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217         }                                                                                                </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 218         if (cacheEntityMetaDataTtl == 0) {                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 219             return false;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 220         } else {                                                                                         </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 221             if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {            </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 222                 lastCacheFlushTime = System.currentTimeMillis();                                         </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 223                 METADATA_CACHE.clear();                                                                  </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 224                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                   </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 225                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                     </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 226                 LOG.trace(&quot;Metadata cache evicted&quot;);                                                     </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 227                 return true; // cache is empty                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 228             } else {                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 229                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232     }                                                                                                    </span>
<span  style=""> 233                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 234     @Override                                                                                            </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 235     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                      </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 236         return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237     }                                                                                                    </span>
<span  style=""> 238                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 239     @Override                                                                                            </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 240     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 240     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifðŸ”µ</abbr></span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style=""><abbr title=" 241         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 241         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242     }                                                                                                    </span>
<span  style=""> 243                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 244     @Override                                                                                            </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 245     public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                         </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 246         return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247     }                                                                                                    </span>
<span  style=""> 248                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 249     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 250     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 251         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 252         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 253             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 254         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 255             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 257         if (clazz == null) {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 258             try {                                                                                        </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 259                 clazz = Class.forName(className);                                                        </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 260             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 261                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262             }                                                                                            </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 263             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 265         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266     }                                                                                                    </span>
<span  style=""> 267                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 268     @Override                                                                                            </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 269     public Class&lt;?&gt; getCeilingImplClass(String className) {                                              </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 270         Class&lt;?&gt; clazz;                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 271         try {                                                                                            </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 272             clazz = Class.forName(className);                                                            </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 273         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 274             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275         }                                                                                                </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 276         Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);              </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 277         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 278             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 279             entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280         }                                                                                                </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 281         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 282             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 282             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283         }                                                                                                </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 284         clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                     </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 285         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286     }                                                                                                    </span>
<span  style=""> 287                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 288     @Override                                                                                            </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 289     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 289     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, StriðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""><abbr title=" 290         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());"> 290         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass())ðŸ”µ</abbr></span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 291         CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                       </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 292         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 293         Root root = criteria.from(clazz);                                                                </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 294         Path idField = root.get(this.getIdField(clazz).getName());                                       </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 295         criteria.select(idField.as(Long.class));                                                         </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 296         List&lt;Predicate&gt; restrictions = new ArrayList();                                                  </span>
<span  style=""> 297                                                                                                          </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 298         Path path = null;                                                                                </span>
<span  style=""> 299                                                                                                          </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 300         // Support property name such as &quot;defaultSku.name&quot;                                               </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 301         if (propertyName.contains(&quot;.&quot;)) {                                                                </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 302             String[] split = propertyName.split(&quot;\\.&quot;);                                                  </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 303             for (String splitResult : split) {                                                           </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 304                 if (path == null) {                                                                      </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 305                     path = root.get(splitResult);                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 306                 } else {                                                                                 </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 307                     path = path.get(splitResult);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 310         } else {                                                                                         </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 311             path = root.get(propertyName);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312         }                                                                                                </span>
<span  style=""> 313                                                                                                          </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 314         restrictions.add(builder.equal(path, value));                                                    </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 315         Serializable identifier = this.getIdentifier(instance);                                          </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 316         //when we creating the new item identifier is not exists                                         </span>
<span class="4435895120511968207" onmouseenter="enter('4435895120511968207');" onmouseout="out('4435895120511968207');" style=""> 317         if(identifier != null) {                                                                         </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 318             restrictions.add(builder.notEqual(idField, identifier));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319         }                                                                                                </span>
<span  style=""> 320                                                                                                          </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 321         if (instance instanceof Status) {                                                                </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 322             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 322             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), buildeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323         }                                                                                                </span>
<span  style=""> 324                                                                                                          </span>
<span class="-7594542009457650837" onmouseenter="enter('-7594542009457650837');" onmouseout="out('-7594542009457650837');" style=""> 325         criteria.where((Predicate[]) restrictions.toArray(new Predicate[restrictions.size()]));          </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 326         return this.standardEntityManager.createQuery(criteria).getResultList();                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327     }                                                                                                    </span>
<span  style=""> 328                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 329     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 330     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 331         return dynamicDaoHelper.getIdentifier(entity);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332     }                                                                                                    </span>
<span  style=""> 333                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 334     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 335         return dynamicDaoHelper.getIdField(clazz);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336     }                                                                                                    </span>
<span  style=""> 337                                                                                                          </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 338     public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                     </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 339         return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340     }                                                                                                    </span>
<span  style=""> 341                                                                                                          </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 342     protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                      </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 343         Class&lt;?&gt; testClass;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 344         try {                                                                                            </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 345             testClass = Class.forName(tree.getFullyQualifiedClassname());                                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 346         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 347             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348         }                                                                                                </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 349         if (clazz.equals(testClass)) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 350             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351         }                                                                                                </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 352         if (clazz.getSuperclass().equals(testClass)) {                                                   </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 353             ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));    </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 354             createClassTreeFromAnnotation(clazz, myTree);                                                </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 355             tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 356         } else {                                                                                         </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 357             for (ClassTree child : tree.getChildren()) {                                                 </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 358                 addClassToTree(clazz, child);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361     }                                                                                                    </span>
<span  style=""> 362                                                                                                          </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 363     protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                     </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 364         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 364         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentatioðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 365         if (classPresentation != null) {                                                                 </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 366             String friendlyName = classPresentation.friendlyName();                                      </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 367             if (!StringUtils.isEmpty(friendlyName)) {                                                    </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 368                 myTree.setFriendlyName(friendlyName);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371     }                                                                                                    </span>
<span  style=""> 372                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 373     @Override                                                                                            </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 374     public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                       </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 375         String ceilingClass = null;                                                                      </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 376         for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                      </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 377             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 377             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 378             if (classPresentation != null) {                                                             </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 379                String ceilingEntity = classPresentation.ceilingDisplayEntity();                          </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 380                 if (!StringUtils.isEmpty(ceilingEntity)) {                                               </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 381                     ceilingClass = ceilingEntity;                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 382                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385         }                                                                                                </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 386         if (ceilingClass != null) {                                                                      </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 387             int pos = -1;                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 388             int j = 0;                                                                                   </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 389             for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                  </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 390                 if (clazz.getName().equals(ceilingClass)) {                                              </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 391                     pos = j;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 392                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393                 }                                                                                        </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 394                 j++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395             }                                                                                            </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 396             if (pos &gt;= 0) {                                                                              </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 397                 Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                 </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 398                 System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                 </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 399                 polymorphicClasses = temp;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401         }                                                                                                </span>
<span  style=""> 402                                                                                                          </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 403         ClassTree classTree = null;                                                                      </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 404         if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                   </span>
<span class="8356012055912964334" onmouseenter="enter('8356012055912964334');" onmouseout="out('8356012055912964334');" style=""> 405             Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length-1];                         </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 406             classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));     </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 407             createClassTreeFromAnnotation(topClass, classTree);                                          </span>
<span class="2167523095919624833" onmouseenter="enter('2167523095919624833');" onmouseout="out('2167523095919624833');" style=""> 408             for (int j=polymorphicClasses.length-1; j &gt;= 0; j--) {                                       </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 409                 addClassToTree(polymorphicClasses[j], classTree);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410             }                                                                                            </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 411             classTree.finalizeStructure(1);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412         }                                                                                                </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 413         return classTree;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414     }                                                                                                    </span>
<span  style=""> 415                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 416     @Override                                                                                            </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 417     public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                    </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 418         Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                  </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 419         return getClassTree(sortedEntities);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420     }                                                                                                    </span>
<span  style=""> 421                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 422     @Override                                                                                            </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 423     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 423     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspectiveðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 424         Class&lt;?&gt;[] entityClasses;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 425         try {                                                                                            </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 426             entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 427         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 428             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429         }                                                                                                </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 430         if (!ArrayUtils.isEmpty(entityClasses)) {                                                        </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 431             return getMergedProperties(                                                                  </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 432                 entityName,                                                                              </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 433                 entityClasses,                                                                           </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 434                 (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 434                 (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 435                 persistencePerspective.getAdditionalNonPersistentProperties(),                           </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 436                 persistencePerspective.getAdditionalForeignKeys(),                                       </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 437                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 438                 persistencePerspective.getPopulateToOneFields(),                                         </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 439                 persistencePerspective.getIncludeFields(),                                               </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 440                 persistencePerspective.getExcludeFields(),                                               </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 441                 persistencePerspective.getConfigurationKey(),                                            </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 442                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 443             );                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 444         } else {                                                                                         </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 445             Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                               </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 446             Class&lt;?&gt; targetClass;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 447             try {                                                                                        </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 448                 targetClass = Class.forName(entityName);                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 449             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 450                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451             }                                                                                            </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 452             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 452             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 453             for (String property : attributesMap.keySet()) {                                             </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 454                 FieldMetadata presentationAttribute = attributesMap.get(property);                       </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 455                 if (!presentationAttribute.getExcluded()) {                                              </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 456                     Field field = FieldManager.getSingleField(targetClass, property);                    </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 457                     if (!Modifier.isStatic(field.getModifiers())) {                                      </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 458                         boolean handled = false;                                                         </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 459                         for (FieldMetadataProvider provider : fieldMetadataProviders) {                  </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 460                             MetadataProviderResponse response = provider.addMetadataFromFieldType(       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 461                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 461                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 462                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                  </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""><abbr title=" 463                                             property, null, false, 0, attributesMap, presentationAttribute,"> 463                                             property, null, false, 0, attributesMap, presentationAttributðŸ”µ</abbr></span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 464                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 464                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 465                                             mergedProperties);                                           </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 466                             if (MetadataProviderResponse.NOT_HANDLED != response) {                      </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 467                                 handled = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468                             }                                                                            </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 469                             if (MetadataProviderResponse.HANDLED_BREAK == response) {                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 470                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 472                         }                                                                                </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 473                         if (!handled) {                                                                  </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 474                             //this provider is not included in the provider list on purpose - it is designed to handle basic"> 474                             //this provider is not included in the provider list on purpose - it is desigðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""><abbr title=" 475                             //AdminPresentation fields, and those fields not admin presentation annotated at all"> 475                             //AdminPresentation fields, and those fields not admin presentation annotatedðŸ”µ</abbr></span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 476                             defaultFieldMetadataProvider.addMetadataFromFieldType(                       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 477                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 477                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 478                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,        </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 479                                             null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 479                                             null, false, 0, attributesMap, presentationAttribute, ((BasicðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 480                                             field.getType(), this), mergedProperties);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484             }                                                                                            </span>
<span  style=""> 485                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 486             return mergedProperties;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488     }                                                                                                    </span>
<span  style=""> 489                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 490     @Override                                                                                            </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 491     public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                       </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 492         Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                         </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 493         return getMergedProperties(                                                                      </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 494                 cls.getName(),                                                                           </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 495                 polymorphicTypes,                                                                        </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 496                 null,                                                                                    </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 497                 new String[] {},                                                                         </span>
<span class="-4966763439087897722" onmouseenter="enter('-4966763439087897722');" onmouseout="out('-4966763439087897722');" style=""> 498                 new ForeignKey[] {},                                                                     </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 499                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 500                 true,                                                                                    </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 501                 new String[] {},                                                                         </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 502                 new String[] {},                                                                         </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 503                 null,                                                                                    </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 504                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 505                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506     }                                                                                                    </span>
<span  style=""> 507                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 508     @Override                                                                                            </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 509     public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                               </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 510             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 511             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 512             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 513             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 514             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 515             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 516             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 517             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 518             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 519             String configurationKey,                                                                     </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 520             String prefix) {                                                                             </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 521         Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 522                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 523                 entities,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 524                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 525                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 526                 additionalForeignFields,                                                                 </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 527                 mergedPropertyType,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 528                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 529                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 530                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 531                 configurationKey,                                                                        </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 532                 new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 533                 prefix,                                                                                  </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 534                 false,                                                                                   </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 535                 &quot;&quot;);                                                                                     </span>
<span  style=""> 536                                                                                                          </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 537         final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                               </span>
<span  style=""> 538                                                                                                          </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 539         for (final String key : mergedProperties.keySet()) {                                             </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""><abbr title=" 540             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {"> 540             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded(ðŸ”µ</abbr></span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 541                 removeKeys.add(key);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 542             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 543         }                                                                                                </span>
<span  style=""> 544                                                                                                          </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 545         for (String removeKey : removeKeys) {                                                            </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 546             mergedProperties.remove(removeKey);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 547         }                                                                                                </span>
<span  style=""> 548                                                                                                          </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 549         // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 549         // Allow field metadata providers to contribute additional fields here. These latestage handlers ðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 550         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 550         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not glðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 551         // like properties gleaned from reflection typically are.                                        </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 552         Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                     </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 553         for (Class&lt;?&gt; targetClass : entities) {                                                          </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 554             for (String key : keys) {                                                                    </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 555                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 555                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass,ðŸ”µ</abbr></span>
<span  style=""> 556                                                                                                          </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 557                 boolean foundOneOrMoreHandlers = false;                                                  </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 558                 for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {             </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 559                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 559                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 560                     if (MetadataProviderResponse.NOT_HANDLED != response) {                              </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 561                         foundOneOrMoreHandlers = true;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 562                     }                                                                                    </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 563                     if (MetadataProviderResponse.HANDLED_BREAK == response) {                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 564                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 565                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 566                 }                                                                                        </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 567                 if (!foundOneOrMoreHandlers) {                                                           </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 568                     defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 569                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 570             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 571         }                                                                                                </span>
<span  style=""> 572                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 573         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574     }                                                                                                    </span>
<span  style=""> 575                                                                                                          </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 576     protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                 </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 577             final String ceilingEntityFullyQualifiedClassname,                                           </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 578             final Class&lt;?&gt;[] entities,                                                                   </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 579             final ForeignKey foreignField,                                                               </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 580             final String[] additionalNonPersistentProperties,                                            </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 581             final ForeignKey[] additionalForeignFields,                                                  </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 582             final MergedPropertyType mergedPropertyType,                                                 </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 583             final Boolean populateManyToOneFields,                                                       </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 584             final String[] includeFields,                                                                </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 585             final String[] excludeFields,                                                                </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 586             final String configurationKey,                                                               </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 587             final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                          </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 588             final String prefix,                                                                         </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 589             final Boolean isParentExcluded,                                                              </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 590             final String parentPrefix) {                                                                 </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 591         PropertyBuilder propertyBuilder = new PropertyBuilder() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 592             @Override                                                                                    </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 593             public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {               </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 594                 Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                           </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 595                 Boolean classAnnotatedPopulateManyToOneFields;                                           </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 596                 if (overridePopulateManyToOne != null) {                                                 </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 597                     classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 598                 } else {                                                                                 </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 599                     classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 600                 }                                                                                        </span>
<span  style=""> 601                                                                                                          </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 602                 buildPropertiesFromPolymorphicEntities(                                                  </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 603                     entities,                                                                            </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 604                     foreignField,                                                                        </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 605                     additionalNonPersistentProperties,                                                   </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 606                     additionalForeignFields,                                                             </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 607                     mergedPropertyType,                                                                  </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 608                     classAnnotatedPopulateManyToOneFields,                                               </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 609                     includeFields,                                                                       </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 610                     excludeFields,                                                                       </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 611                     configurationKey,                                                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 612                     ceilingEntityFullyQualifiedClassname,                                                </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 613                     mergedProperties,                                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 614                     parentClasses,                                                                       </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 615                     prefix,                                                                              </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 616                     isParentExcluded,                                                                    </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 617                     parentPrefix);                                                                       </span>
<span  style=""> 618                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 619                 return mergedProperties;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 620             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 621         };                                                                                               </span>
<span  style=""> 622                                                                                                          </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 623         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 623         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilderðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""><abbr title=" 624         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);"> 624         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedPropertiesðŸ”µ</abbr></span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 625         applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);              </span>
<span  style=""> 626                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 627         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 628     }                                                                                                    </span>
<span  style=""> 629                                                                                                          </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 630     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 630     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFieldðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 631         for (String key : mergedProperties.keySet()) {                                                   </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 632             boolean isForeign = false;                                                                   </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 633             if (foreignField != null) {                                                                  </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 634                 isForeign = foreignField.getManyToField().equals(key);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 635             }                                                                                            </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 636             if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                            </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 637                 for (ForeignKey foreignKey : additionalForeignFields) {                                  </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 638                     isForeign = foreignKey.getManyToField().equals(key);                                 </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 639                     if (isForeign) {                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 640                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 641                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 642                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 643             }                                                                                            </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 644             if (isForeign) {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 645                 FieldMetadata metadata = mergedProperties.get(key);                                      </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 646                 metadata.setExcluded(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 647             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 648         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 649     }                                                                                                    </span>
<span  style=""> 650                                                                                                          </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 651     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 651     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefixðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 652         //check includes                                                                                 </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 653         if (!ArrayUtils.isEmpty(includeFields)) {                                                        </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 654             for (String include : includeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 655                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 656                     String testKey = prefix + key;                                                       </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 657                     if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {               </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 658                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 659                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 659                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did ðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 660                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 661                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 662                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 663                         if (!isParentExcluded) {                                                         </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 664                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 664                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field apðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 665                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 666                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 668                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669             }                                                                                            </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 670         } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                 </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 671             //check excludes                                                                             </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 672             for (String exclude : excludeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 673                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 674                     String testKey = prefix + key;                                                       </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 675                     if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                  </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 676                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 677                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 677                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appeðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 678                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 679                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 680                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 681                         if (!isParentExcluded) {                                                         </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 682                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 682                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field diðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 683                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 684                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 685                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 686                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 687             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 688         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689     }                                                                                                    </span>
<span  style=""> 690                                                                                                          </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 691     protected String pad(String s, int length, char pad) {                                               </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 692         StringBuilder buffer = new StringBuilder(s);                                                     </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 693         while (buffer.length() &lt; length) {                                                               </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 694             buffer.insert(0, pad);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695         }                                                                                                </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 696         return buffer.toString();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697     }                                                                                                    </span>
<span  style=""> 698                                                                                                          </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 699     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 699     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, StðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 700         StringBuilder sb = new StringBuilder(150);                                                       </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 701         sb.append(ceilingEntityFullyQualifiedClassname);                                                 </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 702         sb.append(clazz.hashCode());                                                                     </span>
<span class="5254205421809409926" onmouseenter="enter('5254205421809409926');" onmouseout="out('5254205421809409926');" style=""> 703         sb.append(foreignField==null?&quot;&quot;:foreignField.toString());                                        </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 704         sb.append(configurationKey);                                                                     </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 705         sb.append(isParentExcluded);                                                                     </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 706         if (additionalNonPersistentProperties != null) {                                                 </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 707             for (String prop : additionalNonPersistentProperties) {                                      </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 708                 sb.append(prop);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 710         }                                                                                                </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 711         if (additionalForeignFields != null) {                                                           </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 712             for (ForeignKey key : additionalForeignFields) {                                             </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 713                 sb.append(key.toString());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 714             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 715         }                                                                                                </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 716         sb.append(mergedPropertyType);                                                                   </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 717         sb.append(populateManyToOneFields);                                                              </span>
<span  style=""> 718                                                                                                          </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 719         String digest;                                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 720         try {                                                                                            </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 721             MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                         </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 722             byte[] messageDigest = md.digest(sb.toString().getBytes());                                  </span>
<span class="-5380974963518813864" onmouseenter="enter('-5380974963518813864');" onmouseout="out('-5380974963518813864');" style=""> 723             BigInteger number = new BigInteger(1,messageDigest);                                         </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 724             digest = number.toString(16);                                                                </span>
<span class="-4215171220869553942" onmouseenter="enter('-4215171220869553942');" onmouseout="out('-4215171220869553942');" style=""> 725         } catch(NoSuchAlgorithmException e) {                                                            </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 726             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 727         }                                                                                                </span>
<span  style=""> 728                                                                                                          </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 729         String key = pad(digest, 32, &#x27;0&#x27;);                                                               </span>
<span  style=""> 730                                                                                                          </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 731         if (LOG.isDebugEnabled()) {                                                                      </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 732             LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 733         }                                                                                                </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 734         return key;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735     }                                                                                                    </span>
<span  style=""> 736                                                                                                          </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 737     protected void buildPropertiesFromPolymorphicEntities(                                               </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 738             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 739             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 740             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 741             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 742             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 743             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 744             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 745             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 746             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 747             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 748             Map&lt;String, FieldMetadata&gt; mergedProperties,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 749             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 750             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 751             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 752             String parentPrefix) {                                                                       </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 753         for (Class&lt;?&gt; clazz : entities) {                                                                </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 754             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 754             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNðŸ”µ</abbr></span>
<span  style=""> 755                                                                                                          </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 756             Map&lt;String, FieldMetadata&gt; cacheData = null;                                                 </span>
<span class="-4478904008704459763" onmouseenter="enter('-4478904008704459763');" onmouseout="out('-4478904008704459763');" style=""> 757             synchronized(DynamicDaoHelperImpl.LOCK_OBJECT) {                                             </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 758                 if (useCache()) {                                                                        </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 759                     cacheData = METADATA_CACHE.get(cacheKey);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 760                 }                                                                                        </span>
<span  style=""> 761                                                                                                          </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 762                 if (cacheData == null) {                                                                 </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 763                     Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                      </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 764                         clazz,                                                                           </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 765                         foreignField,                                                                    </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 766                         additionalNonPersistentProperties,                                               </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 767                         additionalForeignFields,                                                         </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 768                         mergedPropertyType,                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 769                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 770                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 771                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 772                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 773                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 774                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 775                         prefix,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 776                         isParentExcluded,                                                                </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 777                         parentPrefix);                                                                   </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""><abbr title=" 778                     //first check all the properties currently in there to see if my entity inherits from them"> 778                     //first check all the properties currently in there to see if my entity inherits fromðŸ”µ</abbr></span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 779                     for (Class&lt;?&gt; clazz2 : entities) {                                                   </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 780                         if (!clazz2.getName().equals(clazz.getName())) {                                 </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 781                             for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {            </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 782                                 FieldMetadata metadata = entry.getValue();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 783                                 try {                                                                    </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""><abbr title=" 784                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {"> 784                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(cðŸ”µ</abbr></span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 785                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 785                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(),ðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 786                                         metadata.setAvailableToTypes(both);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 787                                     }                                                                    </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 788                                 } catch (ClassNotFoundException e) {                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 789                                     throw new RuntimeException(e);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 790                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 791                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 792                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 793                     }                                                                                    </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 794                     METADATA_CACHE.put(cacheKey, props);                                                 </span>
<span  style=""> 795                                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 796                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 797                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 797                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKeyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 798                     }                                                                                    </span>
<span  style=""> 799                                                                                                          </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 800                     if (validateMetadataCacheSizes) {                                                    </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 801                         Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                       </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 802                         Integer currentSize = props.size();                                              </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 803                         if (previousSize == null) {                                                      </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 804                             METADATA_CACHE_SIZES.put(cacheKey, currentSize);                             </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 805                         } else if (!currentSize.equals(previousSize)) {                                  </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 806                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 806                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache ðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 807                             LOG.error(msg);                                                              </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 808                             throw new RuntimeException(msg);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 809                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 810                     }                                                                                    </span>
<span  style=""> 811                                                                                                          </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 812                     cacheData = props;                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 813                 } else {                                                                                 </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 814                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 815                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 815                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 816                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 817                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 818             }                                                                                            </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 819             //clone the metadata before passing to the system                                            </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 820             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 821             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 822                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 823             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 824             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 825         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 826     }                                                                                                    </span>
<span  style=""> 827                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 828     @Override                                                                                            </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 829     public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                  </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 830         Field[] allFields = new Field[]{};                                                               </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 831         boolean eof = false;                                                                             </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 832         Class&lt;?&gt; currentClass = targetClass;                                                             </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 833         while (!eof) {                                                                                   </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 834             Field[] fields = currentClass.getDeclaredFields();                                           </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 835             allFields = ArrayUtils.addAll(allFields, fields);                                            </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 836             if (currentClass.getSuperclass() != null) {                                                  </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 837                 currentClass = currentClass.getSuperclass();                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 838             } else {                                                                                     </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 839                 eof = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 840             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 841         }                                                                                                </span>
<span  style=""> 842                                                                                                          </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 843         return allFields;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 844     }                                                                                                    </span>
<span  style=""> 845                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 846     @Override                                                                                            </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 847     public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 848         String propertyName,                                                                             </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 849         String friendlyPropertyName,                                                                     </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 850         Class&lt;?&gt; targetClass,                                                                            </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 851         Class&lt;?&gt; parentClass,                                                                            </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 852         MergedPropertyType mergedPropertyType                                                            </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 853     ) {                                                                                                  </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 854         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 855         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 856         presentationAttribute.setFriendlyName(friendlyPropertyName);                                     </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 857         if (String.class.isAssignableFrom(targetClass)) {                                                </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 858             presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                       </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 859             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 860             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 860             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 861         } else if (Boolean.class.isAssignableFrom(targetClass)) {                                        </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 862             presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 863             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 864             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 864             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 865         } else if (Date.class.isAssignableFrom(targetClass)) {                                           </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 866             presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                         </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 867             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 868             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 868             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 869         } else if (Money.class.isAssignableFrom(targetClass)) {                                          </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 870             presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                        </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 871             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 872             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 872             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 873         } else if (                                                                                      </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 874                 Byte.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 875                 Integer.class.isAssignableFrom(targetClass) ||                                           </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 876                 Long.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 877                 Short.class.isAssignableFrom(targetClass)                                                </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 878             ) {                                                                                          </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 879             presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 880             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 881             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 881             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 882         } else if (                                                                                      </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 883                 Double.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 884                 BigDecimal.class.isAssignableFrom(targetClass)                                           </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 885             ) {                                                                                          </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 886             presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 887             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 888             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 888             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 889         }                                                                                                </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 890         ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                  </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 891         ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                  </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 892         ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                               </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 893         ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                 </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 894         ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                   </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 895         ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                               </span>
<span  style=""> 896                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 897         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 898     }                                                                                                    </span>
<span  style=""> 899                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 900     @Override                                                                                            </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 901     public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                     </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 902         return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 903     }                                                                                                    </span>
<span  style=""> 904                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 905     @Override                                                                                            </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 906     public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                         </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 907         return dynamicDaoHelper.getPropertyNames(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 908     }                                                                                                    </span>
<span  style=""> 909                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 910     @Override                                                                                            </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 911     public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                           </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 912         return dynamicDaoHelper.getPropertyTypes(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 913     }                                                                                                    </span>
<span  style=""> 914                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 915     @Override                                                                                            </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 916     public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {     </span>
<span class="5293628859698650826" onmouseenter="enter('5293628859698650826');" onmouseout="out('5293628859698650826');" style=""> 917         Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length-1]);             </span>
<span  style=""> 918                                                                                                          </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""><abbr title=" 919         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);"> 919         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entitiesðŸ”µ</abbr></span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 920         metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);       </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 921         metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);    </span>
<span  style=""> 922                                                                                                          </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 923         return mergedTabAndGroupMetadata;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 924     }                                                                                                    </span>
<span  style=""> 925                                                                                                          </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 926     public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                   </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 927         Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                          </span>
<span  style=""> 928                                                                                                          </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 929         if (ceilingEntity != null) {                                                                     </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 930             entities = ArrayUtils.add(entities, ceilingEntity);                                          </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 931             while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 932                 entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                      </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 933                 ceilingEntity = ceilingEntity.getSuperclass();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 934             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 935         }                                                                                                </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 936         return entities;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 937     }                                                                                                    </span>
<span  style=""> 938                                                                                                          </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 939     protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                    </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 940             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 941             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 942             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 943             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 944             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 945             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 946             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 947             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 948             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 949             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 950             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 951             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 952             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 953             String parentPrefix) {                                                                       </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title=" 954         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 954         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null,ðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style=""> 955         if (isParentExcluded) {                                                                          </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style=""> 956             for (String key : presentationAttributes.keySet()) {                                         </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""><abbr title=" 957                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);"> 957                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;ðŸ”µ</abbr></span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style=""> 958                 presentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 959             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 960         }                                                                                                </span>
<span  style=""> 961                                                                                                          </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style=""> 962         Map idMetadata = getIdMetadata(targetClass);                                                     </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 963         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style=""> 964         String idProperty = (String) idMetadata.get(&quot;name&quot;);                                             </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style=""> 965         List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                      </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style=""> 966         propertyNames.add(idProperty);                                                                   </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style=""> 967         Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                     </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style=""> 968         List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                        </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style=""> 969         propertyTypes.add(idType);                                                                       </span>
<span  style=""> 970                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style=""> 971         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style=""> 972         Iterator testIter = persistentClass.getPropertyIterator();                                       </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style=""> 973         List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style=""> 974                                                                                                          </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style=""> 975         //check the properties for problems                                                              </span>
<span class="-665927915203022170" onmouseenter="enter('-665927915203022170');" onmouseout="out('-665927915203022170');" style=""> 976         while(testIter.hasNext()) {                                                                      </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style=""> 977             Property property = (Property) testIter.next();                                              </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style=""> 978             if (property.getName().contains(&quot;.&quot;)) {                                                      </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title=" 979                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);"> 979                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period characðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 980             }                                                                                            </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style=""> 981             propertyList.add(property);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 982         }                                                                                                </span>
<span  style=""> 983                                                                                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style=""> 984         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style=""> 985             targetClass,                                                                                 </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 986             foreignField,                                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 987             additionalForeignFields,                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 988             additionalNonPersistentProperties,                                                           </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 989             mergedPropertyType,                                                                          </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style=""> 990             presentationAttributes,                                                                      </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style=""> 991             propertyList,                                                                                </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style=""> 992             fields,                                                                                      </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style=""> 993             propertyNames,                                                                               </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style=""> 994             propertyTypes,                                                                               </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style=""> 995             idProperty,                                                                                  </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 996             populateManyToOneFields,                                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 997             includeFields,                                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 998             excludeFields,                                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 999             configurationKey,                                                                            </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1000             ceilingEntityFullyQualifiedClassname,                                                        </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1001             parentClasses,                                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1002             prefix,                                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1003             isParentExcluded,                                                                            </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1004             false,                                                                                       </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1005             parentPrefix                                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1006         );                                                                                               </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1007         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1008         presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                           </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1009         presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                  </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1010         if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                    </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1011             Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                     </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1012             for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {           </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1013                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1013                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersisteðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1014                     String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;          </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1015                     //get final property if this is a dot delimited property                             </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1016                     int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                  </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1017                     if (finalDotPos &gt;= 0) {                                                              </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1018                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1018                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1019                     }                                                                                    </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style=""><abbr title="1020                     //check all the polymorphic types on this target class to see if the end property exists">1020                     //check all the polymorphic types on this target class to see if the end property exiðŸ”µ</abbr></span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1021                     Field testField = null;                                                              </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1022                     Method testMethod = null;                                                            </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1023                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1024                         try {                                                                            </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1025                             testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);             </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1026                             if (testMethod != null) {                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1027                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1028                             }                                                                            </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1029                         } catch (NoSuchMethodException e) {                                              </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1030                             //do nothing - method does not exist                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1031                         }                                                                                </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1032                         testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);</span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1033                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1034                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1035                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1036                     }                                                                                    </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1037                     //if the property exists, add it to the metadata for this class                      </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1038                     if (testField != null || testMethod != null) {                                       </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1039                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1039                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, addðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1040                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1041                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1042             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1043         }                                                                                                </span>
<span  style="">1044                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1045         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1046     }                                                                                                    </span>
<span  style="">1047                                                                                                          </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1048     protected void buildProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1049             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1050             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1051             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1052             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1053             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1054             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1055             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1056             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1057             List&lt;String&gt; propertyNames,                                                                  </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1058             List&lt;Type&gt; propertyTypes,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1059             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1060             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1061             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1062             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1063             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1064             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1065             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1066             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1067             Boolean isParentExcluded,                                                                    </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1068             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1069             String parentPrefix) {                                                                       </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1070         int j = 0;                                                                                       </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1071         Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1072             @Override                                                                                    </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1073             public int compare(String o1, String o2) {                                                   </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1074                 //check for property name equality and for map field properties                          </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1075                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1075                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(ðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1076                     return 0;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1077                 }                                                                                        </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1078                 return o1.compareTo(o2);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1079             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1080         };                                                                                               </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1081         List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());             </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1082         Collections.sort(presentationKeyList);                                                           </span>
<span  style="">1083                                                                                                          </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1084         for (String propertyName : propertyNames) {                                                      </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1085             final Type type = propertyTypes.get(j);                                                      </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1086             boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);      </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1087             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1087             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFieldsðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1088             j++;                                                                                         </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1089             Field myField = getFieldManager().getField(targetClass, propertyName);                       </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1090             if (myField == null) {                                                                       </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1091                 //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1091                 //try to get the field with the prefix - needed for advanced collections that appear in @ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1092                 myField = getFieldManager().getField(targetClass, prefix + propertyName);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1093             }                                                                                            </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1094             if (                                                                                         </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1095                     !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                     </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1096                     isPropertyForeignKey ||                                                              </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1097                     additionalForeignKeyIndexPosition &gt;= 0 ||                                            </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style="">1098                     Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1099             ) {                                                                                          </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1100                 if (myField != null) {                                                                   </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1101                     boolean handled = false;                                                             </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1102                     for (FieldMetadataProvider provider : fieldMetadataProviders) {                      </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1103                         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);  </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1104                         if (presentationAttribute != null) {                                             </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1105                             setExcludedBasedOnShowIfProperty(presentationAttribute);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1106                         }                                                                                </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1107                         MetadataProviderResponse response = provider.addMetadataFromFieldType(           </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1108                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1108                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, aðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1109                                         mergedPropertyType, componentProperties, idProperty, prefix,     </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1110                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1110                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1111                                         presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1111                                         presentationAttributes, presentationAttribute, null, type.getRetuðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1112                         if (MetadataProviderResponse.NOT_HANDLED != response) {                          </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1113                             handled = true;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1114                         }                                                                                </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1115                         if (MetadataProviderResponse.HANDLED_BREAK == response) {                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1116                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1117                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1118                     }                                                                                    </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1119                     if (!handled) {                                                                      </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1120                         buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,  </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style=""><abbr title="1121                             additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,">1121                             additionalNonPersistentProperties, mergedPropertyType, presentationAttributesðŸ”µ</abbr></span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style=""><abbr title="1122                             componentProperties, fields, idProperty, populateManyToOneFields, includeFields,">1122                             componentProperties, fields, idProperty, populateManyToOneFields, includeFielðŸ”µ</abbr></span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1123                             excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1123                             excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1124                             prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1124                             prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionaðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1125                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1126                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1127             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1128         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1129     }                                                                                                    </span>
<span  style="">1130                                                                                                          </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1131     public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                          </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1132         setExcludedBasedOnShowIfProperty(presentationAttribute);                                         </span>
<span  style="">1133                                                                                                          </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1134         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1134         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presenðŸ”µ</abbr></span>
<span  style="">1135                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1136     }                                                                                                    </span>
<span  style="">1137                                                                                                          </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1138     protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                       </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1139         if (fieldMetadata != null                                                                        </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1140             &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                                 </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1141             &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                     </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1142             &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {        </span>
<span  style="">1143                                                                                                          </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1144             //do not include this in the display if it returns false.                                    </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1145             fieldMetadata.setExcluded(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1146         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1147     }                                                                                                    </span>
<span  style="">1148                                                                                                          </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1149     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1149     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyNðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1150                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1150                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponðŸ”µ</abbr></span>
<span  style="">1151                                                                                                          </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1152         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1152         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1153                 ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                </span>
<span  style="">1154                                                                                                          </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1155         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1155         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isCompoðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1156                 parentPrefix, propertyName);                                                             </span>
<span  style="">1157                                                                                                          </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1158         return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1159     }                                                                                                    </span>
<span  style="">1160                                                                                                          </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1161     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1161     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String ðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1162         return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1163     }                                                                                                    </span>
<span  style="">1164                                                                                                          </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1165     protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String  </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1166             propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean     </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1167             isComponentPrefix) {                                                                         </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1168         Boolean response = false;                                                                        </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1169         //don&#x27;t want to shun a self-referencing property in an @Embeddable                               </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1170         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1170         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).lðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1171         if (shouldTest) {                                                                                </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1172             Field testField = getFieldManager().getField(targetClass, propertyName);                     </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1173             if (testField == null) {                                                                     </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1174                 Class&lt;?&gt;[] entities;                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1175                 try {                                                                                    </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1176                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1176                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualiðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1177                 } catch (ClassNotFoundException e) {                                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1178                     throw new RuntimeException(e);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1179                 }                                                                                        </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1180                 for (Class&lt;?&gt; clazz : entities) {                                                        </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1181                     testField = getFieldManager().getField(clazz, propertyName);                         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1182                     if (testField != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1183                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1184                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1185                 }                                                                                        </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1186                 String testProperty = prefix + propertyName;                                             </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1187                 if (testField == null) {                                                                 </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1188                     testField = getFieldManager().getField(targetClass, testProperty);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1189                 }                                                                                        </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1190                 if (testField == null) {                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1191                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1192                         testField = getFieldManager().getField(clazz, testProperty);                     </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1193                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1194                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1195                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1196                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1197                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1198             }                                                                                            </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1199             response = determineExclusionForField(parentClasses, targetClass, testField);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1200         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1201         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1202     }                                                                                                    </span>
<span  style="">1203                                                                                                          </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1204     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1204     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, FielðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1205         Boolean response = false;                                                                        </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1206         if (testField != null) {                                                                         </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1207             Class&lt;?&gt; testType = testField.getType();                                                     </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1208             for (Class&lt;?&gt; parentClass : parentClasses) {                                                 </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1209                 if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {  </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1210                     response = true;                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1211                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1212                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1213             }                                                                                            </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style=""><abbr title="1214             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {">1214             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetCðŸ”µ</abbr></span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1215                 response = true;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1216             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1217         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1218         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1219     }                                                                                                    </span>
<span  style="">1220                                                                                                          </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1221     protected void buildBasicProperty(                                                                   </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1222             Field field,                                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1223             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1224             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1225             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1226             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1227             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1228             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1229             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1230             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1231             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1232             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1233             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1234             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1235             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1236             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1237             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1238             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1239             Boolean isParentExcluded,                                                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1240             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1241             Type type,                                                                                   </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1242             boolean propertyForeignKey,                                                                  </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1243             int additionalForeignKeyIndexPosition,                                                       </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1244             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1245             String parentPrefix) {                                                                       </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1246         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                  </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1247         Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);         </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1248         Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,  </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1249             ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                      </span>
<span  style="">1250                                                                                                          </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1251         SupportedFieldType explicitType = null;                                                          </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1252         if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {      </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1253             explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1254         }                                                                                                </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1255         Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                </span>
<span class="15802144221223394" onmouseenter="enter('15802144221223394');" onmouseout="out('15802144221223394');" style="">1256         checkProp: {                                                                                     </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1257             if (type.isComponentType() &amp;&amp; includeField) {                                                </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1258                 buildComponentProperties(                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1259                     targetClass,                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1260                     foreignField,                                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1261                     additionalForeignFields,                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1262                     additionalNonPersistentProperties,                                                   </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1263                     mergedPropertyType,                                                                  </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1264                     fields,                                                                              </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1265                     idProperty,                                                                          </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1266                     populateManyToOneFields,                                                             </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1267                     includeFields,                                                                       </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1268                     excludeFields,                                                                       </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1269                     configurationKey,                                                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1270                     ceilingEntityFullyQualifiedClassname,                                                </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1271                     propertyName,                                                                        </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1272                     type,                                                                                </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1273                     returnedClass,                                                                       </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1274                     parentClasses,                                                                       </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1275                     amIExcluded,                                                                         </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1276                     prefix,                                                                              </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1277                         parentPrefix);                                                                   </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1278                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1279             }                                                                                            </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1280             /*                                                                                           </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1281              * Currently we do not support ManyToOne fields whose class type is the same                 </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1282              * as the target type, since this forms an infinite loop and will cause a stack overflow.    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1283              */                                                                                          </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1284             if (                                                                                         </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1285                 type.isEntityType() &amp;&amp;                                                                   </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1286                 !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                                          </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1287                 populateManyToOneFields &amp;&amp;                                                               </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1288                 includeField                                                                             </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1289             ) {                                                                                          </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1290                 buildEntityProperties(                                                                   </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1291                     fields,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1292                     foreignField,                                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1293                     additionalForeignFields,                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1294                     additionalNonPersistentProperties,                                                   </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1295                     populateManyToOneFields,                                                             </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1296                     includeFields,                                                                       </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1297                     excludeFields,                                                                       </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1298                     configurationKey,                                                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1299                     ceilingEntityFullyQualifiedClassname,                                                </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1300                     propertyName,                                                                        </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1301                     returnedClass,                                                                       </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1302                     targetClass,                                                                         </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1303                     parentClasses,                                                                       </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1304                     prefix,                                                                              </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1305                     amIExcluded,                                                                         </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1306                     parentPrefix                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1307                 );                                                                                       </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1308                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1309             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1310         }                                                                                                </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1311         //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key</span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1312         if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {              </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1313             defaultFieldMetadataProvider.addMetadataFromFieldType(                                       </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style=""><abbr title="1314                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,">1314                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeiðŸ”µ</abbr></span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style=""><abbr title="1315                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,">1315                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, tyðŸ”µ</abbr></span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style=""><abbr title="1316                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,">1316                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributesðŸ”µ</abbr></span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1317                             presentationAttribute, explicitType, returnedClass, this), fields);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1318         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1319     }                                                                                                    </span>
<span  style="">1320                                                                                                          </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1321     protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) { </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1322         boolean isPropertyForeignKey = false;                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1323         if (foreignField != null) {                                                                      </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1324             isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1325         }                                                                                                </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1326         return isPropertyForeignKey;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1327     }                                                                                                    </span>
<span  style="">1328                                                                                                          </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1329     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1329     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, StriðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1330         int additionalForeignKeyIndexPosition = -1;                                                      </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1331         if (additionalForeignFields != null) {                                                           </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1332             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1332             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1333                 @Override                                                                                </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1334                 public int compare(ForeignKey o1, ForeignKey o2) {                                       </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1335                     return o1.getManyToField().compareTo(o2.getManyToField());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1336                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1337             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1338         }                                                                                                </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1339         return additionalForeignKeyIndexPosition;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1340     }                                                                                                    </span>
<span  style="">1341                                                                                                          </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1342     protected void buildEntityProperties(                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1343             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1344             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1345             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1346             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1347             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1348             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1349             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1350             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1351             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1352             String propertyName,                                                                         </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1353             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1354             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1355             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1356             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1357             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1358             String parentPrefix) {                                                                       </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1359         Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);            </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1360         List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                          </span>
<span  style="">1361                                                                                                          </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1362         for (Class&lt;?&gt; parentClass : parentClasses) {                                                     </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1363             clonedParentClasses.add(parentClass);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1364         }                                                                                                </span>
<span  style="">1365                                                                                                          </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1366         clonedParentClasses.add(targetClass);                                                            </span>
<span  style="">1367                                                                                                          </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1368         Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                           </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1369             ceilingEntityFullyQualifiedClassname,                                                        </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1370             polymorphicEntities,                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1371             foreignField,                                                                                </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1372             additionalNonPersistentProperties,                                                           </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1373             additionalForeignFields,                                                                     </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1374             MergedPropertyType.PRIMARY,                                                                  </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1375             populateManyToOneFields,                                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1376             includeFields,                                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1377             excludeFields,                                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1378             configurationKey,                                                                            </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1379             clonedParentClasses,                                                                         </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1380             prefix + propertyName + &#x27;.&#x27;,                                                                 </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1381             isParentExcluded,                                                                            </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1382             parentPrefix);                                                                               </span>
<span  style="">1383                                                                                                          </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1384         final String targetClassName = targetClass.getName();                                            </span>
<span  style="">1385                                                                                                          </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1386         for (FieldMetadata newMetadata : newFields.values()) {                                           </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1387             newMetadata.setInheritedFromType(targetClassName);                                           </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1388             newMetadata.setAvailableToTypes(new String[]{targetClassName});                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1389         }                                                                                                </span>
<span  style="">1390                                                                                                          </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1391         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                    </span>
<span  style="">1392                                                                                                          </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1393         for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                         </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1394             final FieldMetadata fieldMetadata = newField.getValue();                                     </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1395             final String key = newField.getKey();                                                        </span>
<span  style="">1396                                                                                                          </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1397             convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                </span>
<span  style="">1398                                                                                                          </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1399             if (fieldMetadata instanceof BasicFieldMetadata) {                                           </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1400                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1400                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1401                     Class&lt;?&gt; validatorImpl = null;                                                       </span>
<span  style="">1402                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1403                     try {                                                                                </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1404                         validatorImpl = Class.forName(validationConfigurations.getKey());                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1405                     } catch (ClassNotFoundException e) {                                                 </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1406                         Object bean = applicationContext.getBean(validationConfigurations.getKey());     </span>
<span  style="">1407                                                                                                          </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1408                         if (bean != null) {                                                              </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1409                             validatorImpl = bean.getClass();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1410                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1411                     }                                                                                    </span>
<span  style="">1412                                                                                                          </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1413                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1413                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validaðŸ”µ</abbr></span>
<span class="6499969559533890178" onmouseenter="enter('6499969559533890178');" onmouseout="out('6499969559533890178');" style="">1414                         for (Map&lt;String, String&gt; configs  : validationConfigurations.getValue()) {       </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1415                             for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1416                                 final String value = config.getValue();                                  </span>
<span  style="">1417                                                                                                          </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1418                                 if (newFields.containsKey(value)) {                                      </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1419                                     config.setValue(propertyName + &quot;.&quot; + value);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1420                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1421                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1422                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1423                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1424                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1425             }                                                                                            </span>
<span  style="">1426                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1427             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1428                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1429             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1430         }                                                                                                </span>
<span  style="">1431                                                                                                          </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1432         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1433     }                                                                                                    </span>
<span  style="">1434                                                                                                          </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1435     protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                        </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1436         return fieldMetadata instanceof BasicCollectionMetadata                                          </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1437                &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1437                &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePeðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1438                &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1438                &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1439     }                                                                                                    </span>
<span  style="">1440                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1441     /*                                                                                                   </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1442      * There may be multiple pathways to this foreign key which may have come from a cached source.      </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1443      * Since ForeignKey contains an originating field concept that is occurrence specific, we need       </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1444      * to make sure it is set appropriately here.                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1445      *                                                                                                   </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1446      * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                         </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1447      * owningSite.embeddableMultitenantSite.adminUsers.                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1448      */                                                                                                  </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1449     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1449     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1450         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1450         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePersðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1451         foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1452     }                                                                                                    </span>
<span  style="">1453                                                                                                          </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1454     protected void buildComponentProperties(                                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1455             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1456             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1457             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1458             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1459             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1460             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1461             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1462             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1463             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1464             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1465             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1466             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1467             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1468             Type type,                                                                                   </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1469             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1470             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1471             Boolean isParentExcluded,                                                                    </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1472             String prefix,                                                                               </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1473             String parentPrefix) {                                                                       </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1474         String[] componentProperties = ((ComponentType) type).getPropertyNames();                        </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1475         List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                        </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1476         Type[] componentTypes = ((ComponentType) type).getSubtypes();                                    </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1477         List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                               </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1478         String tempPrefix = &quot;&quot;;                                                                          </span>
<span  style="">1479                                                                                                          </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1480         int pos = prefix.indexOf(&quot;.&quot;);                                                                   </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1481         final int prefixLength = prefix.length();                                                        </span>
<span  style="">1482                                                                                                          </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1483         if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                         </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1484             //only use part of the prefix if it&#x27;s more than one layer deep                               </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1485             tempPrefix = prefix.substring(pos + 1, prefixLength);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1486         }                                                                                                </span>
<span  style="">1487                                                                                                          </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1488         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1488         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClðŸ”µ</abbr></span>
<span  style="">1489                                                                                                          </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1490         if (isParentExcluded) {                                                                          </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1491             for (String key : componentPresentationAttributes.keySet()) {                                </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style=""><abbr title="1492                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);">1492                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excludedðŸ”µ</abbr></span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1493                 componentPresentationAttributes.get(key).setExcluded(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1494             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1495         }                                                                                                </span>
<span  style="">1496                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1497         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1498         Property property;                                                                               </span>
<span  style="">1499                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1500         try {                                                                                            </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1501             property = persistentClass.getProperty(propertyName);                                        </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1502         } catch (MappingException e) {                                                                   </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1503             property = persistentClass.getProperty(prefix + propertyName);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1504         }                                                                                                </span>
<span  style="">1505                                                                                                          </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1506         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1506         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1507         List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                        </span>
<span  style="">1508                                                                                                          </span>
<span class="-2689271164948138423" onmouseenter="enter('-2689271164948138423');" onmouseout="out('-2689271164948138423');" style="">1509         while(componentPropertyIterator.hasNext()) {                                                     </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1510             componentPropertyList.add((Property) componentPropertyIterator.next());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1511         }                                                                                                </span>
<span  style="">1512                                                                                                          </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1513         Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1514         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1515             targetClass,                                                                                 </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1516             foreignField,                                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1517             additionalForeignFields,                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1518             additionalNonPersistentProperties,                                                           </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1519             mergedPropertyType,                                                                          </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1520             componentPresentationAttributes,                                                             </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1521             componentPropertyList,                                                                       </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1522             newFields,                                                                                   </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1523             componentPropertyNames,                                                                      </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1524             componentPropertyTypes,                                                                      </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1525             idProperty,                                                                                  </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1526             populateManyToOneFields,                                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1527             includeFields,                                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1528             excludeFields,                                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1529             configurationKey,                                                                            </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1530             ceilingEntityFullyQualifiedClassname,                                                        </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1531             parentClasses,                                                                               </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1532             propertyName + &quot;.&quot;,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1533             isParentExcluded,                                                                            </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1534             true,                                                                                        </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1535             parentPrefix + prefix                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1536         );                                                                                               </span>
<span  style="">1537                                                                                                          </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1538         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                    </span>
<span  style="">1539                                                                                                          </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1540         for (String key : newFields.keySet()) {                                                          </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1541             final FieldMetadata fieldMetadata = newFields.get(key);                                      </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1542             convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                </span>
<span  style="">1543                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1544             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1545                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1546             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1547         }                                                                                                </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1548         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1549     }                                                                                                    </span>
<span  style="">1550                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1551     @Override                                                                                            </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1552     public EntityManager getStandardEntityManager() {                                                    </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1553         return standardEntityManager;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1554     }                                                                                                    </span>
<span  style="">1555                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1556     @Override                                                                                            </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1557     public void setStandardEntityManager(EntityManager entityManager) {                                  </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1558         this.standardEntityManager = entityManager;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1559     }                                                                                                    </span>
<span  style="">1560                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1561     @Override                                                                                            </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="">1562     public FieldManager getFieldManager(boolean cleanFieldManager) {                                     </span>
<span class="-7708462308818149765" onmouseenter="enter('-7708462308818149765');" onmouseout="out('-7708462308818149765');" style="">1563         return new FieldManager(entityConfiguration, getStandardEntityManager());                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1564     }                                                                                                    </span>
<span  style="">1565                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1566     @Override                                                                                            </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1567     public EntityConfiguration getEntityConfiguration() {                                                </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1568         return entityConfiguration;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1569     }                                                                                                    </span>
<span  style="">1570                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1571     @Override                                                                                            </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1572     public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                        </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1573         this.entityConfiguration = entityConfiguration;                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1574     }                                                                                                    </span>
<span  style="">1575                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1576     @Override                                                                                            </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1577     public Metadata getMetadata() {                                                                      </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1578         return metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1579     }                                                                                                    </span>
<span  style="">1580                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1581     @Override                                                                                            </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1582     public void setMetadata(Metadata metadata) {                                                         </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1583         this.metadata = metadata;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1584     }                                                                                                    </span>
<span  style="">1585                                                                                                          </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1586     public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                     </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1587         return fieldMetadataProviders;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1588     }                                                                                                    </span>
<span  style="">1589                                                                                                          </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1590     public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {          </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1591         this.fieldMetadataProviders = fieldMetadataProviders;                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1592     }                                                                                                    </span>
<span  style="">1593                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1594     @Override                                                                                            </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1595     public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                     </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1596         return defaultFieldMetadataProvider;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1597     }                                                                                                    </span>
<span  style="">1598                                                                                                          </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1599     public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {    </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1600         this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1601     }                                                                                                    </span>
<span  style="">1602                                                                                                          </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1603     protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                   </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1604         return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1605     }                                                                                                    </span>
<span  style="">1606                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1607     @Override                                                                                            </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1608     public DynamicDaoHelper getDynamicDaoHelper() {                                                      </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1609         return dynamicDaoHelper;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1610     }                                                                                                    </span>
<span  style="">1611                                                                                                          </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1612     public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                 </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1613         this.dynamicDaoHelper = dynamicDaoHelper;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1614     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1615 }                                                                                                        </span>













































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3   * BroadleafCommerce Open Admin Platform                                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18  package org.broadleafcommerce.openadmin.server.dao;                                                               </span>
<span  style="">  19                                                                                                                    </span>
<span  style="">  20                                                                                                                    </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21  import org.apache.commons.collections4.map.LRUMap;                                                                </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22  import org.apache.commons.lang.StringUtils;                                                                       </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23  import org.apache.commons.lang3.ArrayUtils;                                                                       </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24  import org.apache.commons.logging.Log;                                                                            </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25  import org.apache.commons.logging.LogFactory;                                                                     </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26  import org.broadleafcommerce.common.money.Money;                                                                  </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28  import org.broadleafcommerce.common.persistence.Status;                                                           </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29  import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                          </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30  import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                           </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31  import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                                       </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32  import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                           </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33  import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                                    </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34  import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                                </span>
<span class="-6402075427566847355" onmouseenter="enter('-6402075427566847355');" onmouseout="out('-6402075427566847355');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -import org.broadleafcommerce.common.util.dao.EJB3ConfigurationDao;                                                </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                            </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  37  import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                               </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  38  import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                                    </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  39  import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                         </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  40  import org.broadleafcommerce.openadmin.dto.ClassTree;                                                             </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  41  import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                         </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  42  import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                            </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  43  import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                                    </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  44  import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                                </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  45  import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                           </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  46  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;                        </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style="">  47  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;      </span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  48  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest;          </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  49  import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                            </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  50  import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator;          </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  51  import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                              </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  52  import org.hibernate.Criteria;                                                                                    </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  53  import org.hibernate.MappingException;                                                                            </span>
<span class="3384414139931576142" onmouseenter="enter('3384414139931576142');" onmouseout="out('3384414139931576142');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -import org.hibernate.SessionFactory;                                                                              </span>
<span class="-582519941885656893" onmouseenter="enter('-582519941885656893');" onmouseout="out('-582519941885656893');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -import org.hibernate.ejb.HibernateEntityManager;                                                                  </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +import org.hibernate.Session;                                                                                     </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  57  import org.hibernate.mapping.PersistentClass;                                                                     </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  58  import org.hibernate.mapping.Property;                                                                            </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  59  import org.hibernate.type.ComponentType;                                                                          </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  60  import org.hibernate.type.Type;                                                                                   </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  61  import org.springframework.beans.BeansException;                                                                  </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  62  import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                           </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  63  import org.springframework.beans.factory.annotation.Value;                                                        </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  64  import org.springframework.context.ApplicationContext;                                                            </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  65  import org.springframework.context.ApplicationContextAware;                                                       </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  66  import org.springframework.context.annotation.Scope;                                                              </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  67  import org.springframework.core.annotation.AnnotationUtils;                                                       </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  68  import org.springframework.stereotype.Component;                                                                  </span>
<span  style="">  69                                                                                                                    </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  70  import java.io.Serializable;                                                                                      </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  71  import java.lang.reflect.Field;                                                                                   </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  72  import java.lang.reflect.Method;                                                                                  </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  73  import java.lang.reflect.Modifier;                                                                                </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  74  import java.math.BigDecimal;                                                                                      </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  75  import java.math.BigInteger;                                                                                      </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  76  import java.security.MessageDigest;                                                                               </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  77  import java.security.NoSuchAlgorithmException;                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  78  import java.util.ArrayList;                                                                                       </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  79  import java.util.Arrays;                                                                                          </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  80  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  81  import java.util.Comparator;                                                                                      </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  82  import java.util.Date;                                                                                            </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  83  import java.util.HashMap;                                                                                         </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  84  import java.util.HashSet;                                                                                         </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  85  import java.util.Iterator;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  86  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  87  import java.util.Map;                                                                                             </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  88  import java.util.Set;                                                                                             </span>
<span  style="">  89                                                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  90  import javax.annotation.Nonnull;                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  91  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  92  import javax.persistence.EntityManager;                                                                           </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  93  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  94  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  95  import javax.persistence.criteria.Path;                                                                           </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  96  import javax.persistence.criteria.Predicate;                                                                      </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  97  import javax.persistence.criteria.Root;                                                                           </span>
<span  style="">  98                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  99  /**                                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 100   *                                                                                                                </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style=""> 101   * @author jfischer                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 102   *                                                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 103   */                                                                                                               </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style=""> 104  @Component(&quot;blDynamicEntityDao&quot;)                                                                                  </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 105  @Scope(&quot;prototype&quot;)                                                                                               </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 106  public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                          </span>
<span  style=""> 107                                                                                                                    </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 108      private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                                 </span>
<span  style=""> 109                                                                                                                    </span>
<span class="6868700167988641076" onmouseenter="enter('6868700167988641076');" onmouseout="out('6868700167988641076');" style=""> 110      protected static final Map&lt;String,Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);            </span>

<span  style=""> 111                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 112      /**                                                                                                           </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 113       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 113       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cacheðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 114       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 114       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 115       * counts in METADATA_CACHE as a result of cache eviction                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 116       */                                                                                                           </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 117      protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                           </span>
<span  style=""> 118                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 119      /*                                                                                                            </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 120       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 120       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or ðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 121       * from polymorphism                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 122       */                                                                                                           </span>
<span  style=""> 123                                                                                                                    </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 124      protected EntityManager standardEntityManager;                                                                </span>
<span  style=""> 125                                                                                                                    </span>
<span class="-1756921446444913157" onmouseenter="enter('-1756921446444913157');" onmouseout="out('-1756921446444913157');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 126 -    protected EJB3ConfigurationDao ejb3ConfigurationDao;                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 127 -                                                                                                                  </span>
<span class="1233233002335873562" onmouseenter="enter('1233233002335873562');" onmouseout="out('1233233002335873562');" style=""> 128      @Resource(name=&quot;blMetadata&quot;)                                                                                  </span>

<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 129      protected Metadata metadata;                                                                                  </span>
<span  style=""> 130                                                                                                                    </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style=""> 131      @Resource(name=&quot;blEntityConfiguration&quot;)                                                                       </span>

<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 132      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style=""> 133                                                                                                                    </span>
<span class="-7705979847401793504" onmouseenter="enter('-7705979847401793504');" onmouseout="out('-7705979847401793504');" style=""> 134      @Resource(name=&quot;blFieldMetadataProviders&quot;)                                                                    </span>

<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 135      protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                             </span>
<span  style=""> 136                                                                                                                    </span>
<span class="-6161973747859802400" onmouseenter="enter('-6161973747859802400');" onmouseout="out('-6161973747859802400');" style=""> 137      @Resource(name= &quot;blDefaultFieldMetadataProvider&quot;)                                                             </span>

<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 138      protected FieldMetadataProvider defaultFieldMetadataProvider;                                                 </span>
<span  style=""> 139                                                                                                                    </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 140      @Resource(name = &quot;blAppConfigurationMap&quot;)                                                                     </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 141      protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                                       </span>
<span  style=""> 142                                                                                                                    </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 143      protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                                     </span>
<span  style=""> 144                                                                                                                    </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 145      @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                                    </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 146      protected int cacheEntityMetaDataTtl;                                                                         </span>
<span  style=""> 147                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 148      /**                                                                                                           </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""> 149       * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 150       */                                                                                                           </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 151      @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                              </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 152      protected boolean validateMetadataCacheSizes;                                                                 </span>
<span  style=""> 153                                                                                                                    </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 154      protected long lastCacheFlushTime = System.currentTimeMillis();                                               </span>
<span  style=""> 155                                                                                                                    </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 156      protected ApplicationContext applicationContext;                                                              </span>
<span  style=""> 157                                                                                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 158 -                                                                                                                  </span>
<span class="406787344558334895" onmouseenter="enter('406787344558334895');" onmouseout="out('406787344558334895');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 159 -    protected FieldManager fieldManager;                                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 160 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161      @Override                                                                                                     </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 162      public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {              </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 163          this.applicationContext = applicationContext;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164      }                                                                                                             </span>
<span  style=""> 165                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166      @Override                                                                                                     </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 167      public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                                        </span>
<span class="-4852732082818110891" onmouseenter="enter('-4852732082818110891');" onmouseout="out('-4852732082818110891');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 168 -        return ((HibernateEntityManager) getStandardEntityManager()).getSession().createCriteria(entityClass);    </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +        return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170      }                                                                                                             </span>
<span  style=""> 171                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 172      @Override                                                                                                     </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 173      public &lt;T&gt; T persist(T entity) {                                                                              </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 174          standardEntityManager.persist(entity);                                                                    </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 175          standardEntityManager.flush();                                                                            </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 176          return entity;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177      }                                                                                                             </span>
<span  style=""> 178                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 179      @Override                                                                                                     </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 180      public Object find(Class&lt;?&gt; entityClass, Object key) {                                                        </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 181          return standardEntityManager.find(entityClass, key);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182      }                                                                                                             </span>
<span  style=""> 183                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 184      @Override                                                                                                     </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 185      public &lt;T&gt; T merge(T entity) {                                                                                </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 186          T response = standardEntityManager.merge(entity);                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 187          standardEntityManager.flush();                                                                            </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 188          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189      }                                                                                                             </span>
<span  style=""> 190                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 191      @Override                                                                                                     </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 192      public void flush() {                                                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 193          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194      }                                                                                                             </span>
<span  style=""> 195                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196      @Override                                                                                                     </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 197      public void detach(Serializable entity) {                                                                     </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 198          standardEntityManager.detach(entity);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span  style=""> 200                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 201      @Override                                                                                                     </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 202      public void refresh(Serializable entity) {                                                                    </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 203          standardEntityManager.refresh(entity);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204      }                                                                                                             </span>
<span  style=""> 205                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206      @Override                                                                                                     </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 207      public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                                       </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 208          return (Serializable) standardEntityManager.find(entityClass, primaryKey);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209      }                                                                                                             </span>
<span  style=""> 210                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 211      @Override                                                                                                     </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 212      public void remove(Serializable entity) {                                                                     </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 213          standardEntityManager.remove(entity);                                                                     </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 214          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215      }                                                                                                             </span>
<span  style=""> 216                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217      @Override                                                                                                     </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 218      public void clear() {                                                                                         </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 219          standardEntityManager.clear();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220      }                                                                                                             </span>
<span  style=""> 221                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222      @Override                                                                                                     </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 223      public PersistentClass getPersistentClass(String targetClassName) {                                           </span>
<span class="1094697429742600857" onmouseenter="enter('1094697429742600857');" onmouseout="out('1094697429742600857');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 224 -        return ejb3ConfigurationDao.getConfiguration().getClassMapping(targetClassName);                          </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +        return HibernateMappingProvider.getMapping(targetClassName);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226      }                                                                                                             </span>
<span  style=""> 227                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 228      @Override                                                                                                     </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 229      public boolean useCache() {                                                                                   </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 230          if (cacheEntityMetaDataTtl &lt; 0) {                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 231              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232          }                                                                                                         </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 233          if (cacheEntityMetaDataTtl == 0) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 234              return false;                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 235          } else {                                                                                                  </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 236              if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {                     </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 237                  lastCacheFlushTime = System.currentTimeMillis();                                                  </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 238                  METADATA_CACHE.clear();                                                                           </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 239                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                            </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 240                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                              </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 241                  LOG.trace(&quot;Metadata cache evicted&quot;);                                                              </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 242                  return true; // cache is empty                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 243              } else {                                                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 244                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247      }                                                                                                             </span>
<span  style=""> 248                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 249      @Override                                                                                                     </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 250      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                               </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 251          return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252      }                                                                                                             </span>
<span  style=""> 253                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 254      @Override                                                                                                     </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 255      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 255      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymoðŸ”µ</abbr></span>
<span class="4836995963037146830" onmouseenter="enter('4836995963037146830');" onmouseout="out('4836995963037146830');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 256 -        return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, getSessionFactory(),           </span>
<span class="-2127426056034239365" onmouseenter="enter('-2127426056034239365');" onmouseout="out('-2127426056034239365');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 257 -            includeUnqualifiedPolymorphicEntities, useCache());                                                   </span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 258 +        return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 258 +        return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEnðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259      }                                                                                                             </span>
<span  style=""> 260                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 261      @Override                                                                                                     </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 262      public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                                  </span>
<span class="4314171543758543887" onmouseenter="enter('4314171543758543887');" onmouseout="out('4314171543758543887');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 263 -        return dynamicDaoHelper.getUpDownInheritance(testClass, getSessionFactory(), true, useCache(), ejb3ConfigurationDao);"> 263 -        return dynamicDaoHelper.getUpDownInheritance(testClass, getSessionFactory(), true, useCache(), ejb3ConfiguðŸ”µ</abbr></span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 264 +        return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265      }                                                                                                             </span>
<span  style=""> 266                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267      @Override                                                                                                     </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 268      public Class&lt;?&gt; getImplClass(String className) {                                                              </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 269          Class&lt;?&gt; clazz = null;                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 270          try {                                                                                                     </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 271              clazz = entityConfiguration.lookupEntityClass(className);                                             </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 272          } catch (NoSuchBeanDefinitionException e) {                                                               </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 273              //do nothing                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274          }                                                                                                         </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 275          if (clazz == null) {                                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 276              try {                                                                                                 </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 277                  clazz = Class.forName(className);                                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 278              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 279                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280              }                                                                                                     </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 281              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282          }                                                                                                         </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 283          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284      }                                                                                                             </span>
<span  style=""> 285                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 286      @Override                                                                                                     </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 287      public Class&lt;?&gt; getCeilingImplClass(String className) {                                                       </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 288          Class&lt;?&gt; clazz;                                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 289          try {                                                                                                     </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 290              clazz = Class.forName(className);                                                                     </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 291          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 292              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293          }                                                                                                         </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 294          Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                       </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 295          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 296              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 297              entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298          }                                                                                                         </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 299          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 300              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 300              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requesðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301          }                                                                                                         </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 302          clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                              </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 303          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304      }                                                                                                             </span>
<span  style=""> 305                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 306      @Override                                                                                                     </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 307      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 307      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value)ðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""> 308          Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());        </span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 309          CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                                </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 310          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 311          Root root = criteria.from(clazz);                                                                         </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 312          Path idField = root.get(this.getIdField(clazz).getName());                                                </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 313          criteria.select(idField.as(Long.class));                                                                  </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 314          List&lt;Predicate&gt; restrictions = new ArrayList();                                                           </span>
<span  style=""> 315                                                                                                                    </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 316          Path path = null;                                                                                         </span>
<span  style=""> 317                                                                                                                    </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 318          // Support property name such as &quot;defaultSku.name&quot;                                                        </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 319          if (propertyName.contains(&quot;.&quot;)) {                                                                         </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 320              String[] split = propertyName.split(&quot;\\.&quot;);                                                           </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 321              for (String splitResult : split) {                                                                    </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 322                  if (path == null) {                                                                               </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 323                      path = root.get(splitResult);                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 324                  } else {                                                                                          </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 325                      path = path.get(splitResult);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 328          } else {                                                                                                  </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 329              path = root.get(propertyName);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330          }                                                                                                         </span>
<span  style=""> 331                                                                                                                    </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 332          restrictions.add(builder.equal(path, value));                                                             </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 333          Serializable identifier = this.getIdentifier(instance);                                                   </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 334          //when we creating the new item identifier is not exists                                                  </span>
<span class="4435895120511968207" onmouseenter="enter('4435895120511968207');" onmouseout="out('4435895120511968207');" style=""> 335          if(identifier != null) {                                                                                  </span>

<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 336              restrictions.add(builder.notEqual(idField, identifier));                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337          }                                                                                                         </span>
<span  style=""> 338                                                                                                                    </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 339          if (instance instanceof Status) {                                                                         </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 340              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 340              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(rðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341          }                                                                                                         </span>
<span  style=""> 342                                                                                                                    </span>
<span class="-7594542009457650837" onmouseenter="enter('-7594542009457650837');" onmouseout="out('-7594542009457650837');" style=""> 343          criteria.where((Predicate[]) restrictions.toArray(new Predicate[restrictions.size()]));                   </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 344          return this.standardEntityManager.createQuery(criteria).getResultList();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345      }                                                                                                             </span>
<span  style=""> 346                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 347      @Override                                                                                                     </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 348      public Serializable getIdentifier(Object entity) {                                                            </span>
<span class="-4676872321227135128" onmouseenter="enter('-4676872321227135128');" onmouseout="out('-4676872321227135128');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 349 -        return dynamicDaoHelper.getIdentifier(entity, standardEntityManager);                                     </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 350 +        return dynamicDaoHelper.getIdentifier(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351      }                                                                                                             </span>
<span  style=""> 352                                                                                                                    </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 353      protected Field getIdField(Class&lt;?&gt; clazz) {                                                                  </span>
<span class="-7807532522862697435" onmouseenter="enter('-7807532522862697435');" onmouseout="out('-7807532522862697435');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 354 -        return dynamicDaoHelper.getIdField(clazz, standardEntityManager);                                         </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 355 +        return dynamicDaoHelper.getIdField(clazz);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356      }                                                                                                             </span>
<span  style=""> 357                                                                                                                    </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 358      public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                              </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 359          return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360      }                                                                                                             </span>
<span  style=""> 361                                                                                                                    </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 362      protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                               </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 363          Class&lt;?&gt; testClass;                                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 364          try {                                                                                                     </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 365              testClass = Class.forName(tree.getFullyQualifiedClassname());                                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 366          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 367              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368          }                                                                                                         </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 369          if (clazz.equals(testClass)) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 370              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371          }                                                                                                         </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 372          if (clazz.getSuperclass().equals(testClass)) {                                                            </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 373              ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));             </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 374              createClassTreeFromAnnotation(clazz, myTree);                                                         </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 375              tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 376          } else {                                                                                                  </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 377              for (ClassTree child : tree.getChildren()) {                                                          </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 378                  addClassToTree(clazz, child);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381      }                                                                                                             </span>
<span  style=""> 382                                                                                                                    </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 383      protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                              </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 384          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 384          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.clðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 385          if (classPresentation != null) {                                                                          </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 386              String friendlyName = classPresentation.friendlyName();                                               </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 387              if (!StringUtils.isEmpty(friendlyName)) {                                                             </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 388                  myTree.setFriendlyName(friendlyName);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391      }                                                                                                             </span>
<span  style=""> 392                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 393      @Override                                                                                                     </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 394      public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                                </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 395          String ceilingClass = null;                                                                               </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 396          for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                               </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 397              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 397              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClasðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 398              if (classPresentation != null) {                                                                      </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 399                 String ceilingEntity = classPresentation.ceilingDisplayEntity();                                   </span>

<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 400                  if (!StringUtils.isEmpty(ceilingEntity)) {                                                        </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 401                      ceilingClass = ceilingEntity;                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 402                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405          }                                                                                                         </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 406          if (ceilingClass != null) {                                                                               </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 407              int pos = -1;                                                                                         </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 408              int j = 0;                                                                                            </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 409              for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                           </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 410                  if (clazz.getName().equals(ceilingClass)) {                                                       </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 411                      pos = j;                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 412                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413                  }                                                                                                 </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 414                  j++;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415              }                                                                                                     </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 416              if (pos &gt;= 0) {                                                                                       </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 417                  Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                          </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 418                  System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                          </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 419                  polymorphicClasses = temp;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421          }                                                                                                         </span>
<span  style=""> 422                                                                                                                    </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 423          ClassTree classTree = null;                                                                               </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 424          if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                            </span>
<span class="8356012055912964334" onmouseenter="enter('8356012055912964334');" onmouseout="out('8356012055912964334');" style=""> 425              Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length-1];                                  </span>

<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 426              classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));              </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 427              createClassTreeFromAnnotation(topClass, classTree);                                                   </span>
<span class="2167523095919624833" onmouseenter="enter('2167523095919624833');" onmouseout="out('2167523095919624833');" style=""> 428              for (int j=polymorphicClasses.length-1; j &gt;= 0; j--) {                                                </span>

<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 429                  addClassToTree(polymorphicClasses[j], classTree);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 430              }                                                                                                     </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 431              classTree.finalizeStructure(1);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432          }                                                                                                         </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 433          return classTree;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434      }                                                                                                             </span>
<span  style=""> 435                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 436      @Override                                                                                                     </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 437      public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                             </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 438          Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                           </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 439          return getClassTree(sortedEntities);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440      }                                                                                                             </span>
<span  style=""> 441                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 442      @Override                                                                                                     </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 443      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 443      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persisteðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 444          Class&lt;?&gt;[] entityClasses;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 445          try {                                                                                                     </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 446              entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));                      </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 447          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 448              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449          }                                                                                                         </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 450          if (!ArrayUtils.isEmpty(entityClasses)) {                                                                 </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 451              return getMergedProperties(                                                                           </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 452                  entityName,                                                                                       </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 453                  entityClasses,                                                                                    </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 454                  (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 454                  (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveIteðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 455                  persistencePerspective.getAdditionalNonPersistentProperties(),                                    </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 456                  persistencePerspective.getAdditionalForeignKeys(),                                                </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 457                  MergedPropertyType.PRIMARY,                                                                       </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 458                  persistencePerspective.getPopulateToOneFields(),                                                  </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 459                  persistencePerspective.getIncludeFields(),                                                        </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 460                  persistencePerspective.getExcludeFields(),                                                        </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 461                  persistencePerspective.getConfigurationKey(),                                                     </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 462                  &quot;&quot;                                                                                                </span>











<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 463              );                                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 464          } else {                                                                                                  </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 465              Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                        </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 466              Class&lt;?&gt; targetClass;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 467              try {                                                                                                 </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 468                  targetClass = Class.forName(entityName);                                                          </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 469              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 470                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471              }                                                                                                     </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 472              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 472              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, ðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 473              for (String property : attributesMap.keySet()) {                                                      </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 474                  FieldMetadata presentationAttribute = attributesMap.get(property);                                </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 475                  if (!presentationAttribute.getExcluded()) {                                                       </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 476                      Field field = FieldManager.getSingleField(targetClass, property);                             </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 477                      if (!Modifier.isStatic(field.getModifiers())) {                                               </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 478                          boolean handled = false;                                                                  </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 479                          for (FieldMetadataProvider provider : fieldMetadataProviders) {                           </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 480                              MetadataProviderResponse response = provider.addMetadataFromFieldType(                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 481                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 481                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 482                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                           </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""> 483                                              property, null, false, 0, attributesMap, presentationAttribute,       </span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 484                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 484                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), fðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 485                                              mergedProperties);                                                    </span>

<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 486                              if (MetadataProviderResponse.NOT_HANDLED != response) {                               </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 487                                  handled = true;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488                              }                                                                                     </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 489                              if (MetadataProviderResponse.HANDLED_BREAK == response) {                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 490                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492                          }                                                                                         </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 493                          if (!handled) {                                                                           </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 494                              //this provider is not included in the provider list on purpose - it is designed to handle basic"> 494                              //this provider is not included in the provider list on purpose - it is designed to haðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""> 495                              //AdminPresentation fields, and those fields not admin presentation annotated at all  </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 496                              defaultFieldMetadataProvider.addMetadataFromFieldType(                                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 497                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 497                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 498                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,                 </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 499                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 499                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetaðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 500                                              field.getType(), this), mergedProperties);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 501                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 502                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 504              }                                                                                                     </span>
<span  style=""> 505                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 506              return mergedProperties;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508      }                                                                                                             </span>
<span  style=""> 509                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 510      @Override                                                                                                     </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 511      public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                                </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 512          Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                                  </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 513          return getMergedProperties(                                                                               </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 514                  cls.getName(),                                                                                    </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 515                  polymorphicTypes,                                                                                 </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 516                  null,                                                                                             </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 517                  new String[] {},                                                                                  </span>
<span class="-4966763439087897722" onmouseenter="enter('-4966763439087897722');" onmouseout="out('-4966763439087897722');" style=""> 518                  new ForeignKey[] {},                                                                              </span>


<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 519                  MergedPropertyType.PRIMARY,                                                                       </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 520                  true,                                                                                             </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 521                  new String[] {},                                                                                  </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style=""> 522                  new String[] {},                                                                                  </span>


<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 523                  null,                                                                                             </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 524                  &quot;&quot;                                                                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 525                  );                                                                                                </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 526      }                                                                                                             </span>
<span  style=""> 527                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 528      @Override                                                                                                     </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 529      public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                                        </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 530              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 531              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 532              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 533              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 534              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 535              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 536              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 537              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 538              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 539              String configurationKey,                                                                              </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 540              String prefix) {                                                                                      </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 541          Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 542                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 543                  entities,                                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 544                  foreignField,                                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 545                  additionalNonPersistentProperties,                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 546                  additionalForeignFields,                                                                          </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 547                  mergedPropertyType,                                                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 548                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 549                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 550                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 551                  configurationKey,                                                                                 </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 552                  new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 553                  prefix,                                                                                           </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 554                  false,                                                                                            </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 555                  &quot;&quot;);                                                                                              </span>
<span  style=""> 556                                                                                                                    </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 557          final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                                        </span>
<span  style=""> 558                                                                                                                    </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 559          for (final String key : mergedProperties.keySet()) {                                                      </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""> 560              if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {     </span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 561                  removeKeys.add(key);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 562              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563          }                                                                                                         </span>
<span  style=""> 564                                                                                                                    </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 565          for (String removeKey : removeKeys) {                                                                     </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 566              mergedProperties.remove(removeKey);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 567          }                                                                                                         </span>
<span  style=""> 568                                                                                                                    </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 569          // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 569          // Allow field metadata providers to contribute additional fields here. These latestage handlers take placðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 570          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 570          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally caðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 571          // like properties gleaned from reflection typically are.                                                 </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 572          Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                              </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 573          for (Class&lt;?&gt; targetClass : entities) {                                                                   </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 574              for (String key : keys) {                                                                             </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 575                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 575                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;ðŸ”µ</abbr></span>
<span  style=""> 576                                                                                                                    </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 577                  boolean foundOneOrMoreHandlers = false;                                                           </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 578                  for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {                      </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 579                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 579                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedPropðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 580                      if (MetadataProviderResponse.NOT_HANDLED != response) {                                       </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 581                          foundOneOrMoreHandlers = true;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 582                      }                                                                                             </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 583                      if (MetadataProviderResponse.HANDLED_BREAK == response) {                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 584                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 585                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586                  }                                                                                                 </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 587                  if (!foundOneOrMoreHandlers) {                                                                    </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 588                      defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 589                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 590              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 591          }                                                                                                         </span>
<span  style=""> 592                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 593          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594      }                                                                                                             </span>
<span  style=""> 595                                                                                                                    </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 596      protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                          </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 597              final String ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 598              final Class&lt;?&gt;[] entities,                                                                            </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 599              final ForeignKey foreignField,                                                                        </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 600              final String[] additionalNonPersistentProperties,                                                     </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 601              final ForeignKey[] additionalForeignFields,                                                           </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 602              final MergedPropertyType mergedPropertyType,                                                          </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 603              final Boolean populateManyToOneFields,                                                                </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 604              final String[] includeFields,                                                                         </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 605              final String[] excludeFields,                                                                         </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 606              final String configurationKey,                                                                        </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 607              final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                   </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 608              final String prefix,                                                                                  </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 609              final Boolean isParentExcluded,                                                                       </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 610              final String parentPrefix) {                                                                          </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 611          PropertyBuilder propertyBuilder = new PropertyBuilder() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 612              @Override                                                                                             </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 613              public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {                        </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 614                  Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                    </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 615                  Boolean classAnnotatedPopulateManyToOneFields;                                                    </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 616                  if (overridePopulateManyToOne != null) {                                                          </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 617                      classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 618                  } else {                                                                                          </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 619                      classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 620                  }                                                                                                 </span>
<span  style=""> 621                                                                                                                    </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 622                  buildPropertiesFromPolymorphicEntities(                                                           </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 623                      entities,                                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 624                      foreignField,                                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 625                      additionalNonPersistentProperties,                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 626                      additionalForeignFields,                                                                      </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 627                      mergedPropertyType,                                                                           </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 628                      classAnnotatedPopulateManyToOneFields,                                                        </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 629                      includeFields,                                                                                </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 630                      excludeFields,                                                                                </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 631                      configurationKey,                                                                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 632                      ceilingEntityFullyQualifiedClassname,                                                         </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 633                      mergedProperties,                                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 634                      parentClasses,                                                                                </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 635                      prefix,                                                                                       </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 636                      isParentExcluded,                                                                             </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 637                      parentPrefix);                                                                                </span>















<span  style=""> 638                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 639                  return mergedProperties;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 641          };                                                                                                        </span>
<span  style=""> 642                                                                                                                    </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 643          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 643          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix,ðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""> 644          applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);       </span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 645          applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);                       </span>
<span  style=""> 646                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 647          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 648      }                                                                                                             </span>
<span  style=""> 649                                                                                                                    </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 650      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 650      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;StðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 651          for (String key : mergedProperties.keySet()) {                                                            </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 652              boolean isForeign = false;                                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 653              if (foreignField != null) {                                                                           </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 654                  isForeign = foreignField.getManyToField().equals(key);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655              }                                                                                                     </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 656              if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                                     </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 657                  for (ForeignKey foreignKey : additionalForeignFields) {                                           </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 658                      isForeign = foreignKey.getManyToField().equals(key);                                          </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 659                      if (isForeign) {                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 660                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 661                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 662                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 663              }                                                                                                     </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 664              if (isForeign) {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 665                  FieldMetadata metadata = mergedProperties.get(key);                                               </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 666                  metadata.setExcluded(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 668          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669      }                                                                                                             </span>
<span  style=""> 670                                                                                                                    </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 671      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 671      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, BooleanðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 672          //check includes                                                                                          </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 673          if (!ArrayUtils.isEmpty(includeFields)) {                                                                 </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 674              for (String include : includeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 675                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 676                      String testKey = prefix + key;                                                                </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 677                      if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {                        </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 678                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 679                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 679                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appeaðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 680                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 681                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 682                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 683                          if (!isParentExcluded) {                                                                  </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 684                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 684                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in ðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 685                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 686                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 687                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 688                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689              }                                                                                                     </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 690          } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                          </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 691              //check excludes                                                                                      </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 692              for (String exclude : excludeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 693                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 694                      String testKey = prefix + key;                                                                </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 695                      if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                           </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 696                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 697                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 697                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in thðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 698                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 699                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 700                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 701                          if (!isParentExcluded) {                                                                  </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 702                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 702                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 703                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 704                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 705                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 706                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 707              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709      }                                                                                                             </span>
<span  style=""> 710                                                                                                                    </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 711      protected String pad(String s, int length, char pad) {                                                        </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 712          StringBuilder buffer = new StringBuilder(s);                                                              </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 713          while (buffer.length() &lt; length) {                                                                        </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 714              buffer.insert(0, pad);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 715          }                                                                                                         </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 716          return buffer.toString();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717      }                                                                                                             </span>
<span  style=""> 718                                                                                                                    </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 719      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 719      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] adðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 720          StringBuilder sb = new StringBuilder(150);                                                                </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 721          sb.append(ceilingEntityFullyQualifiedClassname);                                                          </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 722          sb.append(clazz.hashCode());                                                                              </span>
<span class="5254205421809409926" onmouseenter="enter('5254205421809409926');" onmouseout="out('5254205421809409926');" style=""> 723          sb.append(foreignField==null?&quot;&quot;:foreignField.toString());                                                 </span>

<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 724          sb.append(configurationKey);                                                                              </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 725          sb.append(isParentExcluded);                                                                              </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 726          if (additionalNonPersistentProperties != null) {                                                          </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 727              for (String prop : additionalNonPersistentProperties) {                                               </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 728                  sb.append(prop);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 729              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 730          }                                                                                                         </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 731          if (additionalForeignFields != null) {                                                                    </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 732              for (ForeignKey key : additionalForeignFields) {                                                      </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 733                  sb.append(key.toString());                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 734              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735          }                                                                                                         </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 736          sb.append(mergedPropertyType);                                                                            </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 737          sb.append(populateManyToOneFields);                                                                       </span>
<span  style=""> 738                                                                                                                    </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 739          String digest;                                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 740          try {                                                                                                     </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 741              MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                                  </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 742              byte[] messageDigest = md.digest(sb.toString().getBytes());                                           </span>
<span class="-5380974963518813864" onmouseenter="enter('-5380974963518813864');" onmouseout="out('-5380974963518813864');" style=""> 743              BigInteger number = new BigInteger(1,messageDigest);                                                  </span>

<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 744              digest = number.toString(16);                                                                         </span>
<span class="-4215171220869553942" onmouseenter="enter('-4215171220869553942');" onmouseout="out('-4215171220869553942');" style=""> 745          } catch(NoSuchAlgorithmException e) {                                                                     </span>

<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 746              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 747          }                                                                                                         </span>
<span  style=""> 748                                                                                                                    </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 749          String key = pad(digest, 32, &#x27;0&#x27;);                                                                        </span>
<span  style=""> 750                                                                                                                    </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 751          if (LOG.isDebugEnabled()) {                                                                               </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 752              LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 753          }                                                                                                         </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 754          return key;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 755      }                                                                                                             </span>
<span  style=""> 756                                                                                                                    </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 757      protected void buildPropertiesFromPolymorphicEntities(                                                        </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 758              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 759              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 760              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 761              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 762              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 763              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 764              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 765              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 766              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 767              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 768              Map&lt;String, FieldMetadata&gt; mergedProperties,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 769              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 770              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 771              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 772              String parentPrefix) {                                                                                </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 773          for (Class&lt;?&gt; clazz : entities) {                                                                         </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 774              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 774              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistðŸ”µ</abbr></span>
<span  style=""> 775                                                                                                                    </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 776              Map&lt;String, FieldMetadata&gt; cacheData = null;                                                          </span>
<span class="-4478904008704459763" onmouseenter="enter('-4478904008704459763');" onmouseout="out('-4478904008704459763');" style=""> 777              synchronized(DynamicDaoHelperImpl.LOCK_OBJECT) {                                                      </span>

<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 778                  if (useCache()) {                                                                                 </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 779                      cacheData = METADATA_CACHE.get(cacheKey);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 780                  }                                                                                                 </span>
<span  style=""> 781                                                                                                                    </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 782                  if (cacheData == null) {                                                                          </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 783                      Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                               </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 784                          clazz,                                                                                    </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 785                          foreignField,                                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 786                          additionalNonPersistentProperties,                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 787                          additionalForeignFields,                                                                  </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 788                          mergedPropertyType,                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 789                          populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 790                          includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 791                          excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 792                          configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 793                          ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 794                          parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 795                          prefix,                                                                                   </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 796                          isParentExcluded,                                                                         </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 797                          parentPrefix);                                                                            </span>














<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""> 798                      //first check all the properties currently in there to see if my entity inherits from them    </span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 799                      for (Class&lt;?&gt; clazz2 : entities) {                                                            </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 800                          if (!clazz2.getName().equals(clazz.getName())) {                                          </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 801                              for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {                     </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 802                                  FieldMetadata metadata = entry.getValue();                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 803                                  try {                                                                             </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""> 804                                      if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {</span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 805                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 805                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new StriðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 806                                          metadata.setAvailableToTypes(both);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 807                                      }                                                                             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 808                                  } catch (ClassNotFoundException e) {                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 809                                      throw new RuntimeException(e);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 810                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 811                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 812                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 813                      }                                                                                             </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 814                      METADATA_CACHE.put(cacheKey, props);                                                          </span>
<span  style=""> 815                                                                                                                    </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 816                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 817                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 817                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 818                      }                                                                                             </span>
<span  style=""> 819                                                                                                                    </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 820                      if (validateMetadataCacheSizes) {                                                             </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 821                          Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                                </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 822                          Integer currentSize = props.size();                                                       </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 823                          if (previousSize == null) {                                                               </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 824                              METADATA_CACHE_SIZES.put(cacheKey, currentSize);                                      </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 825                          } else if (!currentSize.equals(previousSize)) {                                           </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 826                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 826                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the kðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 827                              LOG.error(msg);                                                                       </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 828                              throw new RuntimeException(msg);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 829                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 830                      }                                                                                             </span>
<span  style=""> 831                                                                                                                    </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 832                      cacheData = props;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 833                  } else {                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 834                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 835                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 835                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 836                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 837                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 838              }                                                                                                     </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 839              //clone the metadata before passing to the system                                                     </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 840              Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                             </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 841              for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                                 </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 842                  clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 843              }                                                                                                     </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 844              mergedProperties.putAll(clonedCache);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 845          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 846      }                                                                                                             </span>
<span  style=""> 847                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 848      @Override                                                                                                     </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 849      public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                           </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 850          Field[] allFields = new Field[]{};                                                                        </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 851          boolean eof = false;                                                                                      </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 852          Class&lt;?&gt; currentClass = targetClass;                                                                      </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 853          while (!eof) {                                                                                            </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 854              Field[] fields = currentClass.getDeclaredFields();                                                    </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 855              allFields = ArrayUtils.addAll(allFields, fields);                                                     </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 856              if (currentClass.getSuperclass() != null) {                                                           </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 857                  currentClass = currentClass.getSuperclass();                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 858              } else {                                                                                              </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 859                  eof = true;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 860              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 861          }                                                                                                         </span>
<span  style=""> 862                                                                                                                    </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 863          return allFields;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 864      }                                                                                                             </span>
<span  style=""> 865                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 866      @Override                                                                                                     </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 867      public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 868          String propertyName,                                                                                      </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 869          String friendlyPropertyName,                                                                              </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 870          Class&lt;?&gt; targetClass,                                                                                     </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 871          Class&lt;?&gt; parentClass,                                                                                     </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 872          MergedPropertyType mergedPropertyType                                                                     </span>





<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 873      ) {                                                                                                           </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 874          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 875          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 876          presentationAttribute.setFriendlyName(friendlyPropertyName);                                              </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 877          if (String.class.isAssignableFrom(targetClass)) {                                                         </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 878              presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 879              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 880              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 880              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, ðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 881          } else if (Boolean.class.isAssignableFrom(targetClass)) {                                                 </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 882              presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 883              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 884              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 884              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN,ðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 885          } else if (Date.class.isAssignableFrom(targetClass)) {                                                    </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 886              presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                                  </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 887              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 888              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 888              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, nuðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 889          } else if (Money.class.isAssignableFrom(targetClass)) {                                                   </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 890              presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                                 </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 891              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 892              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 892              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, nðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 893          } else if (                                                                                               </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 894                  Byte.class.isAssignableFrom(targetClass) ||                                                       </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 895                  Integer.class.isAssignableFrom(targetClass) ||                                                    </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 896                  Long.class.isAssignableFrom(targetClass) ||                                                       </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 897                  Short.class.isAssignableFrom(targetClass)                                                         </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 898              ) {                                                                                                   </span>




<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 899              presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 900              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 901              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 901              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER,ðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 902          } else if (                                                                                               </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 903                  Double.class.isAssignableFrom(targetClass) ||                                                     </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 904                  BigDecimal.class.isAssignableFrom(targetClass)                                                    </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 905              ) {                                                                                                   </span>


<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 906              presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 907              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 908              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 908              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL,ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 909          }                                                                                                         </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 910          ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                           </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 911          ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                           </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 912          ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                                        </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 913          ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                          </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 914          ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                            </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 915          ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                                        </span>
<span  style=""> 916                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 917          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 918      }                                                                                                             </span>
<span  style=""> 919                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 920      @Override                                                                                                     </span>
<span class="6264717541951517602" onmouseenter="enter('6264717541951517602');" onmouseout="out('6264717541951517602');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 921 -    public SessionFactory getSessionFactory() {                                                                   </span>
<span class="-5348429905979410967" onmouseenter="enter('-5348429905979410967');" onmouseout="out('-5348429905979410967');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 922 -        return dynamicDaoHelper.getSessionFactory((HibernateEntityManager) standardEntityManager);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 923 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 924 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 925 -    @Override                                                                                                     </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 926      public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                              </span>
<span class="3703461532319914054" onmouseenter="enter('3703461532319914054');" onmouseout="out('3703461532319914054');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 927 -        return dynamicDaoHelper.getIdMetadata(entityClass, (HibernateEntityManager) standardEntityManager);       </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 928 +        return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 929      }                                                                                                             </span>
<span  style=""> 930                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 931      @Override                                                                                                     </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 932      public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                                  </span>
<span class="-3410507551110236768" onmouseenter="enter('-3410507551110236768');" onmouseout="out('-3410507551110236768');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 933 -        return dynamicDaoHelper.getPropertyNames(entityClass, (HibernateEntityManager) standardEntityManager);    </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 934 +        return dynamicDaoHelper.getPropertyNames(entityClass);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 935      }                                                                                                             </span>
<span  style=""> 936                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 937      @Override                                                                                                     </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 938      public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                                    </span>
<span class="6935179783227619140" onmouseenter="enter('6935179783227619140');" onmouseout="out('6935179783227619140');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 939 -        return dynamicDaoHelper.getPropertyTypes(entityClass, (HibernateEntityManager) standardEntityManager);    </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 940 +        return dynamicDaoHelper.getPropertyTypes(entityClass);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 941      }                                                                                                             </span>
<span  style=""> 942                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 943      @Override                                                                                                     </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 944      public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {              </span>
<span class="5293628859698650826" onmouseenter="enter('5293628859698650826');" onmouseout="out('5293628859698650826');" style=""> 945          Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length-1]);                      </span>

<span  style=""> 946                                                                                                                    </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""> 947          Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);       </span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 948          metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);                </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 949          metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);             </span>
<span  style=""> 950                                                                                                                    </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 951          return mergedTabAndGroupMetadata;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 952      }                                                                                                             </span>
<span  style=""> 953                                                                                                                    </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 954      public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                            </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 955          Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                                   </span>
<span  style=""> 956                                                                                                                    </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 957          if (ceilingEntity != null) {                                                                              </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 958              entities = ArrayUtils.add(entities, ceilingEntity);                                                   </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 959              while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                         </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 960                  entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                               </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 961                  ceilingEntity = ceilingEntity.getSuperclass();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 962              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 963          }                                                                                                         </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 964          return entities;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 965      }                                                                                                             </span>
<span  style=""> 966                                                                                                                    </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 967      protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 968              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 969              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 970              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 971              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 972              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 973              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 974              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 975              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 976              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 977              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 978              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 979              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 980              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 981              String parentPrefix) {                                                                                </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title=" 982          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 982          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style=""> 983          if (isParentExcluded) {                                                                                   </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style=""> 984              for (String key : presentationAttributes.keySet()) {                                                  </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""> 985                  LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);       </span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style=""> 986                  presentationAttributes.get(key).setExcluded(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 987              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 988          }                                                                                                         </span>
<span  style=""> 989                                                                                                                    </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style=""> 990          Map idMetadata = getIdMetadata(targetClass);                                                              </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 991          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style=""> 992          String idProperty = (String) idMetadata.get(&quot;name&quot;);                                                      </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style=""> 993          List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                               </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style=""> 994          propertyNames.add(idProperty);                                                                            </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style=""> 995          Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                              </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style=""> 996          List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                                 </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style=""> 997          propertyTypes.add(idType);                                                                                </span>
<span  style=""> 998                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style=""> 999          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style="">1000          Iterator testIter = persistentClass.getPropertyIterator();                                                </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style="">1001          List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                          </span>
<span  style="">1002                                                                                                                    </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style="">1003          //check the properties for problems                                                                       </span>
<span class="-665927915203022170" onmouseenter="enter('-665927915203022170');" onmouseout="out('-665927915203022170');" style="">1004          while(testIter.hasNext()) {                                                                               </span>

<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style="">1005              Property property = (Property) testIter.next();                                                       </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style="">1006              if (property.getName().contains(&quot;.&quot;)) {                                                               </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title="1007                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);">1007                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;)ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1008              }                                                                                                     </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style="">1009              propertyList.add(property);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1010          }                                                                                                         </span>
<span  style="">1011                                                                                                                    </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1012          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1013              targetClass,                                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1014              foreignField,                                                                                         </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1015              additionalForeignFields,                                                                              </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1016              additionalNonPersistentProperties,                                                                    </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1017              mergedPropertyType,                                                                                   </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="">1018              presentationAttributes,                                                                               </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="">1019              propertyList,                                                                                         </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1020              fields,                                                                                               </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="">1021              propertyNames,                                                                                        </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="">1022              propertyTypes,                                                                                        </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1023              idProperty,                                                                                           </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1024              populateManyToOneFields,                                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1025              includeFields,                                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1026              excludeFields,                                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1027              configurationKey,                                                                                     </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1028              ceilingEntityFullyQualifiedClassname,                                                                 </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1029              parentClasses,                                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1030              prefix,                                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1031              isParentExcluded,                                                                                     </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1032              false,                                                                                                </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1033              parentPrefix                                                                                          </span>





















<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1034          );                                                                                                        </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1035          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1036          presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                    </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1037          presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                           </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1038          if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                             </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1039              Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                              </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1040              for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {                    </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1041                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1041                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentPropertðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1042                      String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;                   </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1043                      //get final property if this is a dot delimited property                                      </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1044                      int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                           </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1045                      if (finalDotPos &gt;= 0) {                                                                       </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1046                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1046                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1047                      }                                                                                             </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style="">1048                      //check all the polymorphic types on this target class to see if the end property exists      </span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1049                      Field testField = null;                                                                       </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1050                      Method testMethod = null;                                                                     </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1051                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1052                          try {                                                                                     </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1053                              testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);                      </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1054                              if (testMethod != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1055                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1056                              }                                                                                     </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1057                          } catch (NoSuchMethodException e) {                                                       </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1058                              //do nothing - method does not exist                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1059                          }                                                                                         </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1060                          testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1061                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1062                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1063                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1064                      }                                                                                             </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1065                      //if the property exists, add it to the metadata for this class                               </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1066                      if (testField != null || testMethod != null) {                                                </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1067                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1067                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1068                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1069                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1070              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1071          }                                                                                                         </span>
<span  style="">1072                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1073          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1074      }                                                                                                             </span>
<span  style="">1075                                                                                                                    </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1076      protected void buildProperties(                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1077              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1078              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1079              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1080              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1081              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1082              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1083              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1084              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1085              List&lt;String&gt; propertyNames,                                                                           </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1086              List&lt;Type&gt; propertyTypes,                                                                             </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1087              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1088              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1089              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1090              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1091              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1092              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1093              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1094              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1095              Boolean isParentExcluded,                                                                             </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1096              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1097              String parentPrefix) {                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1098          int j = 0;                                                                                                </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1099          Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1100              @Override                                                                                             </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1101              public int compare(String o1, String o2) {                                                            </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1102                  //check for property name equality and for map field properties                                   </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1103                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1103                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FielðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1104                      return 0;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1105                  }                                                                                                 </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1106                  return o1.compareTo(o2);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1107              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1108          };                                                                                                        </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1109          List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());                      </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1110          Collections.sort(presentationKeyList);                                                                    </span>
<span  style="">1111                                                                                                                    </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1112          for (String propertyName : propertyNames) {                                                               </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1113              final Type type = propertyTypes.get(j);                                                               </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1114              boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);               </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1115              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1115              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix,ðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1116              j++;                                                                                                  </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1117              Field myField = getFieldManager().getField(targetClass, propertyName);                                </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1118              if (myField == null) {                                                                                </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1119                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1119                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1120                  myField = getFieldManager().getField(targetClass, prefix + propertyName);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1121              }                                                                                                     </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1122              if (                                                                                                  </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1123                      !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                              </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1124                      isPropertyForeignKey ||                                                                       </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1125                      additionalForeignKeyIndexPosition &gt;= 0 ||                                                     </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style="">1126                      Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0          </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1127              ) {                                                                                                   </span>




<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1128                  if (myField != null) {                                                                            </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1129                      boolean handled = false;                                                                      </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1130                      for (FieldMetadataProvider provider : fieldMetadataProviders) {                               </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1131                          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);           </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1132                          if (presentationAttribute != null) {                                                      </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1133                              setExcludedBasedOnShowIfProperty(presentationAttribute);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1134                          }                                                                                         </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1135                          MetadataProviderResponse response = provider.addMetadataFromFieldType(                    </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1136                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1136                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1137                                          mergedPropertyType, componentProperties, idProperty, prefix,              </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1138                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1138                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPositioðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1139                                          presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1139                                          presentationAttributes, presentationAttribute, null, type.getReturnedClassðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1140                          if (MetadataProviderResponse.NOT_HANDLED != response) {                                   </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1141                              handled = true;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1142                          }                                                                                         </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1143                          if (MetadataProviderResponse.HANDLED_BREAK == response) {                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1144                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1145                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1146                      }                                                                                             </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1147                      if (!handled) {                                                                               </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1148                          buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,           </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style="">1149                              additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,        </span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style="">1150                              componentProperties, fields, idProperty, populateManyToOneFields, includeFields,      </span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style="">1151                              excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses, </span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1152                              prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1152                              prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKðŸ”µ</abbr></span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1153                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1154                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1155              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1156          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1157      }                                                                                                             </span>
<span  style="">1158                                                                                                                    </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1159      public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                                   </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1160          setExcludedBasedOnShowIfProperty(presentationAttribute);                                                  </span>
<span  style="">1161                                                                                                                    </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1162          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1162          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttðŸ”µ</abbr></span>
<span  style="">1163                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1164      }                                                                                                             </span>
<span  style="">1165                                                                                                                    </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1166      protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                                </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1167          if (fieldMetadata != null                                                                                 </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1168              &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                                          </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1169              &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                              </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1170              &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {                 </span>



<span  style="">1171                                                                                                                    </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1172              //do not include this in the display if it returns false.                                             </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1173              fieldMetadata.setExcluded(true);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1174          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1175      }                                                                                                             </span>
<span  style="">1176                                                                                                                    </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1177      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1177      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, ClasðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1178                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1178                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefixðŸ”µ</abbr></span>
<span  style="">1179                                                                                                                    </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1180          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1180          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, tarðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1181                  ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                         </span>
<span  style="">1182                                                                                                                    </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1183          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1183          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefiðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1184                  parentPrefix, propertyName);                                                                      </span>
<span  style="">1185                                                                                                                    </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1186          return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1187      }                                                                                                             </span>
<span  style="">1188                                                                                                                    </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1189      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1189      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPreðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1190          return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1191      }                                                                                                             </span>
<span  style="">1192                                                                                                                    </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1193      protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String           </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1194              propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean              </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1195              isComponentPrefix) {                                                                                  </span>

<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1196          Boolean response = false;                                                                                 </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1197          //don&#x27;t want to shun a self-referencing property in an @Embeddable                                        </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1198          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1198          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1ðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1199          if (shouldTest) {                                                                                         </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1200              Field testField = getFieldManager().getField(targetClass, propertyName);                              </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1201              if (testField == null) {                                                                              </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1202                  Class&lt;?&gt;[] entities;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1203                  try {                                                                                             </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1204                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1204                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1205                  } catch (ClassNotFoundException e) {                                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1206                      throw new RuntimeException(e);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1207                  }                                                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1208                  for (Class&lt;?&gt; clazz : entities) {                                                                 </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1209                      testField = getFieldManager().getField(clazz, propertyName);                                  </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1210                      if (testField != null) {                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1211                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1212                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1213                  }                                                                                                 </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1214                  String testProperty = prefix + propertyName;                                                      </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1215                  if (testField == null) {                                                                          </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1216                      testField = getFieldManager().getField(targetClass, testProperty);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1217                  }                                                                                                 </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1218                  if (testField == null) {                                                                          </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1219                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1220                          testField = getFieldManager().getField(clazz, testProperty);                              </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1221                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1222                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1223                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1224                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1225                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1226              }                                                                                                     </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1227              response = determineExclusionForField(parentClasses, targetClass, testField);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1228          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1229          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1230      }                                                                                                             </span>
<span  style="">1231                                                                                                                    </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1232      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1232      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testFieðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1233          Boolean response = false;                                                                                 </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1234          if (testField != null) {                                                                                  </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1235              Class&lt;?&gt; testType = testField.getType();                                                              </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1236              for (Class&lt;?&gt; parentClass : parentClasses) {                                                          </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1237                  if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {           </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1238                      response = true;                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1239                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1240                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1241              }                                                                                                     </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style="">1242              if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {</span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1243                  response = true;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1244              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1245          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1246          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1247      }                                                                                                             </span>
<span  style="">1248                                                                                                                    </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1249      protected void buildBasicProperty(                                                                            </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1250              Field field,                                                                                          </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1251              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1252              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1253              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1254              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1255              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1256              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1257              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1258              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1259              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1260              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1261              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1262              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1263              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1264              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1265              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1266              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1267              Boolean isParentExcluded,                                                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1268              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1269              Type type,                                                                                            </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1270              boolean propertyForeignKey,                                                                           </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1271              int additionalForeignKeyIndexPosition,                                                                </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1272              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1273              String parentPrefix) {                                                                                </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1274          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                           </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1275          Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);                  </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1276          Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,           </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1277              ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                               </span>

<span  style="">1278                                                                                                                    </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1279          SupportedFieldType explicitType = null;                                                                   </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1280          if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {               </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1281              explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1282          }                                                                                                         </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1283          Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                         </span>
<span class="15802144221223394" onmouseenter="enter('15802144221223394');" onmouseout="out('15802144221223394');" style="">1284          checkProp: {                                                                                              </span>


<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1285              if (type.isComponentType() &amp;&amp; includeField) {                                                         </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1286                  buildComponentProperties(                                                                         </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1287                      targetClass,                                                                                  </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1288                      foreignField,                                                                                 </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1289                      additionalForeignFields,                                                                      </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1290                      additionalNonPersistentProperties,                                                            </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1291                      mergedPropertyType,                                                                           </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1292                      fields,                                                                                       </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1293                      idProperty,                                                                                   </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1294                      populateManyToOneFields,                                                                      </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1295                      includeFields,                                                                                </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1296                      excludeFields,                                                                                </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1297                      configurationKey,                                                                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1298                      ceilingEntityFullyQualifiedClassname,                                                         </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1299                      propertyName,                                                                                 </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1300                      type,                                                                                         </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1301                      returnedClass,                                                                                </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1302                      parentClasses,                                                                                </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1303                      amIExcluded,                                                                                  </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1304                      prefix,                                                                                       </span>


















<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1305                          parentPrefix);                                                                            </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1306                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1307              }                                                                                                     </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1308              /*                                                                                                    </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1309               * Currently we do not support ManyToOne fields whose class type is the same                          </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1310               * as the target type, since this forms an infinite loop and will cause a stack overflow.             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1311               */                                                                                                   </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1312              if (                                                                                                  </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1313                  type.isEntityType() &amp;&amp;                                                                            </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1314                  !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                                                   </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1315                  populateManyToOneFields &amp;&amp;                                                                        </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1316                  includeField                                                                                      </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1317              ) {                                                                                                   </span>





<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1318                  buildEntityProperties(                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1319                      fields,                                                                                       </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1320                      foreignField,                                                                                 </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1321                      additionalForeignFields,                                                                      </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1322                      additionalNonPersistentProperties,                                                            </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1323                      populateManyToOneFields,                                                                      </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1324                      includeFields,                                                                                </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1325                      excludeFields,                                                                                </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1326                      configurationKey,                                                                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1327                      ceilingEntityFullyQualifiedClassname,                                                         </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1328                      propertyName,                                                                                 </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1329                      returnedClass,                                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1330                      targetClass,                                                                                  </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1331                      parentClasses,                                                                                </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1332                      prefix,                                                                                       </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1333                      amIExcluded,                                                                                  </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1334                      parentPrefix                                                                                  </span>
















<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1335                  );                                                                                                </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1336                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1337              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1338          }                                                                                                         </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1339          //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key         </span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1340          if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {                       </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1341              defaultFieldMetadataProvider.addMetadataFromFieldType(                                                </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style="">1342                      new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,</span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style="">1343                              mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,      </span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style="">1344                              propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,        </span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1345                              presentationAttribute, explicitType, returnedClass, this), fields);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1346          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1347      }                                                                                                             </span>
<span  style="">1348                                                                                                                    </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1349      protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) {          </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1350          boolean isPropertyForeignKey = false;                                                                     </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1351          if (foreignField != null) {                                                                               </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1352              isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1353          }                                                                                                         </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1354          return isPropertyForeignKey;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1355      }                                                                                                             </span>
<span  style="">1356                                                                                                                    </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1357      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1357      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String properðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1358          int additionalForeignKeyIndexPosition = -1;                                                               </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1359          if (additionalForeignFields != null) {                                                                    </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1360              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1360              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefixðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1361                  @Override                                                                                         </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1362                  public int compare(ForeignKey o1, ForeignKey o2) {                                                </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1363                      return o1.getManyToField().compareTo(o2.getManyToField());                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1364                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1365              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1366          }                                                                                                         </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1367          return additionalForeignKeyIndexPosition;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1368      }                                                                                                             </span>
<span  style="">1369                                                                                                                    </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1370      protected void buildEntityProperties(                                                                         </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1371              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1372              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1373              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1374              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1375              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1376              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1377              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1378              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1379              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1380              String propertyName,                                                                                  </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1381              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1382              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1383              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1384              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1385              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1386              String parentPrefix) {                                                                                </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1387          Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);                     </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1388          List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                                   </span>
<span  style="">1389                                                                                                                    </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1390          for (Class&lt;?&gt; parentClass : parentClasses) {                                                              </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1391              clonedParentClasses.add(parentClass);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1392          }                                                                                                         </span>
<span  style="">1393                                                                                                                    </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1394          clonedParentClasses.add(targetClass);                                                                     </span>
<span  style="">1395                                                                                                                    </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1396          Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1397              ceilingEntityFullyQualifiedClassname,                                                                 </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1398              polymorphicEntities,                                                                                  </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1399              foreignField,                                                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1400              additionalNonPersistentProperties,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1401              additionalForeignFields,                                                                              </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1402              MergedPropertyType.PRIMARY,                                                                           </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1403              populateManyToOneFields,                                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1404              includeFields,                                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1405              excludeFields,                                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1406              configurationKey,                                                                                     </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1407              clonedParentClasses,                                                                                  </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1408              prefix + propertyName + &#x27;.&#x27;,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1409              isParentExcluded,                                                                                     </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1410              parentPrefix);                                                                                        </span>














<span  style="">1411                                                                                                                    </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1412          final String targetClassName = targetClass.getName();                                                     </span>
<span  style="">1413                                                                                                                    </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1414          for (FieldMetadata newMetadata : newFields.values()) {                                                    </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1415              newMetadata.setInheritedFromType(targetClassName);                                                    </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1416              newMetadata.setAvailableToTypes(new String[]{targetClassName});                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1417          }                                                                                                         </span>
<span  style="">1418                                                                                                                    </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1419          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                             </span>
<span  style="">1420                                                                                                                    </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1421          for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                                  </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1422              final FieldMetadata fieldMetadata = newField.getValue();                                              </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1423              final String key = newField.getKey();                                                                 </span>
<span  style="">1424                                                                                                                    </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1425              convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                         </span>
<span  style="">1426                                                                                                                    </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1427              if (fieldMetadata instanceof BasicFieldMetadata) {                                                    </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1428                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1428                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata)ðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1429                      Class&lt;?&gt; validatorImpl = null;                                                                </span>
<span  style="">1430                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1431                      try {                                                                                         </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1432                          validatorImpl = Class.forName(validationConfigurations.getKey());                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1433                      } catch (ClassNotFoundException e) {                                                          </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1434                          Object bean = applicationContext.getBean(validationConfigurations.getKey());              </span>
<span  style="">1435                                                                                                                    </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1436                          if (bean != null) {                                                                       </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1437                              validatorImpl = bean.getClass();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1438                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1439                      }                                                                                             </span>
<span  style="">1440                                                                                                                    </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1441                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1441                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl))ðŸ”µ</abbr></span>
<span class="6499969559533890178" onmouseenter="enter('6499969559533890178');" onmouseout="out('6499969559533890178');" style="">1442                          for (Map&lt;String, String&gt; configs  : validationConfigurations.getValue()) {                </span>

<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1443                              for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                         </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1444                                  final String value = config.getValue();                                           </span>
<span  style="">1445                                                                                                                    </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1446                                  if (newFields.containsKey(value)) {                                               </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1447                                      config.setValue(propertyName + &quot;.&quot; + value);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1448                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1449                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1450                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1451                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1452                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1453              }                                                                                                     </span>
<span  style="">1454                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1455              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1456                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1457              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1458          }                                                                                                         </span>
<span  style="">1459                                                                                                                    </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1460          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1461      }                                                                                                             </span>
<span  style="">1462                                                                                                                    </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1463      protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                                 </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1464          return fieldMetadata instanceof BasicCollectionMetadata                                                   </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1465                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1465                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1466                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1466                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveIðŸ”µ</abbr></span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1467      }                                                                                                             </span>
<span  style="">1468                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1469      /*                                                                                                            </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1470       * There may be multiple pathways to this foreign key which may have come from a cached source.               </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1471       * Since ForeignKey contains an originating field concept that is occurrence specific, we need                </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1472       * to make sure it is set appropriately here.                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1473       *                                                                                                            </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1474       * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                                  </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1475       * owningSite.embeddableMultitenantSite.adminUsers.                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1476       */                                                                                                           </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1477      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1477      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) ðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1478          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1478          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective()ðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1479          foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1480      }                                                                                                             </span>
<span  style="">1481                                                                                                                    </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1482      protected void buildComponentProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1483              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1484              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1485              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1486              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1487              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1488              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1489              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1490              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1491              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1492              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1493              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1494              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1495              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1496              Type type,                                                                                            </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1497              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1498              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1499              Boolean isParentExcluded,                                                                             </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1500              String prefix,                                                                                        </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1501              String parentPrefix) {                                                                                </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1502          String[] componentProperties = ((ComponentType) type).getPropertyNames();                                 </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1503          List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                                 </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1504          Type[] componentTypes = ((ComponentType) type).getSubtypes();                                             </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1505          List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                                        </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1506          String tempPrefix = &quot;&quot;;                                                                                   </span>
<span  style="">1507                                                                                                                    </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1508          int pos = prefix.indexOf(&quot;.&quot;);                                                                            </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1509          final int prefixLength = prefix.length();                                                                 </span>
<span  style="">1510                                                                                                                    </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1511          if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                                  </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1512              //only use part of the prefix if it&#x27;s more than one layer deep                                        </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1513              tempPrefix = prefix.substring(pos + 1, prefixLength);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1514          }                                                                                                         </span>
<span  style="">1515                                                                                                                    </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1516          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1516          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targeðŸ”µ</abbr></span>
<span  style="">1517                                                                                                                    </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1518          if (isParentExcluded) {                                                                                   </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1519              for (String key : componentPresentationAttributes.keySet()) {                                         </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style="">1520                  LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);      </span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1521                  componentPresentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1522              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1523          }                                                                                                         </span>
<span  style="">1524                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1525          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1526          Property property;                                                                                        </span>
<span  style="">1527                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1528          try {                                                                                                     </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1529              property = persistentClass.getProperty(propertyName);                                                 </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1530          } catch (MappingException e) {                                                                            </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1531              property = persistentClass.getProperty(prefix + propertyName);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1532          }                                                                                                         </span>
<span  style="">1533                                                                                                                    </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1534          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1534          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyItðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1535          List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style="">1536                                                                                                                    </span>
<span class="-2689271164948138423" onmouseenter="enter('-2689271164948138423');" onmouseout="out('-2689271164948138423');" style="">1537          while(componentPropertyIterator.hasNext()) {                                                              </span>

<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1538              componentPropertyList.add((Property) componentPropertyIterator.next());                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1539          }                                                                                                         </span>
<span  style="">1540                                                                                                                    </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1541          Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                                   </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1542          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1543              targetClass,                                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1544              foreignField,                                                                                         </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1545              additionalForeignFields,                                                                              </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1546              additionalNonPersistentProperties,                                                                    </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1547              mergedPropertyType,                                                                                   </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1548              componentPresentationAttributes,                                                                      </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1549              componentPropertyList,                                                                                </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1550              newFields,                                                                                            </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1551              componentPropertyNames,                                                                               </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1552              componentPropertyTypes,                                                                               </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1553              idProperty,                                                                                           </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1554              populateManyToOneFields,                                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1555              includeFields,                                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1556              excludeFields,                                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1557              configurationKey,                                                                                     </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1558              ceilingEntityFullyQualifiedClassname,                                                                 </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1559              parentClasses,                                                                                        </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1560              propertyName + &quot;.&quot;,                                                                                   </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1561              isParentExcluded,                                                                                     </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1562              true,                                                                                                 </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1563              parentPrefix + prefix                                                                                 </span>





















<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1564          );                                                                                                        </span>
<span  style="">1565                                                                                                                    </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1566          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                             </span>
<span  style="">1567                                                                                                                    </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1568          for (String key : newFields.keySet()) {                                                                   </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1569              final FieldMetadata fieldMetadata = newFields.get(key);                                               </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1570              convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                         </span>
<span  style="">1571                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1572              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1573                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1574              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1575          }                                                                                                         </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1576          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1577      }                                                                                                             </span>
<span  style="">1578                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1579      @Override                                                                                                     </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1580      public EntityManager getStandardEntityManager() {                                                             </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1581          return standardEntityManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1582      }                                                                                                             </span>
<span  style="">1583                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1584      @Override                                                                                                     </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1585      public void setStandardEntityManager(EntityManager entityManager) {                                           </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1586          this.standardEntityManager = entityManager;                                                               </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1587 -        fieldManager = new FieldManager(entityConfiguration, entityManager);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1588 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1589 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1590 -    @Override                                                                                                     </span>
<span class="-1836320114515389477" onmouseenter="enter('-1836320114515389477');" onmouseout="out('-1836320114515389477');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1591 -    public EJB3ConfigurationDao getEjb3ConfigurationDao() {                                                       </span>
<span class="-8000483836684887897" onmouseenter="enter('-8000483836684887897');" onmouseout="out('-8000483836684887897');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1592 -        return ejb3ConfigurationDao;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1593 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1594 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1595 -    @Override                                                                                                     </span>
<span class="9196879559471119195" onmouseenter="enter('9196879559471119195');" onmouseout="out('9196879559471119195');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1596 -    public void setEjb3ConfigurationDao(EJB3ConfigurationDao ejb3ConfigurationDao) {                              </span>
<span class="-5891628767648400673" onmouseenter="enter('-5891628767648400673');" onmouseout="out('-5891628767648400673');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1597 -        this.ejb3ConfigurationDao = ejb3ConfigurationDao;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1598      }                                                                                                             </span>
<span  style="">1599                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1600      @Override                                                                                                     </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1601      public FieldManager getFieldManager() {                                                                       </span>





<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1602 -        if (fieldManager == null) {                                                                               </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1603 -            //keep in mind that getStandardEntityManager() can return null, this is in general OK,                </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1604 -            // we re-init fieldManager in setStandardEntityManager method                                         </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1605 -            fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1606 -        } else {                                                                                                  </span>

<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1607 -            fieldManager.clearMiddleFields();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1608 -        }                                                                                                         </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1609 -        return fieldManager;                                                                                      </span>
<span class="-7708462308818149765" onmouseenter="enter('-7708462308818149765');" onmouseout="out('-7708462308818149765');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1610 +        return new FieldManager(entityConfiguration, getStandardEntityManager());                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1611      }                                                                                                             </span>
<span  style="">1612                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1613      @Override                                                                                                     </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1614      public EntityConfiguration getEntityConfiguration() {                                                         </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1615          return entityConfiguration;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1616      }                                                                                                             </span>
<span  style="">1617                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1618      @Override                                                                                                     </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1619      public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                                 </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1620          this.entityConfiguration = entityConfiguration;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1621      }                                                                                                             </span>
<span  style="">1622                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1623      @Override                                                                                                     </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1624      public Metadata getMetadata() {                                                                               </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1625          return metadata;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1626      }                                                                                                             </span>
<span  style="">1627                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1628      @Override                                                                                                     </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1629      public void setMetadata(Metadata metadata) {                                                                  </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1630          this.metadata = metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1631      }                                                                                                             </span>
<span  style="">1632                                                                                                                    </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1633      public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                              </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1634          return fieldMetadataProviders;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1635      }                                                                                                             </span>
<span  style="">1636                                                                                                                    </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1637      public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {                   </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1638          this.fieldMetadataProviders = fieldMetadataProviders;                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1639      }                                                                                                             </span>
<span  style="">1640                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1641      @Override                                                                                                     </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1642      public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                              </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1643          return defaultFieldMetadataProvider;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1644      }                                                                                                             </span>
<span  style="">1645                                                                                                                    </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1646      public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {             </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1647          this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1648      }                                                                                                             </span>
<span  style="">1649                                                                                                                    </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1650      protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                            </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1651          return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1652      }                                                                                                             </span>
<span  style="">1653                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1654      @Override                                                                                                     </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1655      public DynamicDaoHelper getDynamicDaoHelper() {                                                               </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1656          return dynamicDaoHelper;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1657      }                                                                                                             </span>
<span  style="">1658                                                                                                                    </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1659      public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                          </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1660          this.dynamicDaoHelper = dynamicDaoHelper;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1661      }                                                                                                             </span>
<span  style="">1662                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1663  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3   * BroadleafCommerce Open Admin Platform                                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18  package org.broadleafcommerce.openadmin.server.dao;                                                               </span>
<span  style="">  19                                                                                                                    </span>
<span  style="">  20                                                                                                                    </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21  import org.apache.commons.collections4.map.LRUMap;                                                                </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22  import org.apache.commons.lang.StringUtils;                                                                       </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23  import org.apache.commons.lang3.ArrayUtils;                                                                       </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24  import org.apache.commons.logging.Log;                                                                            </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25  import org.apache.commons.logging.LogFactory;                                                                     </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26  import org.broadleafcommerce.common.money.Money;                                                                  </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28  import org.broadleafcommerce.common.persistence.Status;                                                           </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29  import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                          </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30  import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                           </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31  import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                                       </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32  import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                           </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33  import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                                    </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34  import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                                </span>
<span class="-6402075427566847355" onmouseenter="enter('-6402075427566847355');" onmouseout="out('-6402075427566847355');" style="">  35  import org.broadleafcommerce.common.util.dao.EJB3ConfigurationDao;                                                </span>

<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  36  import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                               </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  37  import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                                    </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  38  import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                         </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  39  import org.broadleafcommerce.openadmin.dto.ClassTree;                                                             </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  40  import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                         </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  41  import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                            </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  42  import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                                    </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  43  import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                                </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  44  import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                           </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  45  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;                        </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style="">  46  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;      </span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  47  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest;          </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  48  import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                            </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  49  import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator;          </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  50  import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                              </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  51  import org.hibernate.Criteria;                                                                                    </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  52  import org.hibernate.MappingException;                                                                            </span>
<span class="3384414139931576142" onmouseenter="enter('3384414139931576142');" onmouseout="out('3384414139931576142');" style="">  53  import org.hibernate.SessionFactory;                                                                              </span>
<span class="-582519941885656893" onmouseenter="enter('-582519941885656893');" onmouseout="out('-582519941885656893');" style="">  54  import org.hibernate.ejb.HibernateEntityManager;                                                                  </span>

<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  55  import org.hibernate.mapping.PersistentClass;                                                                     </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  56  import org.hibernate.mapping.Property;                                                                            </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  57  import org.hibernate.type.ComponentType;                                                                          </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  58  import org.hibernate.type.Type;                                                                                   </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  59  import org.springframework.beans.BeansException;                                                                  </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  60  import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                           </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  61  import org.springframework.beans.factory.annotation.Value;                                                        </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  62  import org.springframework.context.ApplicationContext;                                                            </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  63  import org.springframework.context.ApplicationContextAware;                                                       </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  64  import org.springframework.context.annotation.Scope;                                                              </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  65  import org.springframework.core.annotation.AnnotationUtils;                                                       </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  66  import org.springframework.stereotype.Component;                                                                  </span>
<span  style="">  67                                                                                                                    </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  68  import java.io.Serializable;                                                                                      </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  69  import java.lang.reflect.Field;                                                                                   </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  70  import java.lang.reflect.Method;                                                                                  </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  71  import java.lang.reflect.Modifier;                                                                                </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  72  import java.math.BigDecimal;                                                                                      </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  73  import java.math.BigInteger;                                                                                      </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  74  import java.security.MessageDigest;                                                                               </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  75  import java.security.NoSuchAlgorithmException;                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  76  import java.util.ArrayList;                                                                                       </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  77  import java.util.Arrays;                                                                                          </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  78  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  79  import java.util.Comparator;                                                                                      </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  80  import java.util.Date;                                                                                            </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  81  import java.util.HashMap;                                                                                         </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  82  import java.util.HashSet;                                                                                         </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  83  import java.util.Iterator;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  84  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  85  import java.util.Map;                                                                                             </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  86  import java.util.Set;                                                                                             </span>
<span  style="">  87                                                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  88  import javax.annotation.Nonnull;                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  89  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  90  import javax.persistence.EntityManager;                                                                           </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  91  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  92  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  93  import javax.persistence.criteria.Path;                                                                           </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  94  import javax.persistence.criteria.Predicate;                                                                      </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  95  import javax.persistence.criteria.Root;                                                                           </span>
<span  style="">  96                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  97  /**                                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  98 - *                                                                                                                </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  99   * @author jfischer                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 100 - *                                                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 101   */                                                                                                               </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style=""> 102  @Component(&quot;blDynamicEntityDao&quot;)                                                                                  </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 103  @Scope(&quot;prototype&quot;)                                                                                               </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 104  public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                          </span>
<span  style=""> 105                                                                                                                    </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 106      private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                                 </span>
<span  style=""> 107                                                                                                                    </span>
<span class="6868700167988641076" onmouseenter="enter('6868700167988641076');" onmouseout="out('6868700167988641076');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 108 -    protected static final Map&lt;String,Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);            </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +    protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);           </span>
<span  style=""> 110                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 111      /**                                                                                                           </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 112       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 112       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cacheðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 113       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 113       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 114       * counts in METADATA_CACHE as a result of cache eviction                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 115       */                                                                                                           </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 116      protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                           </span>
<span  style=""> 117                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 118      /*                                                                                                            </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 119       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 119       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or ðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 120       * from polymorphism                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 121       */                                                                                                           </span>
<span  style=""> 122                                                                                                                    </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 123      protected EntityManager standardEntityManager;                                                                </span>
<span  style=""> 124                                                                                                                    </span>
<span class="-1756921446444913157" onmouseenter="enter('-1756921446444913157');" onmouseout="out('-1756921446444913157');" style=""> 125      protected EJB3ConfigurationDao ejb3ConfigurationDao;                                                          </span>
<span  style=""> 126                                                                                                                    </span>
<span class="1233233002335873562" onmouseenter="enter('1233233002335873562');" onmouseout="out('1233233002335873562');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 127 -    @Resource(name=&quot;blMetadata&quot;)                                                                                  </span>
<span class="-6532130265563446915" onmouseenter="enter('-6532130265563446915');" onmouseout="out('-6532130265563446915');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +    @Resource(name = &quot;blMetadata&quot;)                                                                                </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 129      protected Metadata metadata;                                                                                  </span>
<span  style=""> 130                                                                                                                    </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 131 -    @Resource(name=&quot;blEntityConfiguration&quot;)                                                                       </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +    @Resource(name = &quot;blEntityConfiguration&quot;)                                                                     </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 133      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style=""> 134                                                                                                                    </span>
<span class="-7705979847401793504" onmouseenter="enter('-7705979847401793504');" onmouseout="out('-7705979847401793504');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -    @Resource(name=&quot;blFieldMetadataProviders&quot;)                                                                    </span>
<span class="3306602206693592695" onmouseenter="enter('3306602206693592695');" onmouseout="out('3306602206693592695');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +    @Resource(name = &quot;blFieldMetadataProviders&quot;)                                                                  </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 137      protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                             </span>
<span  style=""> 138                                                                                                                    </span>
<span class="-6161973747859802400" onmouseenter="enter('-6161973747859802400');" onmouseout="out('-6161973747859802400');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -    @Resource(name= &quot;blDefaultFieldMetadataProvider&quot;)                                                             </span>
<span class="6169160625934658032" onmouseenter="enter('6169160625934658032');" onmouseout="out('6169160625934658032');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +    @Resource(name = &quot;blDefaultFieldMetadataProvider&quot;)                                                            </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 141      protected FieldMetadataProvider defaultFieldMetadataProvider;                                                 </span>
<span  style=""> 142                                                                                                                    </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 143      @Resource(name = &quot;blAppConfigurationMap&quot;)                                                                     </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 144      protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                                       </span>
<span  style=""> 145                                                                                                                    </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 146      protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                                     </span>
<span  style=""> 147                                                                                                                    </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 148      @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                                    </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 149      protected int cacheEntityMetaDataTtl;                                                                         </span>
<span  style=""> 150                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 151      /**                                                                                                           </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""> 152       * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 153       */                                                                                                           </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 154      @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                              </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 155      protected boolean validateMetadataCacheSizes;                                                                 </span>
<span  style=""> 156                                                                                                                    </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 157      protected long lastCacheFlushTime = System.currentTimeMillis();                                               </span>
<span  style=""> 158                                                                                                                    </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 159      protected ApplicationContext applicationContext;                                                              </span>
<span  style=""> 160                                                                                                                    </span>
<span  style=""> 161                                                                                                                    </span>
<span class="406787344558334895" onmouseenter="enter('406787344558334895');" onmouseout="out('406787344558334895');" style=""> 162      protected FieldManager fieldManager;                                                                          </span>
<span  style=""> 163                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 164      @Override                                                                                                     </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 165      public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {              </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 166          this.applicationContext = applicationContext;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167      }                                                                                                             </span>
<span  style=""> 168                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 169      @Override                                                                                                     </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 170      public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                                        </span>
<span class="-4852732082818110891" onmouseenter="enter('-4852732082818110891');" onmouseout="out('-4852732082818110891');" style=""> 171          return ((HibernateEntityManager) getStandardEntityManager()).getSession().createCriteria(entityClass);    </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172      }                                                                                                             </span>
<span  style=""> 173                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 174      @Override                                                                                                     </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 175      public &lt;T&gt; T persist(T entity) {                                                                              </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 176          standardEntityManager.persist(entity);                                                                    </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 177          standardEntityManager.flush();                                                                            </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 178          return entity;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179      }                                                                                                             </span>
<span  style=""> 180                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181      @Override                                                                                                     </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 182      public Object find(Class&lt;?&gt; entityClass, Object key) {                                                        </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 183          return standardEntityManager.find(entityClass, key);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184      }                                                                                                             </span>
<span  style=""> 185                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 186      @Override                                                                                                     </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 187      public &lt;T&gt; T merge(T entity) {                                                                                </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 188          T response = standardEntityManager.merge(entity);                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 189          standardEntityManager.flush();                                                                            </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 190          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191      }                                                                                                             </span>
<span  style=""> 192                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 193      @Override                                                                                                     </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 194      public void flush() {                                                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 195          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196      }                                                                                                             </span>
<span  style=""> 197                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 198      @Override                                                                                                     </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 199      public void detach(Serializable entity) {                                                                     </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 200          standardEntityManager.detach(entity);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201      }                                                                                                             </span>
<span  style=""> 202                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 203      @Override                                                                                                     </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 204      public void refresh(Serializable entity) {                                                                    </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 205          standardEntityManager.refresh(entity);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206      }                                                                                                             </span>
<span  style=""> 207                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208      @Override                                                                                                     </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 209      public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                                       </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 210          return (Serializable) standardEntityManager.find(entityClass, primaryKey);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211      }                                                                                                             </span>
<span  style=""> 212                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 213      @Override                                                                                                     </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 214      public void remove(Serializable entity) {                                                                     </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 215          standardEntityManager.remove(entity);                                                                     </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 216          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217      }                                                                                                             </span>
<span  style=""> 218                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 219      @Override                                                                                                     </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 220      public void clear() {                                                                                         </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 221          standardEntityManager.clear();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222      }                                                                                                             </span>
<span  style=""> 223                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 224      @Override                                                                                                     </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 225      public PersistentClass getPersistentClass(String targetClassName) {                                           </span>
<span class="1094697429742600857" onmouseenter="enter('1094697429742600857');" onmouseout="out('1094697429742600857');" style=""> 226          return ejb3ConfigurationDao.getConfiguration().getClassMapping(targetClassName);                          </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227      }                                                                                                             </span>
<span  style=""> 228                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 229      @Override                                                                                                     </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 230      public boolean useCache() {                                                                                   </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 231          if (cacheEntityMetaDataTtl &lt; 0) {                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 232              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233          }                                                                                                         </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 234          if (cacheEntityMetaDataTtl == 0) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 235              return false;                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 236          } else {                                                                                                  </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 237              if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {                     </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 238                  lastCacheFlushTime = System.currentTimeMillis();                                                  </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 239                  METADATA_CACHE.clear();                                                                           </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 240                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                            </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 241                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                              </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 242                  LOG.trace(&quot;Metadata cache evicted&quot;);                                                              </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 243                  return true; // cache is empty                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 244              } else {                                                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 245                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248      }                                                                                                             </span>
<span  style=""> 249                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 250      @Override                                                                                                     </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 251      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                               </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 252          return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253      }                                                                                                             </span>
<span  style=""> 254                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 255      @Override                                                                                                     </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 256      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 256      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymoðŸ”µ</abbr></span>
<span class="4836995963037146830" onmouseenter="enter('4836995963037146830');" onmouseout="out('4836995963037146830');" style=""> 257          return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, getSessionFactory(),           </span>
<span class="-2127426056034239365" onmouseenter="enter('-2127426056034239365');" onmouseout="out('-2127426056034239365');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 258 -            includeUnqualifiedPolymorphicEntities, useCache());                                                   </span>
<span class="-2127426056034239365" onmouseenter="enter('-2127426056034239365');" onmouseout="out('-2127426056034239365');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 259 +                includeUnqualifiedPolymorphicEntities, useCache());                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260      }                                                                                                             </span>
<span  style=""> 261                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 262      @Override                                                                                                     </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 263      public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                                  </span>
<span class="4314171543758543887" onmouseenter="enter('4314171543758543887');" onmouseout="out('4314171543758543887');" style=""><abbr title=" 264          return dynamicDaoHelper.getUpDownInheritance(testClass, getSessionFactory(), true, useCache(), ejb3ConfigurationDao);"> 264          return dynamicDaoHelper.getUpDownInheritance(testClass, getSessionFactory(), true, useCache(), ejb3ConfiguðŸ”µ</abbr></span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265      }                                                                                                             </span>
<span  style=""> 266                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267      @Override                                                                                                     </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 268      public Class&lt;?&gt; getImplClass(String className) {                                                              </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 269          Class&lt;?&gt; clazz = null;                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 270          try {                                                                                                     </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 271              clazz = entityConfiguration.lookupEntityClass(className);                                             </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 272          } catch (NoSuchBeanDefinitionException e) {                                                               </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 273              //do nothing                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274          }                                                                                                         </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 275          if (clazz == null) {                                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 276              try {                                                                                                 </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 277                  clazz = Class.forName(className);                                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 278              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 279                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280              }                                                                                                     </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 281              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282          }                                                                                                         </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 283          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284      }                                                                                                             </span>
<span  style=""> 285                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 286      @Override                                                                                                     </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 287      public Class&lt;?&gt; getCeilingImplClass(String className) {                                                       </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 288          Class&lt;?&gt; clazz;                                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 289          try {                                                                                                     </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 290              clazz = Class.forName(className);                                                                     </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 291          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 292              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293          }                                                                                                         </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 294          Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                       </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 295          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 296              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 297              entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298          }                                                                                                         </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 299          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 300              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 300              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requesðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301          }                                                                                                         </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 302          clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                              </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 303          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304      }                                                                                                             </span>
<span  style=""> 305                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 306      @Override                                                                                                     </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 307      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 307      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value)ðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""> 308          Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());        </span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 309          CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                                </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 310          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 311          Root root = criteria.from(clazz);                                                                         </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 312          Path idField = root.get(this.getIdField(clazz).getName());                                                </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 313          criteria.select(idField.as(Long.class));                                                                  </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 314          List&lt;Predicate&gt; restrictions = new ArrayList();                                                           </span>
<span  style=""> 315                                                                                                                    </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 316          Path path = null;                                                                                         </span>
<span  style=""> 317                                                                                                                    </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 318          // Support property name such as &quot;defaultSku.name&quot;                                                        </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 319          if (propertyName.contains(&quot;.&quot;)) {                                                                         </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 320              String[] split = propertyName.split(&quot;\\.&quot;);                                                           </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 321              for (String splitResult : split) {                                                                    </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 322                  if (path == null) {                                                                               </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 323                      path = root.get(splitResult);                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 324                  } else {                                                                                          </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 325                      path = path.get(splitResult);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 328          } else {                                                                                                  </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 329              path = root.get(propertyName);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330          }                                                                                                         </span>
<span  style=""> 331                                                                                                                    </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 332          restrictions.add(builder.equal(path, value));                                                             </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 333          Serializable identifier = this.getIdentifier(instance);                                                   </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 334          //when we creating the new item identifier is not exists                                                  </span>
<span class="4435895120511968207" onmouseenter="enter('4435895120511968207');" onmouseout="out('4435895120511968207');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 335 -        if(identifier != null) {                                                                                  </span>
<span class="-7245607102272548957" onmouseenter="enter('-7245607102272548957');" onmouseout="out('-7245607102272548957');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 336 +        if (identifier != null) {                                                                                 </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 337              restrictions.add(builder.notEqual(idField, identifier));                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 338          }                                                                                                         </span>
<span  style=""> 339                                                                                                                    </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 340          if (instance instanceof Status) {                                                                         </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 341              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 341              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(rðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342          }                                                                                                         </span>
<span  style=""> 343                                                                                                                    </span>
<span class="-7594542009457650837" onmouseenter="enter('-7594542009457650837');" onmouseout="out('-7594542009457650837');" style=""> 344          criteria.where((Predicate[]) restrictions.toArray(new Predicate[restrictions.size()]));                   </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 345          return this.standardEntityManager.createQuery(criteria).getResultList();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346      }                                                                                                             </span>
<span  style=""> 347                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 348      @Override                                                                                                     </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 349      public Serializable getIdentifier(Object entity) {                                                            </span>
<span class="-4676872321227135128" onmouseenter="enter('-4676872321227135128');" onmouseout="out('-4676872321227135128');" style=""> 350          return dynamicDaoHelper.getIdentifier(entity, standardEntityManager);                                     </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351      }                                                                                                             </span>
<span  style=""> 352                                                                                                                    </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 353      protected Field getIdField(Class&lt;?&gt; clazz) {                                                                  </span>
<span class="-7807532522862697435" onmouseenter="enter('-7807532522862697435');" onmouseout="out('-7807532522862697435');" style=""> 354          return dynamicDaoHelper.getIdField(clazz, standardEntityManager);                                         </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355      }                                                                                                             </span>
<span  style=""> 356                                                                                                                    </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 357      public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                              </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 358          return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359      }                                                                                                             </span>
<span  style=""> 360                                                                                                                    </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 361      protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                               </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 362          Class&lt;?&gt; testClass;                                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 363          try {                                                                                                     </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 364              testClass = Class.forName(tree.getFullyQualifiedClassname());                                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 365          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 366              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367          }                                                                                                         </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 368          if (clazz.equals(testClass)) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 369              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370          }                                                                                                         </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 371          if (clazz.getSuperclass().equals(testClass)) {                                                            </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 372              ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));             </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 373              createClassTreeFromAnnotation(clazz, myTree);                                                         </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 374              tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 375          } else {                                                                                                  </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 376              for (ClassTree child : tree.getChildren()) {                                                          </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 377                  addClassToTree(clazz, child);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380      }                                                                                                             </span>
<span  style=""> 381                                                                                                                    </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 382      protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                              </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 383          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 383          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.clðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 384          if (classPresentation != null) {                                                                          </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 385              String friendlyName = classPresentation.friendlyName();                                               </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 386              if (!StringUtils.isEmpty(friendlyName)) {                                                             </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 387                  myTree.setFriendlyName(friendlyName);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390      }                                                                                                             </span>
<span  style=""> 391                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 392      @Override                                                                                                     </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 393      public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                                </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 394          String ceilingClass = null;                                                                               </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 395          for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                               </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 396              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 396              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClasðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 397              if (classPresentation != null) {                                                                      </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 398 -               String ceilingEntity = classPresentation.ceilingDisplayEntity();                                   </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 399 +                String ceilingEntity = classPresentation.ceilingDisplayEntity();                                  </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 400                  if (!StringUtils.isEmpty(ceilingEntity)) {                                                        </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 401                      ceilingClass = ceilingEntity;                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 402                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405          }                                                                                                         </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 406          if (ceilingClass != null) {                                                                               </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 407              int pos = -1;                                                                                         </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 408              int j = 0;                                                                                            </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 409              for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                           </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 410                  if (clazz.getName().equals(ceilingClass)) {                                                       </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 411                      pos = j;                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 412                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413                  }                                                                                                 </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 414                  j++;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415              }                                                                                                     </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 416              if (pos &gt;= 0) {                                                                                       </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 417                  Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                          </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 418                  System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                          </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 419                  polymorphicClasses = temp;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421          }                                                                                                         </span>
<span  style=""> 422                                                                                                                    </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 423          ClassTree classTree = null;                                                                               </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 424          if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                            </span>
<span class="8356012055912964334" onmouseenter="enter('8356012055912964334');" onmouseout="out('8356012055912964334');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 425 -            Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length-1];                                  </span>
<span class="-2573418927406086687" onmouseenter="enter('-2573418927406086687');" onmouseout="out('-2573418927406086687');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 426 +            Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length - 1];                                </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 427              classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));              </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 428              createClassTreeFromAnnotation(topClass, classTree);                                                   </span>
<span class="2167523095919624833" onmouseenter="enter('2167523095919624833');" onmouseout="out('2167523095919624833');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 429 -            for (int j=polymorphicClasses.length-1; j &gt;= 0; j--) {                                                </span>
<span class="8024680820817190256" onmouseenter="enter('8024680820817190256');" onmouseout="out('8024680820817190256');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 430 +            for (int j = polymorphicClasses.length - 1; j &gt;= 0; j--) {                                            </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 431                  addClassToTree(polymorphicClasses[j], classTree);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432              }                                                                                                     </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 433              classTree.finalizeStructure(1);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434          }                                                                                                         </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 435          return classTree;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 436      }                                                                                                             </span>
<span  style=""> 437                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 438      @Override                                                                                                     </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 439      public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                             </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 440          Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                           </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 441          return getClassTree(sortedEntities);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 442      }                                                                                                             </span>
<span  style=""> 443                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 444      @Override                                                                                                     </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 445      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 445      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persisteðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 446          Class&lt;?&gt;[] entityClasses;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 447          try {                                                                                                     </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 448              entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));                      </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 449          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 450              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451          }                                                                                                         </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 452          if (!ArrayUtils.isEmpty(entityClasses)) {                                                                 </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 453              return getMergedProperties(                                                                           </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 454 -                entityName,                                                                                       </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 455 -                entityClasses,                                                                                    </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 456 -                (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 456 -                (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveIteðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 457 -                persistencePerspective.getAdditionalNonPersistentProperties(),                                    </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 458 -                persistencePerspective.getAdditionalForeignKeys(),                                                </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 459 -                MergedPropertyType.PRIMARY,                                                                       </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 460 -                persistencePerspective.getPopulateToOneFields(),                                                  </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 461 -                persistencePerspective.getIncludeFields(),                                                        </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 462 -                persistencePerspective.getExcludeFields(),                                                        </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 463 -                persistencePerspective.getConfigurationKey(),                                                     </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 464 -                &quot;&quot;                                                                                                </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 465 +                    entityName,                                                                                   </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 466 +                    entityClasses,                                                                                </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 467 +                    (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 467 +                    (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectivðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 468 +                    persistencePerspective.getAdditionalNonPersistentProperties(),                                </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 469 +                    persistencePerspective.getAdditionalForeignKeys(),                                            </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 470 +                    MergedPropertyType.PRIMARY,                                                                   </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 471 +                    persistencePerspective.getPopulateToOneFields(),                                              </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 472 +                    persistencePerspective.getIncludeFields(),                                                    </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 473 +                    persistencePerspective.getExcludeFields(),                                                    </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 474 +                    persistencePerspective.getConfigurationKey(),                                                 </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 475 +                    &quot;&quot;                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 476              );                                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 477          } else {                                                                                                  </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 478              Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                        </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 479              Class&lt;?&gt; targetClass;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 480              try {                                                                                                 </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 481                  targetClass = Class.forName(entityName);                                                          </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 482              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 483                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484              }                                                                                                     </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 485              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 485              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, ðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 486              for (String property : attributesMap.keySet()) {                                                      </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 487                  FieldMetadata presentationAttribute = attributesMap.get(property);                                </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 488                  if (!presentationAttribute.getExcluded()) {                                                       </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 489                      Field field = FieldManager.getSingleField(targetClass, property);                             </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 490                      if (!Modifier.isStatic(field.getModifiers())) {                                               </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 491                          boolean handled = false;                                                                  </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 492                          for (FieldMetadataProvider provider : fieldMetadataProviders) {                           </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 493                              MetadataProviderResponse response = provider.addMetadataFromFieldType(                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 494                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 494                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 495                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                           </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""> 496                                              property, null, false, 0, attributesMap, presentationAttribute,       </span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 497                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 497                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), fðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 498 -                                            mergedProperties);                                                    </span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 499 +                                    mergedProperties);                                                            </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 500                              if (MetadataProviderResponse.NOT_HANDLED != response) {                               </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 501                                  handled = true;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 502                              }                                                                                     </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 503                              if (MetadataProviderResponse.HANDLED_BREAK == response) {                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 504                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506                          }                                                                                         </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 507                          if (!handled) {                                                                           </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 508                              //this provider is not included in the provider list on purpose - it is designed to handle basic"> 508                              //this provider is not included in the provider list on purpose - it is designed to haðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""> 509                              //AdminPresentation fields, and those fields not admin presentation annotated at all  </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 510                              defaultFieldMetadataProvider.addMetadataFromFieldType(                                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 511                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 511                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 512                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,                 </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 513                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 513                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetaðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 514                                              field.getType(), this), mergedProperties);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 516                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518              }                                                                                                     </span>
<span  style=""> 519                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 520              return mergedProperties;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 521          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522      }                                                                                                             </span>
<span  style=""> 523                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 524      @Override                                                                                                     </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 525      public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                                </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 526          Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                                  </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 527          return getMergedProperties(                                                                               </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 528                  cls.getName(),                                                                                    </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 529                  polymorphicTypes,                                                                                 </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 530                  null,                                                                                             </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 531 -                new String[] {},                                                                                  </span>
<span class="-4966763439087897722" onmouseenter="enter('-4966763439087897722');" onmouseout="out('-4966763439087897722');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 532 -                new ForeignKey[] {},                                                                              </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 533 +                new String[]{},                                                                                   </span>
<span class="-145139174237894659" onmouseenter="enter('-145139174237894659');" onmouseout="out('-145139174237894659');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 534 +                new ForeignKey[]{},                                                                               </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 535                  MergedPropertyType.PRIMARY,                                                                       </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 536                  true,                                                                                             </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 537 -                new String[] {},                                                                                  </span>
<span class="-2586447238972965555" onmouseenter="enter('-2586447238972965555');" onmouseout="out('-2586447238972965555');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 538 -                new String[] {},                                                                                  </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 539 +                new String[]{},                                                                                   </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 540 +                new String[]{},                                                                                   </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 541                  null,                                                                                             </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 542                  &quot;&quot;                                                                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 543 -                );                                                                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 544 +        );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 545      }                                                                                                             </span>
<span  style=""> 546                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 547      @Override                                                                                                     </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 548      public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                                        </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 549              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 550              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 551              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 552              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 553              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 554              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 555              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 556              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 557              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 558              String configurationKey,                                                                              </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 559              String prefix) {                                                                                      </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 560          Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 561                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 562                  entities,                                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 563                  foreignField,                                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 564                  additionalNonPersistentProperties,                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 565                  additionalForeignFields,                                                                          </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 566                  mergedPropertyType,                                                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 567                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 568                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 569                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 570                  configurationKey,                                                                                 </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 571                  new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 572                  prefix,                                                                                           </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 573                  false,                                                                                            </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 574                  &quot;&quot;);                                                                                              </span>
<span  style=""> 575                                                                                                                    </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 576          final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                                        </span>
<span  style=""> 577                                                                                                                    </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 578          for (final String key : mergedProperties.keySet()) {                                                      </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""> 579              if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {     </span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 580                  removeKeys.add(key);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 581              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 582          }                                                                                                         </span>
<span  style=""> 583                                                                                                                    </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 584          for (String removeKey : removeKeys) {                                                                     </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 585              mergedProperties.remove(removeKey);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586          }                                                                                                         </span>
<span  style=""> 587                                                                                                                    </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 588          // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 588          // Allow field metadata providers to contribute additional fields here. These latestage handlers take placðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 589          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 589          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally caðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 590          // like properties gleaned from reflection typically are.                                                 </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 591          Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                              </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 592          for (Class&lt;?&gt; targetClass : entities) {                                                                   </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 593              for (String key : keys) {                                                                             </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 594                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 594                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;ðŸ”µ</abbr></span>
<span  style=""> 595                                                                                                                    </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 596                  boolean foundOneOrMoreHandlers = false;                                                           </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 597                  for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {                      </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 598                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 598                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedPropðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 599                      if (MetadataProviderResponse.NOT_HANDLED != response) {                                       </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 600                          foundOneOrMoreHandlers = true;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 601                      }                                                                                             </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 602                      if (MetadataProviderResponse.HANDLED_BREAK == response) {                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 603                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 604                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 605                  }                                                                                                 </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 606                  if (!foundOneOrMoreHandlers) {                                                                    </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 607                      defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 608                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 610          }                                                                                                         </span>
<span  style=""> 611                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 612          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 613      }                                                                                                             </span>
<span  style=""> 614                                                                                                                    </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 615      protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                          </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 616              final String ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 617              final Class&lt;?&gt;[] entities,                                                                            </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 618              final ForeignKey foreignField,                                                                        </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 619              final String[] additionalNonPersistentProperties,                                                     </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 620              final ForeignKey[] additionalForeignFields,                                                           </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 621              final MergedPropertyType mergedPropertyType,                                                          </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 622              final Boolean populateManyToOneFields,                                                                </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 623              final String[] includeFields,                                                                         </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 624              final String[] excludeFields,                                                                         </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 625              final String configurationKey,                                                                        </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 626              final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                   </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 627              final String prefix,                                                                                  </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 628              final Boolean isParentExcluded,                                                                       </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 629              final String parentPrefix) {                                                                          </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 630          PropertyBuilder propertyBuilder = new PropertyBuilder() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 631              @Override                                                                                             </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 632              public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {                        </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 633                  Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                    </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 634                  Boolean classAnnotatedPopulateManyToOneFields;                                                    </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 635                  if (overridePopulateManyToOne != null) {                                                          </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 636                      classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 637                  } else {                                                                                          </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 638                      classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 639                  }                                                                                                 </span>
<span  style=""> 640                                                                                                                    </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 641                  buildPropertiesFromPolymorphicEntities(                                                           </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 642 -                    entities,                                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 643 -                    foreignField,                                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 644 -                    additionalNonPersistentProperties,                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 645 -                    additionalForeignFields,                                                                      </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 646 -                    mergedPropertyType,                                                                           </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 647 -                    classAnnotatedPopulateManyToOneFields,                                                        </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 648 -                    includeFields,                                                                                </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 649 -                    excludeFields,                                                                                </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 650 -                    configurationKey,                                                                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 651 -                    ceilingEntityFullyQualifiedClassname,                                                         </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 652 -                    mergedProperties,                                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 653 -                    parentClasses,                                                                                </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 654 -                    prefix,                                                                                       </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 655 -                    isParentExcluded,                                                                             </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 656 -                    parentPrefix);                                                                                </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 657 +                        entities,                                                                                 </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 658 +                        foreignField,                                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 659 +                        additionalNonPersistentProperties,                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 660 +                        additionalForeignFields,                                                                  </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 661 +                        mergedPropertyType,                                                                       </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 662 +                        classAnnotatedPopulateManyToOneFields,                                                    </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 663 +                        includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 664 +                        excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 665 +                        configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 666 +                        ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 667 +                        mergedProperties,                                                                         </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 668 +                        parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 669 +                        prefix,                                                                                   </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 670 +                        isParentExcluded,                                                                         </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 671 +                        parentPrefix);                                                                            </span>
<span  style=""> 672                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 673                  return mergedProperties;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 675          };                                                                                                        </span>
<span  style=""> 676                                                                                                                    </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 677          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 677          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix,ðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""> 678          applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);       </span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 679          applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);                       </span>
<span  style=""> 680                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 681          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 682      }                                                                                                             </span>
<span  style=""> 683                                                                                                                    </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 684      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 684      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;StðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 685          for (String key : mergedProperties.keySet()) {                                                            </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 686              boolean isForeign = false;                                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 687              if (foreignField != null) {                                                                           </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 688                  isForeign = foreignField.getManyToField().equals(key);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689              }                                                                                                     </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 690              if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                                     </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 691                  for (ForeignKey foreignKey : additionalForeignFields) {                                           </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 692                      isForeign = foreignKey.getManyToField().equals(key);                                          </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 693                      if (isForeign) {                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 694                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 696                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697              }                                                                                                     </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 698              if (isForeign) {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 699                  FieldMetadata metadata = mergedProperties.get(key);                                               </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 700                  metadata.setExcluded(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 702          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 703      }                                                                                                             </span>
<span  style=""> 704                                                                                                                    </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 705      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 705      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, BooleanðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 706          //check includes                                                                                          </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 707          if (!ArrayUtils.isEmpty(includeFields)) {                                                                 </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 708              for (String include : includeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 709                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 710                      String testKey = prefix + key;                                                                </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 711                      if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {                        </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 712                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 713                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 713                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appeaðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 714                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 715                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 716                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 717                          if (!isParentExcluded) {                                                                  </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 718                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 718                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in ðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 719                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 720                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 721                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723              }                                                                                                     </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 724          } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                          </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 725              //check excludes                                                                                      </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 726              for (String exclude : excludeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 727                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 728                      String testKey = prefix + key;                                                                </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 729                      if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                           </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 730                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 731                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 731                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in thðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 732                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 733                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 734                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 735                          if (!isParentExcluded) {                                                                  </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 736                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 736                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 737                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 738                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 739                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 741              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 743      }                                                                                                             </span>
<span  style=""> 744                                                                                                                    </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 745      protected String pad(String s, int length, char pad) {                                                        </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 746          StringBuilder buffer = new StringBuilder(s);                                                              </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 747          while (buffer.length() &lt; length) {                                                                        </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 748              buffer.insert(0, pad);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 749          }                                                                                                         </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 750          return buffer.toString();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 751      }                                                                                                             </span>
<span  style=""> 752                                                                                                                    </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 753      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 753      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] adðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 754          StringBuilder sb = new StringBuilder(150);                                                                </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 755          sb.append(ceilingEntityFullyQualifiedClassname);                                                          </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 756          sb.append(clazz.hashCode());                                                                              </span>
<span class="5254205421809409926" onmouseenter="enter('5254205421809409926');" onmouseout="out('5254205421809409926');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 757 -        sb.append(foreignField==null?&quot;&quot;:foreignField.toString());                                                 </span>
<span class="897254265268459193" onmouseenter="enter('897254265268459193');" onmouseout="out('897254265268459193');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 758 +        sb.append(foreignField == null ? &quot;&quot; : foreignField.toString());                                           </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 759          sb.append(configurationKey);                                                                              </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 760          sb.append(isParentExcluded);                                                                              </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 761          if (additionalNonPersistentProperties != null) {                                                          </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 762              for (String prop : additionalNonPersistentProperties) {                                               </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 763                  sb.append(prop);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 764              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 765          }                                                                                                         </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 766          if (additionalForeignFields != null) {                                                                    </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 767              for (ForeignKey key : additionalForeignFields) {                                                      </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 768                  sb.append(key.toString());                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 769              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 770          }                                                                                                         </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 771          sb.append(mergedPropertyType);                                                                            </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 772          sb.append(populateManyToOneFields);                                                                       </span>
<span  style=""> 773                                                                                                                    </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 774          String digest;                                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 775          try {                                                                                                     </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 776              MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                                  </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 777              byte[] messageDigest = md.digest(sb.toString().getBytes());                                           </span>
<span class="-5380974963518813864" onmouseenter="enter('-5380974963518813864');" onmouseout="out('-5380974963518813864');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 778 -            BigInteger number = new BigInteger(1,messageDigest);                                                  </span>
<span class="-8545273925870020991" onmouseenter="enter('-8545273925870020991');" onmouseout="out('-8545273925870020991');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 779 +            BigInteger number = new BigInteger(1, messageDigest);                                                 </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 780              digest = number.toString(16);                                                                         </span>
<span class="-4215171220869553942" onmouseenter="enter('-4215171220869553942');" onmouseout="out('-4215171220869553942');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 781 -        } catch(NoSuchAlgorithmException e) {                                                                     </span>
<span class="-7636130466757008337" onmouseenter="enter('-7636130466757008337');" onmouseout="out('-7636130466757008337');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 782 +        } catch (NoSuchAlgorithmException e) {                                                                    </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 783              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 784          }                                                                                                         </span>
<span  style=""> 785                                                                                                                    </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 786          String key = pad(digest, 32, &#x27;0&#x27;);                                                                        </span>
<span  style=""> 787                                                                                                                    </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 788          if (LOG.isDebugEnabled()) {                                                                               </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 789              LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 790          }                                                                                                         </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 791          return key;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 792      }                                                                                                             </span>
<span  style=""> 793                                                                                                                    </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 794      protected void buildPropertiesFromPolymorphicEntities(                                                        </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 795              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 796              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 797              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 798              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 799              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 800              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 801              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 802              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 803              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 804              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 805              Map&lt;String, FieldMetadata&gt; mergedProperties,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 806              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 807              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 808              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 809              String parentPrefix) {                                                                                </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 810          for (Class&lt;?&gt; clazz : entities) {                                                                         </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 811              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 811              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistðŸ”µ</abbr></span>
<span  style=""> 812                                                                                                                    </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 813              Map&lt;String, FieldMetadata&gt; cacheData = null;                                                          </span>
<span class="-4478904008704459763" onmouseenter="enter('-4478904008704459763');" onmouseout="out('-4478904008704459763');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 814 -            synchronized(DynamicDaoHelperImpl.LOCK_OBJECT) {                                                      </span>
<span class="-4272128368465670476" onmouseenter="enter('-4272128368465670476');" onmouseout="out('-4272128368465670476');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 815 +            synchronized (DynamicDaoHelperImpl.LOCK_OBJECT) {                                                     </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 816                  if (useCache()) {                                                                                 </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 817                      cacheData = METADATA_CACHE.get(cacheKey);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 818                  }                                                                                                 </span>
<span  style=""> 819                                                                                                                    </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 820                  if (cacheData == null) {                                                                          </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 821                      Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                               </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 822 -                        clazz,                                                                                    </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 823 -                        foreignField,                                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 824 -                        additionalNonPersistentProperties,                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 825 -                        additionalForeignFields,                                                                  </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 826 -                        mergedPropertyType,                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 827 -                        populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 828 -                        includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 829 -                        excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 830 -                        configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 831 -                        ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 832 -                        parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 833 -                        prefix,                                                                                   </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 834 -                        isParentExcluded,                                                                         </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 835 -                        parentPrefix);                                                                            </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 836 +                            clazz,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 837 +                            foreignField,                                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 838 +                            additionalNonPersistentProperties,                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 839 +                            additionalForeignFields,                                                              </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 840 +                            mergedPropertyType,                                                                   </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 841 +                            populateManyToOneFields,                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 842 +                            includeFields,                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 843 +                            excludeFields,                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 844 +                            configurationKey,                                                                     </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 845 +                            ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 846 +                            parentClasses,                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 847 +                            prefix,                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 848 +                            isParentExcluded,                                                                     </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 849 +                            parentPrefix);                                                                        </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""> 850                      //first check all the properties currently in there to see if my entity inherits from them    </span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 851                      for (Class&lt;?&gt; clazz2 : entities) {                                                            </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 852                          if (!clazz2.getName().equals(clazz.getName())) {                                          </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 853                              for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {                     </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 854                                  FieldMetadata metadata = entry.getValue();                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 855                                  try {                                                                             </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""> 856                                      if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {</span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 857                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 857                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new StriðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 858                                          metadata.setAvailableToTypes(both);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 859                                      }                                                                             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 860                                  } catch (ClassNotFoundException e) {                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 861                                      throw new RuntimeException(e);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 862                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 863                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 864                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 865                      }                                                                                             </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 866                      METADATA_CACHE.put(cacheKey, props);                                                          </span>
<span  style=""> 867                                                                                                                    </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 868                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 869                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 869                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 870                      }                                                                                             </span>
<span  style=""> 871                                                                                                                    </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 872                      if (validateMetadataCacheSizes) {                                                             </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 873                          Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                                </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 874                          Integer currentSize = props.size();                                                       </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 875                          if (previousSize == null) {                                                               </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 876                              METADATA_CACHE_SIZES.put(cacheKey, currentSize);                                      </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 877                          } else if (!currentSize.equals(previousSize)) {                                           </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 878                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 878                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the kðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 879                              LOG.error(msg);                                                                       </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 880                              throw new RuntimeException(msg);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 881                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 882                      }                                                                                             </span>
<span  style=""> 883                                                                                                                    </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 884                      cacheData = props;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 885                  } else {                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 886                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 887                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 887                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 888                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 889                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 890              }                                                                                                     </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 891              //clone the metadata before passing to the system                                                     </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 892              Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                             </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 893              for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                                 </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 894                  clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 895              }                                                                                                     </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 896              mergedProperties.putAll(clonedCache);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 897          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 898      }                                                                                                             </span>
<span  style=""> 899                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 900      @Override                                                                                                     </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 901      public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                           </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 902          Field[] allFields = new Field[]{};                                                                        </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 903          boolean eof = false;                                                                                      </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 904          Class&lt;?&gt; currentClass = targetClass;                                                                      </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 905          while (!eof) {                                                                                            </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 906              Field[] fields = currentClass.getDeclaredFields();                                                    </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 907              allFields = ArrayUtils.addAll(allFields, fields);                                                     </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 908              if (currentClass.getSuperclass() != null) {                                                           </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 909                  currentClass = currentClass.getSuperclass();                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 910              } else {                                                                                              </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 911                  eof = true;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 912              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 913          }                                                                                                         </span>
<span  style=""> 914                                                                                                                    </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 915          return allFields;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 916      }                                                                                                             </span>
<span  style=""> 917                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 918      @Override                                                                                                     </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 919      public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 920 -        String propertyName,                                                                                      </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 921 -        String friendlyPropertyName,                                                                              </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 922 -        Class&lt;?&gt; targetClass,                                                                                     </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 923 -        Class&lt;?&gt; parentClass,                                                                                     </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 924 -        MergedPropertyType mergedPropertyType                                                                     </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 925 +            String propertyName,                                                                                  </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 926 +            String friendlyPropertyName,                                                                          </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 927 +            Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 928 +            Class&lt;?&gt; parentClass,                                                                                 </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 929 +            MergedPropertyType mergedPropertyType                                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 930      ) {                                                                                                           </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 931          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 932          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 933          presentationAttribute.setFriendlyName(friendlyPropertyName);                                              </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 934          if (String.class.isAssignableFrom(targetClass)) {                                                         </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 935              presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 936              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 937              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 937              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, ðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 938          } else if (Boolean.class.isAssignableFrom(targetClass)) {                                                 </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 939              presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 940              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 941              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 941              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN,ðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 942          } else if (Date.class.isAssignableFrom(targetClass)) {                                                    </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 943              presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                                  </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 944              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 945              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 945              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, nuðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 946          } else if (Money.class.isAssignableFrom(targetClass)) {                                                   </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 947              presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                                 </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 948              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 949              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 949              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, nðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 950          } else if (                                                                                               </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 951                  Byte.class.isAssignableFrom(targetClass) ||                                                       </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 952 -                Integer.class.isAssignableFrom(targetClass) ||                                                    </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 953 -                Long.class.isAssignableFrom(targetClass) ||                                                       </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 954 -                Short.class.isAssignableFrom(targetClass)                                                         </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 955 -            ) {                                                                                                   </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 956 +                        Integer.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 957 +                        Long.class.isAssignableFrom(targetClass) ||                                               </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 958 +                        Short.class.isAssignableFrom(targetClass)                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 959 +                ) {                                                                                               </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 960              presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 961              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 962              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 962              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER,ðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 963          } else if (                                                                                               </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 964                  Double.class.isAssignableFrom(targetClass) ||                                                     </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 965 -                BigDecimal.class.isAssignableFrom(targetClass)                                                    </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 966 -            ) {                                                                                                   </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 967 +                        BigDecimal.class.isAssignableFrom(targetClass)                                            </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 968 +                ) {                                                                                               </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 969              presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 970              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 971              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 971              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL,ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 972          }                                                                                                         </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 973          ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                           </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 974          ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                           </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 975          ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                                        </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 976          ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                          </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 977          ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                            </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 978          ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                                        </span>
<span  style=""> 979                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 980          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 981      }                                                                                                             </span>
<span  style=""> 982                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 983      @Override                                                                                                     </span>
<span class="6264717541951517602" onmouseenter="enter('6264717541951517602');" onmouseout="out('6264717541951517602');" style=""> 984      public SessionFactory getSessionFactory() {                                                                   </span>
<span class="-5348429905979410967" onmouseenter="enter('-5348429905979410967');" onmouseout="out('-5348429905979410967');" style=""> 985          return dynamicDaoHelper.getSessionFactory((HibernateEntityManager) standardEntityManager);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 986      }                                                                                                             </span>
<span  style=""> 987                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 988      @Override                                                                                                     </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 989      public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                              </span>
<span class="3703461532319914054" onmouseenter="enter('3703461532319914054');" onmouseout="out('3703461532319914054');" style=""> 990          return dynamicDaoHelper.getIdMetadata(entityClass, (HibernateEntityManager) standardEntityManager);       </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 991      }                                                                                                             </span>
<span  style=""> 992                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 993      @Override                                                                                                     </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 994      public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                                  </span>
<span class="-3410507551110236768" onmouseenter="enter('-3410507551110236768');" onmouseout="out('-3410507551110236768');" style=""> 995          return dynamicDaoHelper.getPropertyNames(entityClass, (HibernateEntityManager) standardEntityManager);    </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 996      }                                                                                                             </span>
<span  style=""> 997                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 998      @Override                                                                                                     </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 999      public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                                    </span>
<span class="6935179783227619140" onmouseenter="enter('6935179783227619140');" onmouseout="out('6935179783227619140');" style="">1000          return dynamicDaoHelper.getPropertyTypes(entityClass, (HibernateEntityManager) standardEntityManager);    </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1001      }                                                                                                             </span>
<span  style="">1002                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1003      @Override                                                                                                     </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style="">1004      public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {              </span>
<span class="5293628859698650826" onmouseenter="enter('5293628859698650826');" onmouseout="out('5293628859698650826');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1005 -        Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length-1]);                      </span>
<span class="8704790465852273120" onmouseenter="enter('8704790465852273120');" onmouseout="out('8704790465852273120');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1006 +        Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length - 1]);                    </span>
<span  style="">1007                                                                                                                    </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style="">1008          Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);       </span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style="">1009          metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);                </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style="">1010          metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);             </span>
<span  style="">1011                                                                                                                    </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style="">1012          return mergedTabAndGroupMetadata;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1013      }                                                                                                             </span>
<span  style="">1014                                                                                                                    </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style="">1015      public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                            </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style="">1016          Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                                   </span>
<span  style="">1017                                                                                                                    </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style="">1018          if (ceilingEntity != null) {                                                                              </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style="">1019              entities = ArrayUtils.add(entities, ceilingEntity);                                                   </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style="">1020              while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                         </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style="">1021                  entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                               </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style="">1022                  ceilingEntity = ceilingEntity.getSuperclass();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1023              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1024          }                                                                                                         </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style="">1025          return entities;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1026      }                                                                                                             </span>
<span  style="">1027                                                                                                                    </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style="">1028      protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1029              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1030              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1031              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1032              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1033              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1034              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1035              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1036              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1037              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1038              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1039              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1040              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1041              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1042              String parentPrefix) {                                                                                </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title="1043          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);">1043          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1044          if (isParentExcluded) {                                                                                   </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style="">1045              for (String key : presentationAttributes.keySet()) {                                                  </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style="">1046                  LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);       </span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style="">1047                  presentationAttributes.get(key).setExcluded(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1048              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1049          }                                                                                                         </span>
<span  style="">1050                                                                                                                    </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style="">1051          Map idMetadata = getIdMetadata(targetClass);                                                              </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style="">1052          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style="">1053          String idProperty = (String) idMetadata.get(&quot;name&quot;);                                                      </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style="">1054          List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                               </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style="">1055          propertyNames.add(idProperty);                                                                            </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style="">1056          Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                              </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style="">1057          List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                                 </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style="">1058          propertyTypes.add(idType);                                                                                </span>
<span  style="">1059                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1060          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style="">1061          Iterator testIter = persistentClass.getPropertyIterator();                                                </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style="">1062          List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                          </span>
<span  style="">1063                                                                                                                    </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style="">1064          //check the properties for problems                                                                       </span>
<span class="-665927915203022170" onmouseenter="enter('-665927915203022170');" onmouseout="out('-665927915203022170');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1065 -        while(testIter.hasNext()) {                                                                               </span>
<span class="7653822827986770755" onmouseenter="enter('7653822827986770755');" onmouseout="out('7653822827986770755');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1066 +        while (testIter.hasNext()) {                                                                              </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style="">1067              Property property = (Property) testIter.next();                                                       </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style="">1068              if (property.getName().contains(&quot;.&quot;)) {                                                               </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title="1069                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);">1069                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;)ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1070              }                                                                                                     </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style="">1071              propertyList.add(property);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1072          }                                                                                                         </span>
<span  style="">1073                                                                                                                    </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1074          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1075 -            targetClass,                                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1076 -            foreignField,                                                                                         </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1077 -            additionalForeignFields,                                                                              </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1078 -            additionalNonPersistentProperties,                                                                    </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1079 -            mergedPropertyType,                                                                                   </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1080 -            presentationAttributes,                                                                               </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1081 -            propertyList,                                                                                         </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1082 -            fields,                                                                                               </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1083 -            propertyNames,                                                                                        </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1084 -            propertyTypes,                                                                                        </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1085 -            idProperty,                                                                                           </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1086 -            populateManyToOneFields,                                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1087 -            includeFields,                                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1088 -            excludeFields,                                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1089 -            configurationKey,                                                                                     </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1090 -            ceilingEntityFullyQualifiedClassname,                                                                 </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1091 -            parentClasses,                                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1092 -            prefix,                                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1093 -            isParentExcluded,                                                                                     </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1094 -            false,                                                                                                </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1095 -            parentPrefix                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1096 +                targetClass,                                                                                      </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1097 +                foreignField,                                                                                     </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1098 +                additionalForeignFields,                                                                          </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1099 +                additionalNonPersistentProperties,                                                                </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1100 +                mergedPropertyType,                                                                               </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1101 +                presentationAttributes,                                                                           </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1102 +                propertyList,                                                                                     </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1103 +                fields,                                                                                           </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1104 +                propertyNames,                                                                                    </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1105 +                propertyTypes,                                                                                    </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1106 +                idProperty,                                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1107 +                populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1108 +                includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1109 +                excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1110 +                configurationKey,                                                                                 </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1111 +                ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1112 +                parentClasses,                                                                                    </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1113 +                prefix,                                                                                           </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1114 +                isParentExcluded,                                                                                 </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1115 +                false,                                                                                            </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1116 +                parentPrefix                                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1117          );                                                                                                        </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1118          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1119          presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                    </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1120          presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                           </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1121          if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                             </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1122              Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                              </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1123              for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {                    </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1124                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1124                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentPropertðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1125                      String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;                   </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1126                      //get final property if this is a dot delimited property                                      </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1127                      int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                           </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1128                      if (finalDotPos &gt;= 0) {                                                                       </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1129                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1129                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1130                      }                                                                                             </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style="">1131                      //check all the polymorphic types on this target class to see if the end property exists      </span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1132                      Field testField = null;                                                                       </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1133                      Method testMethod = null;                                                                     </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1134                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1135                          try {                                                                                     </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1136                              testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);                      </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1137                              if (testMethod != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1138                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1139                              }                                                                                     </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1140                          } catch (NoSuchMethodException e) {                                                       </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1141                              //do nothing - method does not exist                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1142                          }                                                                                         </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1143                          testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1144                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1145                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1146                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1147                      }                                                                                             </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1148                      //if the property exists, add it to the metadata for this class                               </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1149                      if (testField != null || testMethod != null) {                                                </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1150                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1150                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1151                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1152                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1153              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1154          }                                                                                                         </span>
<span  style="">1155                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1156          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1157      }                                                                                                             </span>
<span  style="">1158                                                                                                                    </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1159      protected void buildProperties(                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1160              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1161              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1162              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1163              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1164              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1165              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1166              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1167              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1168              List&lt;String&gt; propertyNames,                                                                           </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1169              List&lt;Type&gt; propertyTypes,                                                                             </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1170              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1171              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1172              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1173              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1174              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1175              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1176              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1177              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1178              Boolean isParentExcluded,                                                                             </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1179              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1180              String parentPrefix) {                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1181          int j = 0;                                                                                                </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1182          Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1183              @Override                                                                                             </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1184              public int compare(String o1, String o2) {                                                            </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1185                  //check for property name equality and for map field properties                                   </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1186                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1186                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FielðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1187                      return 0;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1188                  }                                                                                                 </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1189                  return o1.compareTo(o2);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1190              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1191          };                                                                                                        </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1192          List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());                      </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1193          Collections.sort(presentationKeyList);                                                                    </span>
<span  style="">1194                                                                                                                    </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1195          for (String propertyName : propertyNames) {                                                               </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1196              final Type type = propertyTypes.get(j);                                                               </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1197              boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);               </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1198              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1198              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix,ðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1199              j++;                                                                                                  </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1200              Field myField = getFieldManager().getField(targetClass, propertyName);                                </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1201              if (myField == null) {                                                                                </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1202                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1202                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1203                  myField = getFieldManager().getField(targetClass, prefix + propertyName);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1204              }                                                                                                     </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1205              if (                                                                                                  </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1206                      !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                              </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1207 -                    isPropertyForeignKey ||                                                                       </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1208 -                    additionalForeignKeyIndexPosition &gt;= 0 ||                                                     </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1209 -                    Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0          </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1210 -            ) {                                                                                                   </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1211 +                            isPropertyForeignKey ||                                                               </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1212 +                            additionalForeignKeyIndexPosition &gt;= 0 ||                                             </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1213 +                            Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0  </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1214 +                    ) {                                                                                           </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1215                  if (myField != null) {                                                                            </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1216                      boolean handled = false;                                                                      </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1217                      for (FieldMetadataProvider provider : fieldMetadataProviders) {                               </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1218                          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);           </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1219                          if (presentationAttribute != null) {                                                      </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1220                              setExcludedBasedOnShowIfProperty(presentationAttribute);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1221                          }                                                                                         </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1222                          MetadataProviderResponse response = provider.addMetadataFromFieldType(                    </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1223                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1223                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1224                                          mergedPropertyType, componentProperties, idProperty, prefix,              </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1225                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1225                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPositioðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1226                                          presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1226                                          presentationAttributes, presentationAttribute, null, type.getReturnedClassðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1227                          if (MetadataProviderResponse.NOT_HANDLED != response) {                                   </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1228                              handled = true;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1229                          }                                                                                         </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1230                          if (MetadataProviderResponse.HANDLED_BREAK == response) {                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1231                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1232                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1233                      }                                                                                             </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1234                      if (!handled) {                                                                               </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1235                          buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,           </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1236 -                            additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,        </span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1237 -                            componentProperties, fields, idProperty, populateManyToOneFields, includeFields,      </span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1238 -                            excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses, </span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="1239 -                            prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1239 -                            prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKðŸ”µ</abbr></span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1240 +                                additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,    </span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1241 +                                componentProperties, fields, idProperty, populateManyToOneFields, includeFields,  </span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="1242 +                                excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1242 +                                excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClassðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="1243 +                                prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1243 +                                prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1244                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1245                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1246              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1247          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1248      }                                                                                                             </span>
<span  style="">1249                                                                                                                    </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1250      public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                                   </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1251          setExcludedBasedOnShowIfProperty(presentationAttribute);                                                  </span>
<span  style="">1252                                                                                                                    </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1253          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1253          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttðŸ”µ</abbr></span>
<span  style="">1254                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1255      }                                                                                                             </span>
<span  style="">1256                                                                                                                    </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1257      protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                                </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1258          if (fieldMetadata != null                                                                                 </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1259 -            &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                                          </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1260 -            &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                              </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1261 -            &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {                 </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1262 +                &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                                      </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1263 +                &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                          </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1264 +                &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {             </span>
<span  style="">1265                                                                                                                    </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1266              //do not include this in the display if it returns false.                                             </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1267              fieldMetadata.setExcluded(true);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1268          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1269      }                                                                                                             </span>
<span  style="">1270                                                                                                                    </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1271      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1271      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, ClasðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1272                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1272                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefixðŸ”µ</abbr></span>
<span  style="">1273                                                                                                                    </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1274          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1274          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, tarðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1275                  ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                         </span>
<span  style="">1276                                                                                                                    </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1277          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1277          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefiðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1278                  parentPrefix, propertyName);                                                                      </span>
<span  style="">1279                                                                                                                    </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1280          return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1281      }                                                                                                             </span>
<span  style="">1282                                                                                                                    </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1283      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1283      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPreðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1284          return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1285      }                                                                                                             </span>
<span  style="">1286                                                                                                                    </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1287      protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String           </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1288              propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean              </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1289 -            isComponentPrefix) {                                                                                  </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1290 +                                                            isComponentPrefix) {                                  </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1291          Boolean response = false;                                                                                 </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1292          //don&#x27;t want to shun a self-referencing property in an @Embeddable                                        </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1293          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1293          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1ðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1294          if (shouldTest) {                                                                                         </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1295              Field testField = getFieldManager().getField(targetClass, propertyName);                              </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1296              if (testField == null) {                                                                              </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1297                  Class&lt;?&gt;[] entities;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1298                  try {                                                                                             </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1299                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1299                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1300                  } catch (ClassNotFoundException e) {                                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1301                      throw new RuntimeException(e);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1302                  }                                                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1303                  for (Class&lt;?&gt; clazz : entities) {                                                                 </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1304                      testField = getFieldManager().getField(clazz, propertyName);                                  </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1305                      if (testField != null) {                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1306                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1307                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1308                  }                                                                                                 </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1309                  String testProperty = prefix + propertyName;                                                      </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1310                  if (testField == null) {                                                                          </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1311                      testField = getFieldManager().getField(targetClass, testProperty);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1312                  }                                                                                                 </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1313                  if (testField == null) {                                                                          </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1314                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1315                          testField = getFieldManager().getField(clazz, testProperty);                              </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1316                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1317                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1318                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1319                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1320                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1321              }                                                                                                     </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1322              response = determineExclusionForField(parentClasses, targetClass, testField);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1323          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1324          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1325      }                                                                                                             </span>
<span  style="">1326                                                                                                                    </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1327      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1327      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testFieðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1328          Boolean response = false;                                                                                 </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1329          if (testField != null) {                                                                                  </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1330              Class&lt;?&gt; testType = testField.getType();                                                              </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1331              for (Class&lt;?&gt; parentClass : parentClasses) {                                                          </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1332                  if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {           </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1333                      response = true;                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1334                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1335                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1336              }                                                                                                     </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style="">1337              if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {</span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1338                  response = true;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1339              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1340          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1341          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1342      }                                                                                                             </span>
<span  style="">1343                                                                                                                    </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1344      protected void buildBasicProperty(                                                                            </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1345              Field field,                                                                                          </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1346              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1347              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1348              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1349              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1350              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1351              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1352              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1353              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1354              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1355              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1356              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1357              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1358              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1359              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1360              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1361              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1362              Boolean isParentExcluded,                                                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1363              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1364              Type type,                                                                                            </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1365              boolean propertyForeignKey,                                                                           </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1366              int additionalForeignKeyIndexPosition,                                                                </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1367              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1368              String parentPrefix) {                                                                                </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1369          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                           </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1370          Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);                  </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1371          Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,           </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1372 -            ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                               </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1373 +                ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                           </span>
<span  style="">1374                                                                                                                    </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1375          SupportedFieldType explicitType = null;                                                                   </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1376          if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {               </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1377              explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1378          }                                                                                                         </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1379          Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                         </span>
<span class="15802144221223394" onmouseenter="enter('15802144221223394');" onmouseout="out('15802144221223394');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1380 -        checkProp: {                                                                                              </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1381 +        checkProp:                                                                                                </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1382 +        {                                                                                                         </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1383              if (type.isComponentType() &amp;&amp; includeField) {                                                         </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1384                  buildComponentProperties(                                                                         </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1385 -                    targetClass,                                                                                  </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1386 -                    foreignField,                                                                                 </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1387 -                    additionalForeignFields,                                                                      </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1388 -                    additionalNonPersistentProperties,                                                            </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1389 -                    mergedPropertyType,                                                                           </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1390 -                    fields,                                                                                       </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1391 -                    idProperty,                                                                                   </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1392 -                    populateManyToOneFields,                                                                      </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1393 -                    includeFields,                                                                                </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1394 -                    excludeFields,                                                                                </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1395 -                    configurationKey,                                                                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1396 -                    ceilingEntityFullyQualifiedClassname,                                                         </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1397 -                    propertyName,                                                                                 </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1398 -                    type,                                                                                         </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1399 -                    returnedClass,                                                                                </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1400 -                    parentClasses,                                                                                </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1401 -                    amIExcluded,                                                                                  </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1402 -                    prefix,                                                                                       </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1403 +                        targetClass,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1404 +                        foreignField,                                                                             </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1405 +                        additionalForeignFields,                                                                  </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1406 +                        additionalNonPersistentProperties,                                                        </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1407 +                        mergedPropertyType,                                                                       </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1408 +                        fields,                                                                                   </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1409 +                        idProperty,                                                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1410 +                        populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1411 +                        includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1412 +                        excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1413 +                        configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1414 +                        ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1415 +                        propertyName,                                                                             </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1416 +                        type,                                                                                     </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1417 +                        returnedClass,                                                                            </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1418 +                        parentClasses,                                                                            </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1419 +                        amIExcluded,                                                                              </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1420 +                        prefix,                                                                                   </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1421                          parentPrefix);                                                                            </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1422                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1423              }                                                                                                     </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1424              /*                                                                                                    </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1425               * Currently we do not support ManyToOne fields whose class type is the same                          </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1426               * as the target type, since this forms an infinite loop and will cause a stack overflow.             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1427               */                                                                                                   </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1428              if (                                                                                                  </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1429 -                type.isEntityType() &amp;&amp;                                                                            </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1430 -                !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                                                   </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1431 -                populateManyToOneFields &amp;&amp;                                                                        </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1432 -                includeField                                                                                      </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1433 -            ) {                                                                                                   </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1434 +                    type.isEntityType() &amp;&amp;                                                                        </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1435 +                            !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                                       </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1436 +                            populateManyToOneFields &amp;&amp;                                                            </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1437 +                            includeField                                                                          </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1438 +                    ) {                                                                                           </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1439                  buildEntityProperties(                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1440 -                    fields,                                                                                       </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1441 -                    foreignField,                                                                                 </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1442 -                    additionalForeignFields,                                                                      </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1443 -                    additionalNonPersistentProperties,                                                            </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1444 -                    populateManyToOneFields,                                                                      </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1445 -                    includeFields,                                                                                </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1446 -                    excludeFields,                                                                                </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1447 -                    configurationKey,                                                                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1448 -                    ceilingEntityFullyQualifiedClassname,                                                         </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1449 -                    propertyName,                                                                                 </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1450 -                    returnedClass,                                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1451 -                    targetClass,                                                                                  </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1452 -                    parentClasses,                                                                                </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1453 -                    prefix,                                                                                       </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1454 -                    amIExcluded,                                                                                  </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1455 -                    parentPrefix                                                                                  </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1456 +                        fields,                                                                                   </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1457 +                        foreignField,                                                                             </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1458 +                        additionalForeignFields,                                                                  </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1459 +                        additionalNonPersistentProperties,                                                        </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1460 +                        populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1461 +                        includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1462 +                        excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1463 +                        configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1464 +                        ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1465 +                        propertyName,                                                                             </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1466 +                        returnedClass,                                                                            </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1467 +                        targetClass,                                                                              </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1468 +                        parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1469 +                        prefix,                                                                                   </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1470 +                        amIExcluded,                                                                              </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1471 +                        parentPrefix                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1472                  );                                                                                                </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1473                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1474              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1475          }                                                                                                         </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1476          //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key         </span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1477          if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {                       </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1478              defaultFieldMetadataProvider.addMetadataFromFieldType(                                                </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style="">1479                      new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,</span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style="">1480                              mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,      </span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style="">1481                              propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,        </span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1482                              presentationAttribute, explicitType, returnedClass, this), fields);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1483          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1484      }                                                                                                             </span>
<span  style="">1485                                                                                                                    </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1486      protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) {          </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1487          boolean isPropertyForeignKey = false;                                                                     </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1488          if (foreignField != null) {                                                                               </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1489              isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1490          }                                                                                                         </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1491          return isPropertyForeignKey;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1492      }                                                                                                             </span>
<span  style="">1493                                                                                                                    </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1494      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1494      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String properðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1495          int additionalForeignKeyIndexPosition = -1;                                                               </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1496          if (additionalForeignFields != null) {                                                                    </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1497              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1497              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefixðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1498                  @Override                                                                                         </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1499                  public int compare(ForeignKey o1, ForeignKey o2) {                                                </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1500                      return o1.getManyToField().compareTo(o2.getManyToField());                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1501                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1502              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1503          }                                                                                                         </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1504          return additionalForeignKeyIndexPosition;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1505      }                                                                                                             </span>
<span  style="">1506                                                                                                                    </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1507      protected void buildEntityProperties(                                                                         </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1508              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1509              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1510              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1511              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1512              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1513              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1514              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1515              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1516              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1517              String propertyName,                                                                                  </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1518              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1519              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1520              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1521              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1522              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1523              String parentPrefix) {                                                                                </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1524          Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);                     </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1525          List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                                   </span>
<span  style="">1526                                                                                                                    </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1527          for (Class&lt;?&gt; parentClass : parentClasses) {                                                              </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1528              clonedParentClasses.add(parentClass);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1529          }                                                                                                         </span>
<span  style="">1530                                                                                                                    </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1531          clonedParentClasses.add(targetClass);                                                                     </span>
<span  style="">1532                                                                                                                    </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1533          Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1534 -            ceilingEntityFullyQualifiedClassname,                                                                 </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1535 -            polymorphicEntities,                                                                                  </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1536 -            foreignField,                                                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1537 -            additionalNonPersistentProperties,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1538 -            additionalForeignFields,                                                                              </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1539 -            MergedPropertyType.PRIMARY,                                                                           </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1540 -            populateManyToOneFields,                                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1541 -            includeFields,                                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1542 -            excludeFields,                                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1543 -            configurationKey,                                                                                     </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1544 -            clonedParentClasses,                                                                                  </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1545 -            prefix + propertyName + &#x27;.&#x27;,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1546 -            isParentExcluded,                                                                                     </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1547 -            parentPrefix);                                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1548 +                ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1549 +                polymorphicEntities,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1550 +                foreignField,                                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1551 +                additionalNonPersistentProperties,                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1552 +                additionalForeignFields,                                                                          </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1553 +                MergedPropertyType.PRIMARY,                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1554 +                populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1555 +                includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1556 +                excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1557 +                configurationKey,                                                                                 </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1558 +                clonedParentClasses,                                                                              </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1559 +                prefix + propertyName + &#x27;.&#x27;,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1560 +                isParentExcluded,                                                                                 </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1561 +                parentPrefix);                                                                                    </span>
<span  style="">1562                                                                                                                    </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1563          final String targetClassName = targetClass.getName();                                                     </span>
<span  style="">1564                                                                                                                    </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1565          for (FieldMetadata newMetadata : newFields.values()) {                                                    </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1566              newMetadata.setInheritedFromType(targetClassName);                                                    </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1567              newMetadata.setAvailableToTypes(new String[]{targetClassName});                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1568          }                                                                                                         </span>
<span  style="">1569                                                                                                                    </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1570          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                             </span>
<span  style="">1571                                                                                                                    </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1572          for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                                  </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1573              final FieldMetadata fieldMetadata = newField.getValue();                                              </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1574              final String key = newField.getKey();                                                                 </span>
<span  style="">1575                                                                                                                    </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1576              convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                         </span>
<span  style="">1577                                                                                                                    </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1578              if (fieldMetadata instanceof BasicFieldMetadata) {                                                    </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1579                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1579                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata)ðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1580                      Class&lt;?&gt; validatorImpl = null;                                                                </span>
<span  style="">1581                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1582                      try {                                                                                         </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1583                          validatorImpl = Class.forName(validationConfigurations.getKey());                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1584                      } catch (ClassNotFoundException e) {                                                          </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1585                          Object bean = applicationContext.getBean(validationConfigurations.getKey());              </span>
<span  style="">1586                                                                                                                    </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1587                          if (bean != null) {                                                                       </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1588                              validatorImpl = bean.getClass();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1589                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1590                      }                                                                                             </span>
<span  style="">1591                                                                                                                    </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1592                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1592                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl))ðŸ”µ</abbr></span>
<span class="6499969559533890178" onmouseenter="enter('6499969559533890178');" onmouseout="out('6499969559533890178');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1593 -                        for (Map&lt;String, String&gt; configs  : validationConfigurations.getValue()) {                </span>
<span class="5300576794627672643" onmouseenter="enter('5300576794627672643');" onmouseout="out('5300576794627672643');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1594 +                        for (Map&lt;String, String&gt; configs : validationConfigurations.getValue()) {                 </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1595                              for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                         </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1596                                  final String value = config.getValue();                                           </span>
<span  style="">1597                                                                                                                    </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1598                                  if (newFields.containsKey(value)) {                                               </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1599                                      config.setValue(propertyName + &quot;.&quot; + value);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1600                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1601                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1602                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1603                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1604                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1605              }                                                                                                     </span>
<span  style="">1606                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1607              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1608                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1609              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1610          }                                                                                                         </span>
<span  style="">1611                                                                                                                    </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1612          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1613      }                                                                                                             </span>
<span  style="">1614                                                                                                                    </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1615      protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                                 </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1616          return fieldMetadata instanceof BasicCollectionMetadata                                                   </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="1617 -               &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1617 -               &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="1618 -               &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1618 -               &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveIðŸ”µ</abbr></span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="1619 +                &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1619 +                &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectivðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="1620 +                &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1620 +                &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1621      }                                                                                                             </span>
<span  style="">1622                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1623      /*                                                                                                            </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1624       * There may be multiple pathways to this foreign key which may have come from a cached source.               </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1625       * Since ForeignKey contains an originating field concept that is occurrence specific, we need                </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1626       * to make sure it is set appropriately here.                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1627       *                                                                                                            </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1628       * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                                  </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1629       * owningSite.embeddableMultitenantSite.adminUsers.                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1630       */                                                                                                           </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1631      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1631      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) ðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1632          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1632          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective()ðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1633          foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1634      }                                                                                                             </span>
<span  style="">1635                                                                                                                    </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1636      protected void buildComponentProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1637              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1638              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1639              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1640              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1641              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1642              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1643              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1644              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1645              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1646              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1647              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1648              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1649              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1650              Type type,                                                                                            </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1651              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1652              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1653              Boolean isParentExcluded,                                                                             </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1654              String prefix,                                                                                        </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1655              String parentPrefix) {                                                                                </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1656          String[] componentProperties = ((ComponentType) type).getPropertyNames();                                 </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1657          List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                                 </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1658          Type[] componentTypes = ((ComponentType) type).getSubtypes();                                             </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1659          List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                                        </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1660          String tempPrefix = &quot;&quot;;                                                                                   </span>
<span  style="">1661                                                                                                                    </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1662          int pos = prefix.indexOf(&quot;.&quot;);                                                                            </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1663          final int prefixLength = prefix.length();                                                                 </span>
<span  style="">1664                                                                                                                    </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1665          if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                                  </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1666              //only use part of the prefix if it&#x27;s more than one layer deep                                        </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1667              tempPrefix = prefix.substring(pos + 1, prefixLength);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1668          }                                                                                                         </span>
<span  style="">1669                                                                                                                    </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1670          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1670          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targeðŸ”µ</abbr></span>
<span  style="">1671                                                                                                                    </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1672          if (isParentExcluded) {                                                                                   </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1673              for (String key : componentPresentationAttributes.keySet()) {                                         </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style="">1674                  LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);      </span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1675                  componentPresentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1676              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1677          }                                                                                                         </span>
<span  style="">1678                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1679          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1680          Property property;                                                                                        </span>
<span  style="">1681                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1682          try {                                                                                                     </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1683              property = persistentClass.getProperty(propertyName);                                                 </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1684          } catch (MappingException e) {                                                                            </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1685              property = persistentClass.getProperty(prefix + propertyName);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1686          }                                                                                                         </span>
<span  style="">1687                                                                                                                    </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1688          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1688          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyItðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1689          List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style="">1690                                                                                                                    </span>
<span class="-2689271164948138423" onmouseenter="enter('-2689271164948138423');" onmouseout="out('-2689271164948138423');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1691 -        while(componentPropertyIterator.hasNext()) {                                                              </span>
<span class="-2749908704638528550" onmouseenter="enter('-2749908704638528550');" onmouseout="out('-2749908704638528550');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1692 +        while (componentPropertyIterator.hasNext()) {                                                             </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1693              componentPropertyList.add((Property) componentPropertyIterator.next());                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1694          }                                                                                                         </span>
<span  style="">1695                                                                                                                    </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1696          Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                                   </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1697          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1698 -            targetClass,                                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1699 -            foreignField,                                                                                         </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1700 -            additionalForeignFields,                                                                              </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1701 -            additionalNonPersistentProperties,                                                                    </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1702 -            mergedPropertyType,                                                                                   </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1703 -            componentPresentationAttributes,                                                                      </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1704 -            componentPropertyList,                                                                                </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1705 -            newFields,                                                                                            </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1706 -            componentPropertyNames,                                                                               </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1707 -            componentPropertyTypes,                                                                               </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1708 -            idProperty,                                                                                           </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1709 -            populateManyToOneFields,                                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1710 -            includeFields,                                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1711 -            excludeFields,                                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1712 -            configurationKey,                                                                                     </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1713 -            ceilingEntityFullyQualifiedClassname,                                                                 </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1714 -            parentClasses,                                                                                        </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1715 -            propertyName + &quot;.&quot;,                                                                                   </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1716 -            isParentExcluded,                                                                                     </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1717 -            true,                                                                                                 </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1718 -            parentPrefix + prefix                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1719 +                targetClass,                                                                                      </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1720 +                foreignField,                                                                                     </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1721 +                additionalForeignFields,                                                                          </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1722 +                additionalNonPersistentProperties,                                                                </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1723 +                mergedPropertyType,                                                                               </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1724 +                componentPresentationAttributes,                                                                  </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1725 +                componentPropertyList,                                                                            </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1726 +                newFields,                                                                                        </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1727 +                componentPropertyNames,                                                                           </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1728 +                componentPropertyTypes,                                                                           </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1729 +                idProperty,                                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1730 +                populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1731 +                includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1732 +                excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1733 +                configurationKey,                                                                                 </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1734 +                ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1735 +                parentClasses,                                                                                    </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1736 +                propertyName + &quot;.&quot;,                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1737 +                isParentExcluded,                                                                                 </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1738 +                true,                                                                                             </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1739 +                parentPrefix + prefix                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1740          );                                                                                                        </span>
<span  style="">1741                                                                                                                    </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1742          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                             </span>
<span  style="">1743                                                                                                                    </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1744          for (String key : newFields.keySet()) {                                                                   </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1745              final FieldMetadata fieldMetadata = newFields.get(key);                                               </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1746              convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                         </span>
<span  style="">1747                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1748              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1749                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1750              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1751          }                                                                                                         </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1752          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1753      }                                                                                                             </span>
<span  style="">1754                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1755      @Override                                                                                                     </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1756      public EntityManager getStandardEntityManager() {                                                             </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1757          return standardEntityManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1758      }                                                                                                             </span>
<span  style="">1759                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1760      @Override                                                                                                     </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1761      public void setStandardEntityManager(EntityManager entityManager) {                                           </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1762          this.standardEntityManager = entityManager;                                                               </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="">1763          fieldManager = new FieldManager(entityConfiguration, entityManager);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1764      }                                                                                                             </span>
<span  style="">1765                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1766      @Override                                                                                                     </span>
<span class="-1836320114515389477" onmouseenter="enter('-1836320114515389477');" onmouseout="out('-1836320114515389477');" style="">1767      public EJB3ConfigurationDao getEjb3ConfigurationDao() {                                                       </span>
<span class="-8000483836684887897" onmouseenter="enter('-8000483836684887897');" onmouseout="out('-8000483836684887897');" style="">1768          return ejb3ConfigurationDao;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1769      }                                                                                                             </span>
<span  style="">1770                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1771      @Override                                                                                                     </span>
<span class="9196879559471119195" onmouseenter="enter('9196879559471119195');" onmouseout="out('9196879559471119195');" style="">1772      public void setEjb3ConfigurationDao(EJB3ConfigurationDao ejb3ConfigurationDao) {                              </span>
<span class="-5891628767648400673" onmouseenter="enter('-5891628767648400673');" onmouseout="out('-5891628767648400673');" style="">1773          this.ejb3ConfigurationDao = ejb3ConfigurationDao;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1774      }                                                                                                             </span>
<span  style="">1775                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1776      @Override                                                                                                     </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1777      public FieldManager getFieldManager() {                                                                       </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1778 +        return this.getFieldManager(true);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1779 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1780 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1781 +    @Override                                                                                                     </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1782 +    public FieldManager getFieldManager(boolean cleanFieldManager) {                                              </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="">1783          if (fieldManager == null) {                                                                               </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="">1784              //keep in mind that getStandardEntityManager() can return null, this is in general OK,                </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="">1785              // we re-init fieldManager in setStandardEntityManager method                                         </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="">1786              fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">1787 -        } else {                                                                                                  </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">1788 +        } else if (cleanFieldManager){                                                                            </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="">1789              fieldManager.clearMiddleFields();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1790          }                                                                                                         </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="">1791          return fieldManager;                                                                                      </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1792      }                                                                                                             </span>
<span  style="">1793                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1794      @Override                                                                                                     </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1795      public EntityConfiguration getEntityConfiguration() {                                                         </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1796          return entityConfiguration;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1797      }                                                                                                             </span>
<span  style="">1798                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1799      @Override                                                                                                     </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1800      public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                                 </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1801          this.entityConfiguration = entityConfiguration;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1802      }                                                                                                             </span>
<span  style="">1803                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1804      @Override                                                                                                     </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1805      public Metadata getMetadata() {                                                                               </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1806          return metadata;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1807      }                                                                                                             </span>
<span  style="">1808                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1809      @Override                                                                                                     </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1810      public void setMetadata(Metadata metadata) {                                                                  </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1811          this.metadata = metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1812      }                                                                                                             </span>
<span  style="">1813                                                                                                                    </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1814      public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                              </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1815          return fieldMetadataProviders;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1816      }                                                                                                             </span>
<span  style="">1817                                                                                                                    </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1818      public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {                   </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1819          this.fieldMetadataProviders = fieldMetadataProviders;                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1820      }                                                                                                             </span>
<span  style="">1821                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1822      @Override                                                                                                     </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1823      public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                              </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1824          return defaultFieldMetadataProvider;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1825      }                                                                                                             </span>
<span  style="">1826                                                                                                                    </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1827      public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {             </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1828          this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1829      }                                                                                                             </span>
<span  style="">1830                                                                                                                    </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1831      protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                            </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1832          return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1833      }                                                                                                             </span>
<span  style="">1834                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1835      @Override                                                                                                     </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1836      public DynamicDaoHelper getDynamicDaoHelper() {                                                               </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1837          return dynamicDaoHelper;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1838      }                                                                                                             </span>
<span  style="">1839                                                                                                                    </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1840      public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                          </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1841          this.dynamicDaoHelper = dynamicDaoHelper;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1842      }                                                                                                             </span>
<span  style="">1843                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1844  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            